:root {
  --screen-width: 350px;
  --screen-height: 650px;
  --secondary-bg: #ffffff;
  --border-color: #e0e0e0;
  --text-primary: #1f1f1f;
  --text-secondary: #8a8a8a;
  --accent-color: #007bff;
  --status-bar-text-color: var(--accent-color);
}
/* 笆ｼ笆ｼ笆ｼ 逕ｨ霑吝摎扈域栫莉｣遐�ｼ梧崛謐｢謗我ｽ�邇ｰ譛臥噪 html 蜥� body 譬ｷ蠑� 笆ｼ笆ｼ笆ｼ */
html {
  -webkit-text-size-adjust: 100%;
  height: 100%; /* 遑ｮ菫拮tml蜈�ｴ�荵溯�謦第ｻ｡ */
}

body {
  margin: 0;
  font-family: 'bulangni', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
  font-weight: normal;
  background-color: #f0f2f5;
  height: 100%; /* 隶ｩbody荵滓酎貊｡辷ｶ蜈�ｴ�(html) */
  overflow: hidden; /* 髦ｲ豁｢body譛ｬ霄ｫ蜃ｺ邇ｰ貊壼勘譚｡ */
}
/* 笆ｲ笆ｲ笆ｲ 譖ｿ謐｢扈捺據 笆ｲ笆ｲ笆ｲ */

/* 2. 隶ｩ #phone-screen 謌蝉ｸｺ譁ｰ逧�懈�ｹ窶晏ｮｹ蝎ｨ�梧酎貊｡謨ｴ荳ｪ豬剰ｧ亥勣遯怜哨 */
/* 笆ｼ笆ｼ笆ｼ 隸ｷ逕ｨ霑吝摎縲先怙扈井ｿｮ豁｣迚医醍噪莉｣遐�ｼ梧崛謐｢謗我ｽ�邇ｰ譛臥噪 #phone-screen 譬ｷ蠑� 笆ｼ笆ｼ笆ｼ */
#phone-screen {
  width: 100%;
  height: 100vh;
  position: relative;
  overflow: hidden;
  display: flex;
  flex-direction: column;
  background-color: #ffffff; /* 笘� 菫ｮ謾ｹ霑咎㈹荳ｺ逋ｽ濶ｲ */
}
/* 笆ｲ笆ｲ笆ｲ 譖ｿ謐｢扈捺據 笆ｲ笆ｲ笆ｲ */

/* 3. 縲先�ｸ蠢�鷹嚼阯乗脂讓｡諡溷勣逧�憾諤∵�� */
#status-bar {
  display: none;
}

/* 4. 縲先�ｸ蠢�題ｮｩ謇譛蛾｡ｵ髱｢逧�､ｴ驛ｨ閾ｪ蜉ｨ騾ょｺ琶Phone逧�懷�豬ｷ窶晏ｮ牙�蛹ｺ */
.header,
.qzone-header {
  /* 菴ｿ逕ｨ env(safe-area-inset-top) 閾ｪ蜉ｨ闔ｷ蜿夜｡ｶ驛ｨ螳牙�霍晉ｦｻ */
  padding-top: calc(15px + env(safe-area-inset-top));
}

/* 5. 縲先�ｸ蠢�題ｮｩ閨雁､ｩ霎灘�譯�柱蠎暮Κ蟇ｼ闊ｪ譬剰�蜉ｨ騾ょｺ琶Phone蠎暮Κ逧�懷ｰ城ｻ第擅窶晏ｮ牙�蛹ｺ */
#chat-input-area {
  padding-bottom: calc(8px + env(safe-area-inset-bottom));
}

#chat-list-bottom-nav {
  padding-bottom: env(safe-area-inset-bottom);
}

/* 笆ｲ笆ｲ笆ｲ 譖ｿ謐｢扈捺據 笆ｲ笆ｲ笆ｲ */

/* 菫ｮ謾ｹ蜷守噪莉｣遐∝摎 */
/* 笆ｼ笆ｼ笆ｼ 逕ｨ霑呎紛蝮励仙庄辷ｱ蝨�ｶｦ迚医台ｻ｣遐�ｼ梧崛謐｢謗画園譛画立逧� status-bar 蜥� battery 譬ｷ蠑� 笆ｼ笆ｼ笆ｼ */

#status-bar {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  padding: 12px 20px;
  display: none;
  justify-content: space-between;
  align-items: center;
  color: var(--accent-color); /* 笘� 菫ｮ謾ｹ�夂憾諤∵�乗枚蟄�/蝗ｾ譬�｢懆牡�檎鴫蝨ｨ莨夊ｷ滄囂荳ｻ鬚倩牡�� */
  z-index: 10;
  font-size: 14px;
  box-sizing: border-box;
  pointer-events: none;
  /* 笘� 譁ｰ蠅橸ｼ壻ｽｿ逕ｨ菴�逧��螳壻ｹ牙ｭ嶺ｽ難ｼ悟ｹｶ蜉�荳頑沐蜥檎噪蜈画剳�瑚ｮｩ螳�峩蜿ｯ辷ｱ */
  font-family: 'bulangni', sans-serif;
  text-shadow: 0 0 8px rgba(255, 255, 255, 0.5);
}

#status-bar-time {
  font-weight: 600;
}

.battery-container {
  display: flex;
  align-items: center;
  gap: 5px;
}

.battery-icon {
  width: 25px;
  height: 12px;
  border: 1.5px solid currentColor; /* 笘� 霎ｹ譯�刈邊嶺ｸ轤ｹ轤ｹ */
  border-radius: 5px; /* 笘� 菫ｮ謾ｹ�壼｢槫刈蝨�ｧ抵ｼ瑚ｮｩ螳�峩蝨�ｶｦ蜿ｯ辷ｱ */
  position: relative;
  padding: 1px;
}

.battery-icon::after {
  content: '';
  position: absolute;
  right: -4px; /* 蠕ｮ隹�ｽ咲ｽｮ */
  top: 2.5px;
  width: 2px;
  height: 5px;
  background-color: currentColor;
  border-radius: 0 2px 2px 0; /* 笘� 螟ｴ驛ｨ蟆丞摎荵溷序蝨�ｶｦ */
}

.battery-level {
  height: 100%;
  background-color: currentColor; /* 笘� 鮟倩ｮ､蝪ｫ蜈�牡荵溯ｷ滄囂荳ｻ鬚倩牡 */
  border-radius: 3px; /* 笘� 蜀�Κ蝪ｫ蜈�擅荵溷序蝨�ｶｦ */
  transition: width 0.5s ease;
}

/* 笘� 譬ｸ蠢�ｿｮ謾ｹ�夊ｮｩ蜈�鳩譌ｶ荵滓仞遉ｺ荳ｻ鬚倩牡�� */
.battery-container.charging .battery-level {
  animation: charge-breath 2s infinite;
}
@keyframes charge-breath {
  0%,
  100% {
    opacity: 1;
  }
  50% {
    opacity: 0.7;
  }
}
/* 笆ｲ笆ｲ笆ｲ 譖ｿ謐｢扈捺據 笆ｲ笆ｲ笆ｲ */
/* 笆ｼ笆ｼ笆ｼ 縲千ｻ域栫菫ｮ豁｣迚医題ｯｷ逕ｨ霑吝摎莉｣遐∝ｮ梧紛譖ｿ謐｢謗画園譛画立逧� .screen 譬ｷ蠑� 笆ｼ笆ｼ笆ｼ */
.screen {
  position: absolute;
  top: 0;
  left: 0;
  right: 0; /* 笘� 譁ｰ蠅� */
  bottom: 0; /* 笘� 譁ｰ蠅� */
  width: 100%; /* 菫晉蕗 */
  /* height: 100%; */ /* 笘� 豕ｨ驥頑�蛻�髯､謗芽ｿ吩ｸ陦� */

  display: flex;
  flex-direction: column;
  overflow: hidden;
  opacity: 0;
  visibility: hidden;
  transition: opacity 0.3s, visibility 0.3s;
}
/* 笆ｲ笆ｲ笆ｲ 譖ｿ謐｢扈捺據 笆ｲ笆ｲ笆ｲ */
/* 笆ｲ笆ｲ笆ｲ 譖ｿ謐｢扈捺據 笆ｲ笆ｲ笆ｲ */
/* 笆ｲ笆ｲ笆ｲ 譖ｿ謐｢扈捺據 笆ｲ笆ｲ笆ｲ */

.screen.active {
  opacity: 1;
  visibility: visible;
  z-index: 1;
}
.header {
  position: relative;
  z-index: 15;
  flex-shrink: 0;
  padding: 15px 15px;
  padding-top: 45px;
  background-color: rgba(247, 247, 247, 0.8);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  border-bottom: 1px solid var(--border-color);
  display: flex;
  justify-content: space-between;
  align-items: center;
  font-size: 18px;
  font-weight: 600;

  /* 笆ｼ笆ｼ笆ｼ 譁ｰ蠅樔ｸ矩擇霑吩ｸ､陦� 笆ｼ笆ｼ笆ｼ */
  height: 110px; /* 笘� 譁ｰ蠅橸ｼ壼ｼｺ蛻ｶ隶ｾ鄂ｮ荳荳ｪ扈滉ｸ逧�ｫ伜ｺｦ */
  box-sizing: border-box; /* 笘� 譁ｰ蠅橸ｼ夂｡ｮ菫晞ｫ伜ｺｦ隶｡邂怜桁蜷ｫ蜀�ｾｹ霍� */
  /* 笆ｲ笆ｲ笆ｲ 譁ｰ蠅樒ｻ捺據 笆ｲ笆ｲ笆ｲ */
}

.header .header-actions {
  display: flex;
  align-items: center;
  gap: 5px;
}
/* 笆ｼ笆ｼ笆ｼ 縲占ｧｦ鞫ｸ蛹ｺ蝓滉ｼ伜喧迚医第崛謐｢譌ｧ逧� .header .back-btn, .header .action-btn 譬ｷ蠑� 笆ｼ笆ｼ笆ｼ */
.header .back-btn,
.header .action-btn {
  font-size: 24px; /* 菫晄戟蝗ｾ譬�､ｧ蟆丈ｸ榊序 */
  cursor: pointer;
  color: var(--accent-color);
  display: flex;
  align-items: center;
  justify-content: center;

  /* --- 譬ｸ蠢�ｿｮ謾ｹ莉手ｿ咎㈹蠑蟋� --- */
  width: 40px; /* 1. 蟆�潔髓ｮ螳ｽ蠎ｦ莉�30px蠅槫刈蛻ｰ40px */
  height: 40px; /* 2. 蟆�潔髓ｮ鬮伜ｺｦ莉�30px蠅槫刈蛻ｰ40px */
  border-radius: 50%; /* 3. (蜿ｯ騾我ｽ�耳闕�) 隶ｩ謖蛾聴蜿俶�蝨�ｽ｢�梧峩鄒手ｧ� */
  transition: background-color 0.2s; /* 4. 荳ｺ謔ｬ蛛懈譜譫懈ｷｻ蜉�蟷ｳ貊大勘逕ｻ */
}

/* 縲先眠蠅槭台ｸｺ謖蛾聴豺ｻ蜉�謔ｬ蛛�/轤ｹ蜃ｻ譌ｶ逧�レ譎ｯ濶ｲ�檎ｻ咏畑謌ｷ譏守｡ｮ逧�渚鬥� */
.header .back-btn:hover,
.header .action-btn:hover {
  background-color: rgba(0, 0, 0, 0.05); /* 鮠�譬�叛荳雁悉譌ｶ扈吩ｸ荳ｪ豺｡豺｡逧�レ譎ｯ */
}
#phone-screen.dark-mode .header .back-btn:hover,
#phone-screen.dark-mode .header .action-btn:hover {
  background-color: rgba(255, 255, 255, 0.1); /* 螟憺龍讓｡蠑丈ｸ狗噪謔ｬ蛛憺｢懆牡 */
}
/* 笆ｲ笆ｲ笆ｲ 譖ｿ謐｢扈捺據 笆ｲ笆ｲ笆ｲ */

.header .action-btn {
  font-size: 16px; /* 荳馴葎荳ｺ窶應ｸ贋ｼ�窶昴≫�+窶晉ｭ画枚蟄玲潔髓ｮ郛ｩ蟆丞ｭ怜捷 */
  font-weight: 600; /* 蜿ｯ莉･蜉�邊嶺ｸ轤ｹ隶ｩ螳�峩貂�匆 */
}

.header .action-btn img {
  height: 26px;
}
.header .save-btn {
  font-size: 16px;
  color: var(--accent-color);
  font-weight: 600;
  cursor: pointer;
}
/* 笆ｼ笆ｼ笆ｼ 縲千ｻ域栫蜷亥ｹｶ菫ｮ豁｣迚医題ｯｷ逕ｨ霑吝摎莉｣遐∝ｮ梧紛譖ｿ謐｢謗画立逧� #home-screen, #clock-container, .app-grid 譬ｷ蠑� 笆ｼ笆ｼ笆ｼ */

/* 1. (譬ｸ蠢�) 荳ｺ髞∝ｱ丞柱荳ｻ螻丞ｹ募ｺ皮畑逶ｸ蜷檎噪蜈ｨ螻丞ｸ�ｱ (豁､驛ｨ蛻�ｿ晄戟荳榊序) */
#lock-screen,
#home-screen {
  display: flex;
  flex-direction: column;
  width: 100%;
  height: 100%;
  background-size: cover;
  background-position: center;

  /* 逕ｨpadding謚雁�螳ｹ謖､霑帶擂�悟酔譌ｶ隶ｩ閭梧勹體ｺ貊｡螳牙�蛹ｺ */
  padding-top: env(safe-area-inset-top);
  padding-bottom: env(safe-area-inset-bottom);
  padding-left: 20px;
  padding-right: 20px;

  box-sizing: border-box;
}

/* 2. (譬ｸ蠢�) 蜊慕峡螟�炊髞∝ｱ冗噪譁�ｭ暦ｼ瑚ｮｩ螳��蜉ｨ雍ｴ蠎� (霑呎弍譛ｬ谺｡逧�髪荳菫ｮ謾ｹ) */
#lock-screen-content {
  margin-top: auto; /* 蜈ｳ髞ｮ�夊�蜉ｨ蟆�ｭ､蜈�ｴ�謗ｨ蛻ｰ螳ｹ蝎ｨ蠎暮Κ */
  margin-bottom: 40px; /* 笘� 譬ｸ蠢�ｿｮ豁｣�壻ｽｿ逕ｨ margin-bottom 蜷台ｸ頑耳蠑�瑚御ｸ肴弍padding */
  text-align: center;
  color: white;
  text-shadow: 0 2px 6px rgba(0, 0, 0, 0.5);
  font-size: 16px;
  font-weight: 500;
}

/* 3. 菫晄戟荳ｻ螻丞ｹ慕噪譌ｶ髓溷柱App蝗ｾ譬�ｸ�ｱ荳榊序 */
#clock-container {
  text-align: center;
  color: white;
  text-shadow: 0 3px 8px rgba(0, 0, 0, 0.4);
  margin-bottom: 20px;
  flex-shrink: 0;
  margin-top: 60px;
}
.app-grid {
  margin-top: auto;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 20px;
  width: 100%;
  padding: 20px;
  margin-bottom: 30px;
}

/* 笆ｲ笆ｲ笆ｲ 譖ｿ謐｢扈捺據 笆ｲ笆ｲ笆ｲ */

.app-row {
  display: flex;
  justify-content: center;
  gap: 25px;
  width: 100%;
}
.app-icon {
  display: flex;
  flex-direction: column;
  align-items: center;
  cursor: pointer;
  color: white;
  text-shadow: 0 1px 3px rgba(0, 0, 0, 0.5);
  font-size: 14px;
  font-weight: 500;
  text-align: center;
}
.app-icon .icon-bg {
  width: 65px;
  height: 65px;
  border-radius: 18px;
  background-color: var(--secondary-bg);
  display: flex;
  justify-content: center;
  align-items: center;
  font-size: 32px;
  margin-bottom: 8px;
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
  transition: transform 0.2s ease;
  overflow: hidden;
}
.app-icon:active .icon-bg {
  transform: scale(0.9);
}
.app-icon .icon-bg img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}
.app-icon .label {
  color: white;
}
.form-container,
.list-container {
  padding: 20px;
  overflow-y: auto;
  flex-grow: 1;
  display: flex;
  flex-direction: column;
}
.form-group {
  margin-bottom: 20px;
}
.form-group label {
  display: block;
  margin-bottom: 8px;
  font-weight: 500;
  color: var(--text-secondary);
}
.form-group input,
.form-group select,
.form-group textarea {
  width: 100%;
  padding: 12px;
  border: 1px solid var(--border-color);
  border-radius: 8px;
  font-size: 16px;
  box-sizing: border-box;
}
.form-group textarea {
  min-height: 80px;
  resize: vertical;
}
#world-book-content-input {
  height: calc(100% - 120px);
}
.form-button {
  width: 100%;
  padding: 15px;
  background-color: var(--accent-color);
  color: white;
  border: none;
  border-radius: 8px;
  font-size: 16px;
  font-weight: 600;
  cursor: pointer;
  margin-top: 10px;
}
.form-button-secondary {
  background-color: #f0f0f0;
  color: var(--text-primary);
  border: 1px solid var(--border-color);
}
#wallpaper-screen .form-container {
  align-items: center;
}
#wallpaper-preview {
  width: 180px;
  height: 320px;
  border: 2px dashed var(--border-color);
  background-color: var(--secondary-bg);
  margin-bottom: 20px;
  background-size: cover;
  background-position: center;
  border-radius: 10px;
  display: flex;
  justify-content: center;
  align-items: center;
  color: var(--text-secondary);
}
#wallpaper-upload-input {
  display: none;
}
/* 菫ｮ謾ｹ蜷守噪 #world-book-list 譬ｷ蠑� */
/* 縲千ｻ域栫菫ｮ螟咲沿縲台ｸ也阜荵ｦ荳ｻ逡碁擇蛻苓｡ｨ譬ｷ蠑� */
#world-book-list {
  flex-grow: 1; /* 隶ｩ蛻苓｡ｨ蜊�謐ｮ謇譛牙黄菴咏噪蝙ら峩遨ｺ髣ｴ */
  overflow-y: auto; /* 蜀�ｮｹ雜��譌ｶ�瑚�蜉ｨ譏ｾ遉ｺ蝙ら峩貊壼勘譚｡ */
  min-height: 0; /* 隗｣蜀ｳFlex蟶�ｱ荳狗噪貊壼勘蜈ｼ螳ｹ諤ｧ髣ｮ鬚� */
  background-color: var(--secondary-bg); /* 菫晉蕗菴�蝟懈ｬ｢逧�レ譎ｯ濶ｲ */
  /* 謌台ｻｬ荳榊�髴隕� padding-top 蜥� margin-top 霑吩ｸ､荳ｪ謚蟾ｧ莠� */
}

/* 菫ｮ謾ｹ蜷守噪 #chat-list 譬ｷ蠑擾ｼ碁る�莠�OS蠎暮Κ螳牙�蛹ｺ */
#chat-list {
  flex-grow: 1;
  background-color: var(--secondary-bg);
  padding-top: 110px;
  /* 譬ｸ蠢�ｿｮ螟搾ｼ壼ｰ�ｺ暮Κ蜀�ｾｹ霍昜ｻ� 8px 蠅槫刈蛻ｰ 60px�御ｸｺ蟇ｼ闊ｪ譬冗蕗蜃ｺ雜ｳ螟溽ｩｺ髣ｴ */
  padding-bottom: calc(60px + env(safe-area-inset-bottom));
  box-sizing: border-box;
}

.list-item {
  display: flex;
  flex-direction: column;
  padding: 12px 20px;
  cursor: pointer;
  border-bottom: 1px solid var(--border-color);
}
.list-item:hover {
  background-color: #f5f5f5;
}
.list-item .item-title {
  font-weight: 500;
  font-size: 16px;
  margin-bottom: 5px;
}
.list-item .item-content {
  font-size: 14px;
  color: var(--text-secondary);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}
.chat-list-item {
  display: flex;
  align-items: center;
  padding: 10px 15px;
  cursor: pointer;
  border-bottom: 1px solid var(--border-color);
  position: relative;
}
.chat-list-item:hover {
  background-color: #f5f5f5;
}
.chat-list-item .avatar {
  width: 45px;
  height: 45px;
  border-radius: 50%;
  margin-right: 12px;
  object-fit: cover;
  background-color: #ccc;
}
.chat-list-item .info {
  flex-grow: 1;
  overflow: hidden;
}
.chat-list-item .name-line {
  display: flex;
  align-items: center;
  gap: 6px;
  margin-bottom: 2px;
}
.chat-list-item .name {
  font-weight: 500;
  color: var(--text-primary);
}
.chat-list-item .group-tag {
  font-size: 10px;
  color: var(--accent-color);
  background-color: #e7f3ff;
  padding: 2px 6px;
  border-radius: 4px;
  font-weight: bold;
  flex-shrink: 0;
}
.chat-list-item .last-msg {
  font-size: 13px;
  color: var(--text-secondary);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  max-width: 180px;
}
/* 菫ｮ謾ｹ蜷守噪莉｣遐� */
/* 笆ｼ笆ｼ笆ｼ 逕ｨ霑吝摎縲千ｻ域栫菫ｮ螟咲沿縲台ｻ｣遐�ｼ梧崛謐｢菴�譌ｧ逧� #chat-interface-screen 蜥� #chat-messages 譬ｷ蠑� 笆ｼ笆ｼ笆ｼ */

/* 1. 閨雁､ｩ螻丞ｹ墓ｻ螳ｹ蝎ｨ�夊ｮｩ螳��荳ｺ荳荳ｪ謦第ｻ｡螻丞ｹ慕噪Flex蛻怜ｸ�ｱ */
#chat-interface-screen {
  background-size: cover;
  background-position: center;
  display: flex; /* <-- 譬ｸ蠢�ｼ壼ｿ�｡ｻ譏ｯflex蟶�ｱ */
  flex-direction: column; /* <-- 譬ｸ蠢�ｼ壼ｭ仙�邏�蝙ら峩謗貞� */
  height: 100%; /* <-- 譬ｸ蠢�ｼ壽酎貊｡辷ｶ螳ｹ蝎ｨ */
  overflow: hidden; /* <-- 譬ｸ蠢�ｼ夐亟豁｢莉ｻ菴墓э螟匁ｺ｢蜃ｺ */
}

/* 2. 閨雁､ｩ豸域�蛹ｺ蝓滂ｼ夊ｮｩ螳��蜉ｨ蝪ｫ蜈�黄菴咏ｩｺ髣ｴ�瑚御ｸ肴弍蝗ｺ螳夐ｫ伜ｺｦ */
#chat-messages {
  flex-grow: 1; /* 笘��笘� 譛譛蜈ｳ髞ｮ逧�ｸ陦鯉ｼ∬ｮｩ螳��蜉ｨ莨ｸ郛ｩ�悟｡ｫ貊｡蜑ｩ菴咏ｩｺ髣ｴ 笘��笘� */
  min-height: 0; /* 荳荳ｪ逾槫･�噪菫晞勦荳晢ｼ瑚ｧ｣蜀ｳFlex蟶�ｱ荳狗噪貊壼勘蜈ｼ螳ｹ髣ｮ鬚� */
  overflow-y: auto; /* 蜀�ｮｹ雜��譌ｶ�悟�隶ｸ閾ｪ霄ｫ蝙ら峩貊壼勘 */
  overflow-x: hidden;
  padding: 10px 15px; /* 菫晉蕗闊帝ら噪蟾ｦ蜿ｳ蜀�ｾｹ霍� */
  box-sizing: border-box;

  /* 
     * 菫晉蕗菴�逧�､ｴ驛ｨ騾る�譁ｹ譯茨ｼ�
     * 荳ｺ鬘ｶ驛ｨ蜊企乗�逧�eader逡吝�遨ｺ髣ｴ�悟酔譌ｶ隶ｩ閭梧勹蝗ｾ閭ｽ騾丈ｸ雁悉縲�
     * 110px譏ｯheader逧�ｫ伜ｺｦ, -80px譏ｯ蜷台ｸ頑級逧�ｷ晉ｦｻ�御ｽ�蜿ｯ莉･譬ｹ謐ｮ菴�逧�eader譬ｷ蠑丞ｾｮ隹��
    */
  padding-top: 110px;
  margin-top: -80px;

  /* 菫晄戟蜀�Κ豸域�豌疲ｳ｡逧�lex蟶�ｱ */
  display: flex;
  flex-direction: column;
  gap: 20px;
}

/* 笆ｲ笆ｲ笆ｲ 譖ｿ謐｢扈捺據 笆ｲ笆ｲ笆ｲ */
#load-more-btn {
  text-align: center;
  padding: 10px;
  color: var(--accent-color);
  font-size: 14px;
  cursor: pointer;
  background-color: transparent;
  border: none;
  width: 100%;
}
#load-more-btn:hover {
  text-decoration: underline;
}

/* 笆ｼ笆ｼ笆ｼ 逕ｨ霑呎紛蝮励先怙扈井ｿｮ螟咲沿縲台ｻ｣遐�ｼ悟ｮ梧紛譖ｿ謐｢謇譛画立逧� .sender-name 譬ｷ蠑� 笆ｼ笆ｼ笆ｼ */

/* 1. 霑呎弍蜿鷹∬�ｿ｡諱ｯ陦� (蜷榊ｭ�+譬�ｭｾ) 逧�ｻ螳ｹ蝎ｨ */
/* 笆ｼ笆ｼ笆ｼ 縲千峡螳ｶ螳壼宛縲第亰遘ｰ/螟ｴ陦比ｸ顔ｧｻ菫ｮ螟� 笆ｼ笆ｼ笆ｼ */
/* 
  逕ｨ霑呎紛蝮嶺ｻ｣遐�ｼ悟ｮ梧紛譖ｿ謐｢謗我ｽ�譌ｧ逧� .group-sender-line 譬ｷ蠑上�
  螳�ｰ�滑蜷榊ｭ怜柱譬�ｭｾ謨ｴ菴灘髄荳顔ｧｻ蜉ｨ荳轤ｹ�碁∩蜈埼�謖｡豌疲ｳ｡縲�
*/

.group-sender-line {
  display: flex;
  align-items: center;
  gap: 8px;
  font-size: 11px;
  color: #666;
  position: absolute;

  /* 笘��笘� 菫ｮ謾ｹ霑咎㈹�壻ｻ� -16px 謾ｹ荳ｺ -18px�瑚ｮｩ螳�髄荳顔ｧｻ蜉ｨ2蜒冗ｴ� 笘��笘� */
  /* 菴�蜿ｯ莉･譬ｹ謐ｮ閾ｪ蟾ｱ逧�万螂ｽ�檎ｻｧ扈ｭ蜃丞ｰ剰ｿ吩ｸｪ蛟ｼ�域ｯ泌ｦ�-20px�芽ｮｩ螳�峩鬮� */
  top: -18px;

  left: 50px;
  white-space: nowrap;

  /* 縲先眠蠅槭台ｸｺ莠�ｿ晁ｯ∝ｱらｺｧ�檎｡ｮ菫晏ｮ�惠豌疲ｳ｡荵倶ｸ� */
  z-index: 1;
}

/* 笆ｲ笆ｲ笆ｲ 譖ｿ謐｢扈捺據 笆ｲ笆ｲ笆ｲ */

/* 2. 謌台ｻｬ荳榊�髴隕�宙蟇ｹ .sender-name 逧�音谿雁ｮ壻ｽ堺ｺ�ｼ悟屏荳ｺ邇ｰ蝨ｨ驛ｽ逕ｱ .group-sender-line 謗ｧ蛻ｶ */
/* 謇莉･�悟庄莉･謚頑立逧� .message-wrapper.ai .sender-name 隗��蛻�謗会ｼ梧�閠�畑霑吩ｸｪ遨ｺ逧�ｧ��隕�尠謗牙ｮ� */
.message-wrapper.ai .sender-name {
  /* 霑吩ｸｪ隗��邇ｰ蝨ｨ譏ｯ遨ｺ逧�ｼ悟屏荳ｺ螳�ｷｲ扈剰｢ｫ譁ｰ逧� .group-sender-line 譖ｿ莉｣莠� */
}

/* 3. 縲仙�譁ｰ縲題ｿ呎弍閨雁､ｩ逡碁擇蜀�ｼ瑚ｷ溷惠蜷榊ｭ怜錘髱｢逧�ｺｫ莉ｽ蜥悟､ｴ陦疲��ｭｾ逧�ｸ灘ｱ樊�ｷ蠑� */
.group-sender-tags {
  display: inline-flex; /* 遑ｮ菫晏ｮ��蟾ｱ荵滓弍荳荳ｪ flex 螳ｹ蝎ｨ�瑚ｮｩ蜀�Κ逧���ｭｾ閭ｽ豌ｴ蟷ｳ謗貞� */
  align-items: center;
  gap: 5px; /* 譬�ｭｾ荵矩龍逧�龍霍� */
}

.group-role-tag,
.group-title-tag {
  font-size: 10px;
  padding: 1px 5px;
  border-radius: 8px; /* 蝨�ｶｦ逧�Ω蝗雁ｽ｢迥ｶ */
  font-weight: 500;
  line-height: 1.4;
}

/* 鄒､荳ｻ蜥檎ｮ｡逅�遭逧�｢懆牡 */
.group-role-tag.owner {
  background-color: #fff2c2;
  color: #d98c00;
  border: 1px solid #ffe89d;
}
.group-role-tag.admin {
  background-color: #d4edda;
  color: #155724;
  border: 1px solid #c3e6cb;
}

/* 笆ｼ笆ｼ笆ｼ 縲千峡螳ｶ扈域栫菫ｮ螟咲沿縲題ｯｷ逕ｨ霑呎紛蝮嶺ｻ｣遐�ｼ悟ｮ梧紛譖ｿ謐｢謗画園譛画立逧� .group-title-tag 譬ｷ蠑� 笆ｼ笆ｼ笆ｼ */

/* 笆ｼ笆ｼ笆ｼ 縲先怙扈井ｿｮ螟咲沿縲題ｯｷ蟆�ｿ呎紛蝮嶺ｻ｣遐∫ｲ倩ｴｴ蛻ｰ <style> 譬�ｭｾ逧�怙譛ｫ蟆ｾ 笆ｼ笆ｼ笆ｼ */

/* 1. 蜈井ｸｺ縲先園譛峨大､ｴ陦碑ｮｾ鄂ｮ菴�諠ｳ隕∫噪邏ｫ濶ｲ菴應ｸｺ鮟倩ｮ､蛟ｼ */
.group-title-tag {
  background-color: #e9e7fd !important; /* 豺｡邏ｫ濶ｲ閭梧勹 */
  color: #5e548e !important; /* 豺ｱ邏ｫ濶ｲ譁�ｭ� */
  border: 1px solid #d9d5f8 !important; /* 遞肴ｷｱ逧�ｴｫ濶ｲ霎ｹ譯� */
}

/* 2. 辟ｶ蜷趣ｼ悟黒迢ｬ荳ｺ縲千ｮ｡逅�遭縲醍噪螟ｴ陦碑ｮｾ鄂ｮ扈ｿ濶ｲ */
.group-role-tag.admin ~ .group-title-tag {
  background-color: #d4edda !important; /* 螟榊宛邂｡逅�遭譬�ｭｾ逧�ｻｿ濶ｲ */
  color: #155724 !important;
  border: 1px solid #c3e6cb !important;
}

/* 3. 蜷檎炊�御ｸｺ縲千ｾ､荳ｻ縲醍噪螟ｴ陦碑ｮｾ鄂ｮ鮟�牡 */
.group-role-tag.owner ~ .group-title-tag {
  background-color: #fff2c2 !important; /* 螟榊宛鄒､荳ｻ譬�ｭｾ逧�ｻ�牡 */
  color: #d98c00 !important;
  border: 1px solid #ffe89d !important;
}

/* === 螟憺龍讓｡蠑城る� (蜴溽炊逶ｸ蜷�) === */

/* 螟憺龍讓｡蠑丈ｸ狗噪鮟倩ｮ､邏ｫ濶ｲ */
#phone-screen.dark-mode .group-title-tag {
  background-color: #3b3355 !important;
  color: #c3b9e7 !important;
  border-color: #514777 !important;
}

/* 螟憺龍讓｡蠑丈ｸ狗噪邂｡逅�遭扈ｿ濶ｲ */
#phone-screen.dark-mode .group-role-tag.admin ~ .group-title-tag {
  background-color: #104a3c !important;
  color: #76ddc4 !important;
  border-color: #176854 !important;
}

/* 螟憺龍讓｡蠑丈ｸ狗噪鄒､荳ｻ鮟�牡 */
#phone-screen.dark-mode .group-role-tag.owner ~ .group-title-tag {
  background-color: #594200 !important;
  color: #ffd466 !important;
  border-color: #795b00 !important;
}

/* 笆ｲ笆ｲ笆ｲ 菫ｮ螟咲ｻ捺據 笆ｲ笆ｲ笆ｲ */

/* 笆ｲ笆ｲ笆ｲ 譖ｿ謐｢扈捺據 笆ｲ笆ｲ笆ｲ */

/* 笆ｲ笆ｲ笆ｲ 譖ｿ謐｢扈捺據 笆ｲ笆ｲ笆ｲ */

/* === 縲仙�譁ｰ縲第ｶ域�蟶�ｱ荳取慮髣ｴ謌ｳ譬ｷ蠑� === */

/* 1. 豸域�蜊募�逧�ｻ螳ｹ蝎ｨ (驥肴桷) */
.message-wrapper {
  display: flex; /* 菴ｿ逕ｨFlex蟶�ｱ */
  gap: 8px; /* 豌疲ｳ｡蜥梧慮髣ｴ謌ｳ荵矩龍逧�龍霍� */
  align-items: flex-end; /* 譬ｸ蠢�ｼ夊ｮｩ豌疲ｳ｡蜥梧慮髣ｴ謌ｳ蠎暮Κ蟇ｹ鮨� */
  position: relative;
  max-width: 90%; /* 蜿ｯ莉･遞榊ｾｮ謾ｾ螳ｽ荳轤ｹ�悟屏荳ｺ譌ｶ髣ｴ謌ｳ邇ｰ蝨ｨ蝨ｨ螟夜擇莠� */
}

/* 2. AI豸域�蜊募�髱�蟾ｦ */
.message-wrapper.ai {
  align-self: flex-start;
  flex-direction: row; /* 螟ｴ蜒上∵ｰ疲ｳ｡縲∵慮髣ｴ謌ｳ�御ｻ主ｷｦ蛻ｰ蜿ｳ謗貞� */
}

/* 3. 逕ｨ謌ｷ豸域�蜊募�髱�蜿ｳ */
.message-wrapper.user {
  align-self: flex-end;
  flex-direction: row-reverse; /* 譌ｶ髣ｴ謌ｳ縲∵ｰ疲ｳ｡縲∝､ｴ蜒擾ｼ御ｻ主承蛻ｰ蟾ｦ謗貞� */
}

/* 4. 豌疲ｳ｡蜥悟､ｴ蜒冗噪逶ｴ謗･螳ｹ蝎ｨ (菫晄戟荳榊序) */
.message-bubble {
  display: flex;
  align-items: flex-start;
  gap: 12px;
  max-width: 100%;
}

.timestamp {
  /* 遘ｻ髯､譌ｧ逧� position: absolute */
  font-size: 11px;
  color: #999;
  text-shadow: 0 0 3px rgba(255, 255, 255, 0.6);
  white-space: nowrap; /* 髦ｲ豁｢譌ｶ髣ｴ謐｢陦� */
  margin-bottom: 5px; /* 隶ｩ螳�柱豌疲ｳ｡蠎暮Κ譛芽ｽｻ蠕ｮ逧�ｯｹ鮨仙￥遘ｻ�梧峩鄒手ｧ� */
  flex-shrink: 0; /* 髦ｲ豁｢陲ｫ蜴狗ｼｩ */
}

.message-bubble.selected::after {
  content: '笨�';
  position: absolute;
  left: -10px;
  top: 50%;
  transform: translateY(-50%);
  background-color: var(--accent-color);
  color: white;
  width: 20px;
  height: 20px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 12px;
}
.message-bubble.user.selected::after {
  left: auto;
  right: -10px;
}

.message-bubble.user {
  flex-direction: row-reverse;
}
#typing-indicator {
  align-self: flex-start;
  display: none;
  margin: 0 10px 10px;
  color: var(--text-secondary);
}
/* 菫ｮ謾ｹ閨雁､ｩ霎灘�譯�玄蝓溽噪 padding */
#chat-input-area {
  flex-shrink: 0;
  /* 笆ｼ笆ｼ笆ｼ 譬ｸ蠢�ｿｮ謾ｹ1�壼｢槫刈莠�ｸ翫∝ｷｦ縲∝承逧��霎ｹ霍晢ｼ瑚ｮｩ謨ｴ荳ｪ蛹ｺ蝓滓峩窶懷ｮｽ謨樞� 笆ｼ笆ｼ笆ｼ */
  padding: 10px 12px;
  background-color: rgba(247, 247, 247, 0.8);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  border-top: 1px solid var(--border-color);
  display: flex;
  flex-direction: column;
  gap: 5px;
}

/* 菫ｮ謾ｹiPhone蠎暮Κ螳牙�蛹ｺ逧�る� */
#chat-input-area {
  /* 笆ｼ笆ｼ笆ｼ 譬ｸ蠢�ｿｮ謾ｹ2�壼ｰ�ｿ咎㈹逧� 8px 荵溷酔豁･荳ｺ 10px�御ｿ晄戟荳閾ｴ 笆ｼ笆ｼ笆ｼ */
  padding-bottom: calc(10px + env(safe-area-inset-bottom));
}

#chat-input-main-row {
  display: flex;
  align-items: flex-end;
  gap: 8px;
  width: 100%;
}
#chat-input {
  flex-grow: 1;
  border: none;
  padding: 10px 15px;
  border-radius: 20px;
  background-color: var(--secondary-bg);
  font-size: 16px;
  max-height: 100px;
  resize: none;
}
.action-button {
  border: none;
  color: white;
  border-radius: 20px;
  cursor: pointer;
  font-weight: 600;
  font-size: 14px;
  flex-shrink: 0;
}
#send-btn {
  background-color: var(--accent-color);
  height: 40px;
  padding: 0 15px;
}
.modal {
  /* 笆ｼ笆ｼ笆ｼ 譬ｸ蠢�ｿｮ謾ｹ�壼ｰ�ｮ壻ｽ肴婿蠑丈ｻ� absolute 謾ｹ荳ｺ fixed 笆ｼ笆ｼ笆ｼ */
  position: fixed;
  /* 笆ｲ笆ｲ笆ｲ 菫ｮ謾ｹ扈捺據 笆ｲ笆ｲ笆ｲ */
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(0, 0, 0, 0.4);
  display: none;
  justify-content: center;
  align-items: center;
  z-index: 100;
}

.modal.visible {
  display: flex;
}
.modal-content {
  width: 90%;
  max-height: 90%;
  background-color: white;
  border-radius: 15px;
  display: flex;
  flex-direction: column;
}
.modal-header {
  padding: 15px;
  font-weight: 600;
  border-bottom: 1px solid var(--border-color);
  text-align: center;
  display: flex;
  justify-content: space-between;
  align-items: center;
}
.modal-body {
  padding: 15px;
  overflow-y: auto;
}
.modal-footer {
  padding: 15px;
  border-top: 1px solid var(--border-color);
  display: flex;
  justify-content: space-around;
}
.modal-footer button {
  width: 45%;
  padding: 12px;
  border-radius: 8px;
  border: 1px solid var(--accent-color);
  cursor: pointer;
  font-size: 16px;
}
.modal-footer .save {
  background-color: var(--accent-color);
  color: white;
}
.modal-footer .cancel {
  background-color: white;
  color: var(--accent-color);
}
.avatar-upload {
  display: flex;
  align-items: center;
  gap: 15px;
}
.avatar-upload img {
  width: 60px;
  height: 60px;
  border-radius: 50%;
  object-fit: cover;
  background-color: #eee;
}
.avatar-upload button {
  padding: 8px 12px;
  border: 1px solid #ccc;
  background-color: #f0f0f0;
  border-radius: 5px;
  cursor: pointer;
}
#open-persona-library-btn {
  font-size: 14px;
  padding: 6px 10px;
  margin-left: 0;
}
.avatar-upload input[type='file'] {
  display: none;
}
.theme-selector label {
  display: inline-flex;
  align-items: center;
  margin-right: 15px;
  margin-bottom: 5px;
  cursor: pointer;
}
#reset-theme-btn {
  background: none;
  border: 1px solid #ccc;
  color: #555;
  font-size: 12px;
  padding: 2px 8px;
  border-radius: 5px;
  cursor: pointer;
  margin-left: 10px;
}
#group-members-settings {
  display: flex;
  overflow-x: auto;
  padding-bottom: 10px;
  gap: 15px;
}
.member-editor {
  text-align: center;
  cursor: pointer;
}
.member-editor img {
  width: 50px;
  height: 50px;
  border-radius: 50%;
  object-fit: cover;
  background-color: #eee;
  margin-bottom: 5px;
}
.member-editor .member-name {
  font-size: 12px;
}
#notification-bar {
  position: absolute;
  top: 40px;
  left: 50%;
  width: 90%;
  z-index: 500;
  background-color: rgba(250, 250, 250, 0.9);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  border-radius: 16px;
  padding: 10px;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
  display: flex;
  align-items: center;
  gap: 12px;
  cursor: pointer;
  transform: translateX(-50%) translateY(-150%);
  transition: transform 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
  visibility: hidden;
}
#notification-bar.visible {
  /* 蜈ｳ髞ｮ�壼惠Y霓ｴ蝗槫芦蜴滉ｽ咲噪蜷梧慮�御ｿ晄戟X霓ｴ逧�ｱ�ｸｭ蜿俶困 */
  transform: translateX(-50%) translateY(0);
  visibility: visible;
}
#notification-avatar {
  width: 30px;
  height: 30px;
  border-radius: 50%;
  object-fit: cover;
}
#notification-content .name {
  font-weight: 600;
  font-size: 15px;
  color: #000;
}
#notification-content .message {
  font-size: 14px;
  color: #555;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  max-width: 200px;
}
.sticker-image {
  /* 譬ｸ蠢�ｿｮ謾ｹ�壼ｰ�怙螟ｧ螳ｽ鬮倅ｻ� 100px 蠅槫刈蛻ｰ 140px�瑚ｮｩ閨雁､ｩ荳ｭ逧�｡ｨ諠�桁蜿伜､ｧ */
  max-width: 140px;
  max-height: 140px;
  display: block;
  object-fit: contain;
}
/* 笆ｼ笆ｼ笆ｼ 隸ｷ逕ｨ霑呎紛蝮嶺ｻ｣遐∵崛謐｢ 笆ｼ笆ｼ笆ｼ */

.message-bubble.is-sticker,
.message-bubble.is-voice-message,
.message-bubble.is-ai-image,
.message-bubble.has-image:has(img:only-child) {
  padding: 0;
  background: transparent;
  border: none;
  box-shadow: none;
  backdrop-filter: none;
  -webkit-backdrop-filter: none;
}

#chat-input-actions-top {
  display: flex;
  gap: 8px;
  padding: 0 5px;
}
.chat-action-icon-btn {
  font-size: 24px;
  padding: 0;
  width: 38px;
  height: 38px;
  line-height: 38px;
  text-align: center;
  border-radius: 50%;
  background-color: rgba(255, 255, 255, 0.5);
  color: var(--text-primary);
  backdrop-filter: blur(5px);
  -webkit-backdrop-filter: blur(5px);
  border: 1px solid rgba(0, 0, 0, 0.05);
  cursor: pointer;
  display: flex;
  justify-content: center;
  align-items: center;
}
#sticker-panel {
  position: absolute;
  bottom: 0;
  left: 0;
  width: 100%;
  height: 50%;
  background-color: rgba(242, 242, 247, 0.85);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border-top: 1px solid var(--border-color);
  border-radius: 20px 20px 0 0;
  z-index: 200;
  display: flex;
  flex-direction: column;
  transform: translateY(100%);
  transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  visibility: hidden;
}
#sticker-panel.visible {
  transform: translateY(0);
  visibility: visible;
}
#sticker-panel-header {
  padding: 10px 20px;
  display: flex;
  justify-content: space-between;
  align-items: center;
  flex-shrink: 0;
  border-bottom: 1px solid var(--border-color);
}
#sticker-panel-header .title {
  font-weight: 600;
}
#sticker-panel-header .panel-btn {
  font-size: 16px;
  padding: 5px 10px;
  cursor: pointer;
  color: var(--accent-color);
}
#sticker-grid,
#exclusive-sticker-grid,
#common-sticker-grid {
  flex-grow: 1;
  overflow-y: auto;
  padding: 15px;
  display: grid;
  /* 譬ｸ蠢�ｿｮ謾ｹ�壼ｰ� 80px 蠅槫､ｧ蛻ｰ 100px�瑚ｮｩ豈丈ｸｪ陦ｨ諠��ｼ蟄仙序螟ｧ */
  grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
  gap: 15px;
}
.sticker-item {
  position: relative;
  aspect-ratio: 1 / 1;
  border-radius: 10px;
  background-size: contain;
  background-repeat: no-repeat;
  background-position: center;
  cursor: pointer;
  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
}
.sticker-item .delete-btn {
  display: none;
  position: absolute;
  top: -5px;
  right: -5px;
  width: 20px;
  height: 20px;
  background-color: #ff3b30;
  color: white;
  border-radius: 50%;
  text-align: center;
  line-height: 20px;
  font-size: 14px;
  cursor: pointer;
  border: 2px solid white;
}
#input-actions-wrapper {
  position: static;
  display: flex;
  align-items: flex-end;
  gap: 8px;
  flex-shrink: 0;
}
#wait-reply-btn {
  position: static;
  bottom: auto;
  right: auto;
  width: auto;
  height: 40px;
  padding: 0 10px;
  border-radius: 20px;
  display: flex;
  align-items: center;
  justify-content: center;
  background-color: rgba(255, 255, 255, 0.6);
  backdrop-filter: blur(5px);
  -webkit-backdrop-filter: blur(5px);
  border: 1px solid rgba(0, 0, 0, 0.08);
  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
  transition: opacity 0.2s, transform 0.1s;
  cursor: pointer;
}
#wait-reply-btn:hover {
  opacity: 0.8;
}
#wait-reply-btn:active {
  transform: scale(0.9);
}
#wait-reply-btn img {
  height: 22px;
  display: block;
  margin: auto;
}
.chat-image {
  max-width: 100%;
  border-radius: 10px;
  display: block;
}
.message-bubble.has-image .content {
  padding: 5px;
}
#custom-modal-overlay {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(0, 0, 0, 0.5);
  display: none;
  align-items: center;
  justify-content: center;
  z-index: 1000;
  opacity: 0;
  transition: opacity 0.2s ease-in-out;
}
#custom-modal-overlay.visible {
  display: flex;
  opacity: 1;
}
#custom-modal {
  background-color: #fff;
  width: 280px;
  border-radius: 14px;
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);
  display: flex;
  flex-direction: column;
  transform: scale(0.95);
  transition: transform 0.2s ease-in-out;
}
#custom-modal-overlay.visible #custom-modal {
  transform: scale(1);
}
.custom-modal-header {
  padding: 16px;
  font-size: 17px;
  font-weight: 600;
  text-align: center;
}
.custom-modal-body {
  padding: 0 16px 16px;
  text-align: center;
  font-size: 14px;
  color: #333;
  line-height: 1.5;
  max-height: 60vh;
  overflow-y: auto;
}
/* 鄒主喧貊壼勘譚｡ */
.custom-modal-body::-webkit-scrollbar {
  width: 6px;
}
.custom-modal-body::-webkit-scrollbar-track {
  background: #f5f5f5;
  border-radius: 3px;
}
.custom-modal-body::-webkit-scrollbar-thumb {
  background: #c0c0c0;
  border-radius: 3px;
}
.custom-modal-body::-webkit-scrollbar-thumb:hover {
  background: #a0a0a0;
}
.custom-modal-body p {
  margin: 0;
  margin-bottom: 12px;
}
.custom-modal-body input {
  width: 100%;
  padding: 8px;
  border-radius: 6px;
  border: 1px solid #ccc;
  font-size: 14px;
  box-sizing: border-box;
}
.custom-modal-footer {
  border-top: 1px solid #dbdbdb;
  display: flex;
}
.custom-modal-footer button {
  flex: 1;
  background: none;
  border: none;
  padding: 12px;
  font-size: 17px;
  cursor: pointer;
  color: var(--accent-color);
}
.custom-modal-footer button:first-child {
  border-right: 1px solid #dbdbdb;
}
.custom-modal-footer .confirm-btn {
  font-weight: 600;
}
.custom-modal-footer .confirm-btn.btn-danger {
  color: #ff3b30;
}
#preset-actions-modal .custom-modal-footer {
  flex-direction: column;
}
#preset-actions-modal .custom-modal-footer button {
  width: 100%;
  border: none;
  border-bottom: 1px solid #dbdbdb;
  padding: 14px;
  font-size: 18px;
}
#preset-actions-modal .custom-modal-footer button:last-child {
  border-bottom: none;
}
.custom-multiselect {
  position: relative;
  user-select: none;
}
.select-box {
  display: flex;
  align-items: center;
  width: 100%;
  padding: 12px;
  border: 1px solid var(--border-color);
  border-radius: 8px;
  font-size: 16px;
  box-sizing: border-box;
  background-color: #fff;
  cursor: pointer;
}
.select-box .selected-options-text {
  flex-grow: 1;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  color: var(--text-primary);
}
.select-box .arrow-down {
  margin-left: auto;
  font-size: 10px;
  color: var(--text-secondary);
  transition: transform 0.2s;
}
.select-box.expanded .arrow-down {
  transform: rotate(180deg);
}

.checkboxes-container {
  display: none;
  position: absolute;
  top: 100%;
  margin-top: 5px;
  left: 0;
  right: 0;
  max-height: 400px; /* 笘��笘� 菫ｮ謾ｹ轤ｹ蝨ｨ霑咎㈹ 笘��笘� 謌第滑鬮伜ｺｦ莉� 150px 蠅槫刈蛻ｰ莠� 350px */
  overflow-y: auto;
  overflow-x: hidden;
  background-color: #fff;
  border: 1px solid var(--border-color);
  border-radius: 8px;
  z-index: 101;
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
}
.checkboxes-container.visible {
  display: block;
}
.checkboxes-container label {
  display: block;
  padding: 10px 12px;
  cursor: pointer;
  font-weight: normal;
  color: var(--text-primary);
}

.checkboxes-container label {
  display: block;
  padding: 12px 15px; /* <-- 菫ｮ謾ｹ�壼｢槫刈莠�ｸ贋ｸ句柱蟾ｦ蜿ｳ逧��霎ｹ霍晢ｼ瑚ｮｩ豈丈ｸ陦梧峩鬮俶峩螳ｽ */
  cursor: pointer;
  font-weight: normal;
  color: var(--text-primary);
  font-size: 15px; /* <-- 譁ｰ蠅橸ｼ壼ｰ�ｭ嶺ｽ灘､ｧ蟆丈ｻ朱ｻ倩ｮ､蛟ｼ謾ｾ螟ｧ蛻ｰ15px */
}

.checkboxes-container input {
  margin-right: 10px;
  vertical-align: middle;
}
.bg-upload-container {
  display: flex;
  align-items: center;
  gap: 10px;
  margin-top: 8px;
  flex-wrap: wrap;
}
.bg-preview-img {
  max-width: 120px;
  max-height: 80px;
  border-radius: 8px;
  border: 1px solid var(--border-color);
  object-fit: cover;
  display: none;
}
#remove-bg-btn {
  padding: 8px 12px;
  border: 1px solid #ff3b30;
  color: #ff3b30;
  background-color: #fff;
  border-radius: 5px;
  cursor: pointer;
  font-size: 14px;
  display: none;
}
.message-bubble.is-ai-image .content {
  padding: 5px;
  background: transparent;
  box-shadow: none;
  border: none;
  backdrop-filter: none;
  -webkit-backdrop-filter: none;
}
.ai-generated-image {
  max-width: 180px;
  border-radius: 12px;
  display: block;
  cursor: pointer;
  transition: transform 0.2s, box-shadow 0.2s;
}
.ai-generated-image:hover {
  transform: scale(1.05);
  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
}
.voice-message-body {
  display: flex;
  align-items: center;
  cursor: pointer;
  padding: 8px 12px;
  min-width: 80px;
  max-width: 200px;
}
.message-bubble.user .voice-message-body {
  color: #1a3d00;
  flex-direction: row-reverse;
}
.message-bubble.ai .voice-message-body {
  color: var(--text-primary);
}
.voice-waveform {
  display: flex;
  align-items: center;
  height: 20px;
  gap: 2px;
  flex-grow: 1;
  margin: 0 10px;
}
.voice-waveform div {
  width: 3px;
  background-color: currentColor;
  border-radius: 2px;
  animation: wave-quiet 1.5s ease-in-out infinite;
}
@keyframes wave-quiet {
  0%,
  100% {
    height: 2px;
  }
  50% {
    height: 10px;
  }
}
.voice-waveform div:nth-child(2) {
  animation-delay: 0.2s;
}
.voice-waveform div:nth-child(3) {
  animation-delay: 0.4s;
}
.voice-waveform div:nth-child(4) {
  animation-delay: 0.6s;
}
.voice-waveform div:nth-child(5) {
  animation-delay: 0.8s;
}
.voice-duration {
  /* --- 譬ｸ蠢�ｿｮ豁｣ --- */
  font-size: var(--chat-font-size, 13px);
  /* --- 菫ｮ豁｣扈捺據 --- */
  font-weight: 500;
  color: var(--text-secondary);
}
.message-bubble.user .voice-duration {
  color: #3e6224;
}

/* 笆ｼ笆ｼ笆ｼ 逕ｨ霑吝摎莉｣遐∵崛謐｢謗我ｽ�蜴滓擂逧� .message-bubble .content 譬ｷ蠑� 笆ｼ笆ｼ笆ｼ */
/* 騾夂畑蜀�ｮｹ蛹ｺ譬ｷ蠑擾ｼ御ｸｺ譌ｶ髣ｴ謌ｳ蜥悟ｭ嶺ｽ灘､ｧ蟆丞★蜃�､� */
.message-bubble .content {
  position: relative;
  font-size: var(--chat-font-size, 16px);
  padding: 8px 12px;
  line-height: 1.5;
  word-break: break-word; /* 譬ｸ蠢�ｿｮ豁｣: 蠑ｺ蛻ｶ髟ｿ蜊戊ｯ肴�URL謐｢陦鯉ｼ碁亟豁｢謦醍�ｴ豌疲ｳ｡ */
}
/* 笆ｲ笆ｲ笆ｲ 譖ｿ謐｢扈捺據 笆ｲ笆ｲ笆ｲ */

/* === 豌疲ｳ｡荳ｻ鬚俶�ｷ蠑� === */
.message-bubble.user .content {
  background-color: rgba(255, 255, 255, 0.75);
  color: #585858;
  border-radius: 8px 2px 8px 8px;
}
.message-bubble.ai .content {
  background-color: rgba(255, 255, 255, 0.7);
  color: #585858;
  border-radius: 2px 8px 8px 8px;
}

.message-bubble::after {
  content: '';
  position: absolute;
  width: 20px;
  height: 20px;
  background-size: contain;
  background-repeat: no-repeat;
  opacity: 1;
  z-index: 1;
}

#chat-messages[data-theme='pink_blue'] .message-bubble.user .content {
  background-color: #fff0f6;
  color: #432531;
}
#chat-messages[data-theme='pink_blue'] .message-bubble.ai .content {
  background-color: #eff7ff;
  color: #263a4e;
}
#chat-messages[data-theme='blue_white'] .message-bubble.user .content {
  background-color: #eff7ff;
  color: #263a4e;
}
#chat-messages[data-theme='blue_white'] .message-bubble.ai .content {
  background-color: #f8f9fa;
  color: #383d41;
}
#chat-messages[data-theme='purple_yellow'] .message-bubble.user .content {
  background-color: #faf7ff;
  color: #827693;
}
#chat-messages[data-theme='purple_yellow'] .message-bubble.ai .content {
  background-color: #fffde4;
  color: #5c4033;
}
#chat-messages[data-theme='black_white'] .message-bubble.user .content {
  background-color: #343a40;
  color: #f8f9fa;
}
#chat-messages[data-theme='black_white'] .message-bubble.ai .content {
  background-color: #f8f9fa;
  color: #343a40;
}
#chat-messages[data-theme='yellow_white'] .message-bubble.user .content {
  background-color: #ffeb3b;
  color: #5d4037;
}
#chat-messages[data-theme='yellow_white'] .message-bubble.ai .content {
  background-color: #f8f9fa;
  color: #383d41;
}
#chat-messages[data-theme='red_black'] .message-bubble.user .content {
  background-color: #c62828;
  color: #ffffff;
}
#chat-messages[data-theme='red_black'] .message-bubble.ai .content {
  background-color: #212121;
  color: #ffffff;
}
#chat-messages[data-theme='blue_yellow'] .message-bubble.user .content {
  background-color: #a0d2eb;
  color: #153243;
}
#chat-messages[data-theme='blue_yellow'] .message-bubble.ai .content {
  background-color: #fef9e7;
  color: #5d4037;
}
#chat-messages[data-theme='pink_yellow'] .message-bubble.user .content {
  background-color: #fff0f6;
  color: #432531;
}
#chat-messages[data-theme='pink_yellow'] .message-bubble.ai .content {
  background-color: #fef9e7;
  color: #5d4037;
}
#chat-messages[data-theme='pink_purple'] .message-bubble.user .content {
  background-color: #fff0f6;
  color: #a78396;
}
#chat-messages[data-theme='pink_purple'] .message-bubble.ai .content {
  background-color: #faf7ff;
  color: #827693;
}
#chat-messages[data-theme='gray_white'] .message-bubble.user .content {
  background-color: #e9ecef;
  color: #495057;
}
#chat-messages[data-theme='gray_white'] .message-bubble.ai .content {
  background-color: #f8f9fa;
  color: #383d41;
}
#chat-messages[data-theme='blue_green'] .message-bubble.user .content {
  background-color: #d1ecf1;
  color: #0c5460;
}
#chat-messages[data-theme='blue_green'] .message-bubble.ai .content {
  background-color: #d4edda;
  color: #155724;
}
#chat-messages[data-theme='pink_white'] .message-bubble.user .content {
  background-color: #fff0f6;
  color: #a78396;
}
#chat-messages[data-theme='pink_white'] .message-bubble.ai .content {
  background-color: #f8f9fa;
  color: #383d41;
}
#chat-messages[data-theme='pink_black'] .message-bubble.user .content {
  background-color: #f8bbd0;
  color: #5b2c6f;
}
#chat-messages[data-theme='pink_black'] .message-bubble.ai .content {
  background-color: #343a40;
  color: #f8f9fa;
}
#chat-messages[data-theme='pink_green'] .message-bubble.user .content {
  background-color: #f8bbd0;
  color: #5b2c6f;
}
#chat-messages[data-theme='pink_green'] .message-bubble.ai .content {
  background-color: #c8e6c9;
  color: #1b5e20;
}
#chat-messages[data-theme='green_black'] .message-bubble.user .content {
  background-color: #d4edda;
  color: #155724;
}
#chat-messages[data-theme='green_black'] .message-bubble.ai .content {
  background-color: #343a40;
  color: #f8f9fa;
}

#transfer-btn {
  font-weight: bold;
}
#transfer-modal {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(0, 0, 0, 0.5);
  display: none;
  align-items: center;
  justify-content: center;
  z-index: 1001;
}
#transfer-modal.visible {
  display: flex;
}
.transfer-content {
  background-color: #fff0f5;
  border-radius: 20px;
  width: 290px;
  padding: 20px;
  box-shadow: 0 5px 25px rgba(255, 105, 180, 0.3);
  text-align: center;
  background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="0 0 100 100" opacity="0.05"><path d="M50,4 C35,4 28,15 28,24 C28,33 35,32 35,40 C35,48 28,49 28,57 C28,65 35,66 35,74 C35,82 28,83 28,91 C28,99 35,100 50,100 C65,100 72,99 72,91 C72,83 65,82 65,74 C65,66 72,65 72,57 C72,49 65,48 65,40 C65,32 72,33 72,24 C72,15 65,4 50,4 Z" fill="%23FF69B4"/></svg>');
  background-repeat: no-repeat;
  background-position: top right;
  background-size: 80px;
}
.transfer-header {
  font-size: 20px;
  font-weight: bold;
  color: #a35c7b;
  margin-bottom: 20px;
}
.transfer-input-group {
  margin-bottom: 15px;
  text-align: left;
}
.transfer-input-group label {
  display: block;
  font-size: 14px;
  color: #ff85b3;
  margin-bottom: 5px;
  font-weight: 500;
}
.transfer-input-group input {
  width: 100%;
  padding: 12px;
  border-radius: 10px;
  border: 2px solid #ffcce0;
  background-color: #fff;
  font-size: 16px;
  box-sizing: border-box;
}
.transfer-input-group input:focus {
  border-color: #ff85b3;
  outline: none;
}
.transfer-actions {
  display: flex;
  justify-content: space-between;
  gap: 10px;
}
.transfer-actions button {
  flex: 1;
  padding: 12px;
  border: none;
  border-radius: 10px;
  font-size: 16px;
  font-weight: bold;
  cursor: pointer;
  transition: transform 0.2s;
}
.transfer-actions button:active {
  transform: scale(0.95);
}
#transfer-cancel-btn {
  background-color: #ffdde9;
  color: #a35c7b;
}
#transfer-confirm-btn {
  background-color: #ff85b3;
  color: white;
}
.message-bubble.is-transfer .content {
  padding: 0;
  background: transparent;
  box-shadow: none;
  border: none;
  backdrop-filter: none;
  -webkit-backdrop-filter: none;
  cursor: pointer;
}
.transfer-card {
  width: 200px;
  border-radius: 12px;
  padding: 12px;
  color: white;
  position: relative;
  overflow: hidden;
}
.transfer-card::before {
  content: '�誓';
  position: absolute;
  right: 10px;
  top: 5px;
  font-size: 30px;
  opacity: 0.2;
  transform: rotate(15deg);
}
.message-bubble.user .transfer-card {
  background: radial-gradient(circle at top left, #ffc5d5, #ff85b3);
}
.message-bubble.ai .transfer-card {
  background: radial-gradient(circle at top left, #a1c4fd, #c2e9fb);
}
.transfer-title {
  font-size: 16px;
  font-weight: 600;
  display: flex;
  align-items: center;
  gap: 6px;
  margin-bottom: 8px;
}
.transfer-amount {
  font-size: 28px;
  font-weight: bold;
  margin-bottom: 4px;
}
.transfer-note {
  font-size: 13px;
  opacity: 0.9;
  border-top: 1px solid rgba(255, 255, 255, 0.3);
  padding-top: 8px;
  margin-top: 8px;
  word-break: break-all;
}

/* RealImag逵溷ｮ槫崟迚��ｷ蠑� */
.realimag-image {
  max-width: 250px;
  max-height: 250px;
  width: auto;
  height: auto;
  display: block;
  border-radius: 10px;
  object-fit: cover;
  background-color: #f8f8f8;
  min-width: 100px;
  min-height: 100px;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
  transition: transform 0.2s ease;
}

.realimag-image:hover {
  transform: scale(1.02);
}

.message-bubble.is-realimag .content {
  padding: 5px;
  background: transparent;
  box-shadow: none;
  border: none;
  backdrop-filter: none;
  -webkit-backdrop-filter: none;
}

@keyframes spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}
#listen-together-btn img.rotating {
  animation: spin 2s linear infinite;
}
#listen-together-btn img.paused {
  animation-play-state: paused;
}
#music-player-overlay {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: 50;
  display: none;
  justify-content: center;
  align-items: center;
  background-color: rgba(0, 0, 0, 0.3);
}
#music-player-overlay.visible {
  display: flex;
}
.music-player-window {
  width: 90%;
  background-color: rgba(255, 255, 255, 0.6);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border-radius: 20px;
  box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.37);
  border: 1px solid rgba(255, 255, 255, 0.18);
  padding: 25px;
  display: flex;
  flex-direction: column;
  align-items: center;
  color: #1f1f1f;
  position: relative;
}
#music-playlist-btn {
  position: absolute;
  top: 15px;
  right: 15px;
  font-size: 24px;
  cursor: pointer;
  color: #333;
}
#music-time-counter {
  font-size: 12px;
  color: #555;
  margin-bottom: 20px;
}
#music-player-song-title {
  font-size: 20px;
  font-weight: 600;
  margin-bottom: 5px;
  text-align: center;
}
#music-player-artist {
  font-size: 14px;
  color: #666;
  margin-bottom: 25px;
}
.music-controls {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 20px;
  width: 100%;
  margin-bottom: 30px;
}
.music-controls button {
  background: none;
  border: none;
  font-size: 16px;
  font-weight: bold;
  cursor: pointer;
  color: #333;
  width: 44px;
  height: 44px;
  display: flex;
  justify-content: center;
  align-items: center;
  transition: transform 0.2s;
}
.music-controls button:active {
  transform: scale(0.9);
}
.music-controls .play-pause-btn {
  font-size: 24px;
  width: 60px;
  height: 60px;
  border-radius: 50%;
  background-color: rgba(0, 0, 0, 0.05);
}
.music-bottom-actions {
  display: flex;
  justify-content: space-between;
  width: 100%;
}
.music-bottom-actions button {
  flex: 1;
  padding: 12px 0;
  border: none;
  border-radius: 10px;
  font-size: 15px;
  font-weight: 500;
  cursor: pointer;
}
#music-exit-btn {
  background-color: rgba(255, 100, 100, 0.7);
  color: white;
  margin-right: 5px;
}
#music-return-btn {
  background-color: rgba(0, 123, 255, 0.7);
  color: white;
  margin-left: 5px;
}

#music-playlist-panel {
  position: absolute;
  bottom: 0;
  left: 0;
  width: 100%;
  height: 70%;
  background-color: rgba(242, 242, 247, 0.9);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border-top: 1px solid var(--border-color);
  border-radius: 20px 20px 0 0;
  z-index: 210;
  display: flex;
  flex-direction: column;
  transform: translateY(100%);
  transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  visibility: hidden;
}
#music-playlist-panel.visible {
  transform: translateY(0);
  visibility: visible;
}
.playlist-header {
  padding: 15px 20px;
  display: flex;
  justify-content: space-between;
  align-items: center;
  flex-shrink: 0;
  border-bottom: 1px solid var(--border-color);
  font-weight: 600;
}
.playlist-header .panel-btn {
  font-size: 16px;
  cursor: pointer;
  color: var(--accent-color);
}
.playlist-body {
  flex-grow: 1;
  overflow-y: auto;
  padding: 10px 0;
}
.playlist-item {
  padding: 10px 20px;
  display: flex;
  justify-content: space-between;
  align-items: center;
  cursor: pointer;
  border-bottom: 1px solid #eee;
}
.playlist-item.playing {
  background-color: rgba(0, 123, 255, 0.1);
}
.playlist-item-info .title {
  font-weight: 500;
  font-size: 15px;
}
.playlist-item-info .artist {
  font-size: 12px;
  color: #666;
}
.playlist-item .delete-track-btn {
  color: #ff3b30;
  font-size: 20px;
  padding: 5px;
}

/* Persona Library Styles */
#persona-library-grid {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 15px;
  padding: 10px;
}
.persona-preset-item {
  aspect-ratio: 1 / 1;
  border-radius: 12px;
  background-size: cover;
  background-position: center;
  cursor: pointer;
  transition: transform 0.2s, box-shadow 0.2s;
  border: 1px solid rgba(0, 0, 0, 0.1);
}
.persona-preset-item:hover {
  transform: scale(1.08);
  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
}
.modal-header .action-button {
  font-size: 16px;
  color: var(--accent-color);
  font-weight: 600;
  cursor: pointer;
  background: none;
  border: none;
  padding: 5px;
}

/* Battery Alert Modal Styles */
#battery-alert-modal {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(0, 0, 0, 0.4);
  display: none;
  justify-content: center;
  align-items: center;
  z-index: 2000;
  opacity: 0;
  transition: opacity 0.3s ease;
}
#battery-alert-modal.visible {
  display: flex;
  opacity: 1;
}
.battery-alert-content {
  background-color: rgba(255, 255, 255, 0.9);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  width: 280px;
  border-radius: 15px;
  box-shadow: 0 5px 20px rgba(0, 0, 0, 0.2);
  text-align: center;
  padding: 20px;
  cursor: pointer;
  transform: scale(0.9);
  transition: transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
}
#battery-alert-modal.visible .battery-alert-content {
  transform: scale(1);
}
#battery-alert-image {
  max-width: 100px;
  max-height: 100px;
  margin-bottom: 15px;
}
#battery-alert-text {
  font-size: 16px;
  font-weight: 500;
  color: #333;
  margin: 0;
  line-height: 1.4;
}

/* 霑呎弍菴�隕∵ｷｻ蜉�逧�眠譬ｷ蠑� */
#font-preview {
  transition: font-family 0.3s ease;
}

/* === 閨雁､ｩ蛻苓｡ｨ逡碁擇譁ｰ蠅樊�ｷ蠑� (霑呎弍譁ｰ豺ｻ蜉�逧�) === */
#chat-list-screen {
}

.chat-list-view {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  display: flex;
  flex-direction: column;
  opacity: 0;
  visibility: hidden;
  transition: opacity 0.2s, visibility 0.2s;
  z-index: 1;
}
.chat-list-view.active {
  opacity: 1;
  visibility: visible;
  z-index: 2;
}

#messages-view {
  overflow-y: auto;
}

/* 蠎暮Κ蟇ｼ闊ｪ譬乗�ｷ蠑� */
#chat-list-bottom-nav {
  position: absolute; /* 隶ｩ螳�崋螳壼惠蠎暮Κ */
  bottom: 0;
  left: 0;
  width: 100%;
  z-index: 15; /* 遑ｮ菫晏ｮ�惠隗�崟荵倶ｸ� */
  display: flex;
  border-top: 1px solid var(--border-color);
  background-color: rgba(247, 247, 247, 0.9);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
}

.nav-item {
  flex: 1;
  text-align: center;
  padding: 13px 0;
  font-size: 14px;
  color: var(--text-secondary);
  cursor: pointer;
  transition: color 0.2s;
}

.nav-item.active {
  color: var(--accent-color);
  font-weight: 600;
}

/* === 蜉ｨ諤∫阜髱｢ (QZone) 譬ｷ蠑� (霑呎弍譁ｰ豺ｻ蜉�逧�) === */
#qzone-screen {
  background-color: #f0f2f5;
}

.qzone-header {
  /* position: absolute;  <-- 謚願ｿ吩ｸｪ謾ｹ謌� relative */
  position: relative;
  z-index: 10; /* z-index 菫晄戟�梧�閠�庄莉･譖ｴ鬮� */
  flex-shrink: 0; /* 髦ｲ豁｢陲ｫ蜴狗ｼｩ */
  padding: 15px 20px;
  padding-top: 45px;
  background-color: rgba(247, 247, 247, 0.7);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  border-bottom: 1px solid var(--border-color);
  display: flex;
  justify-content: space-between;
  align-items: center;
  font-size: 18px;
  font-weight: 600;
  text-align: center;
}

.qzone-header .back-btn {
  font-size: 24px;
  cursor: pointer;
  color: var(--accent-color);
}

.qzone-header span:nth-child(2) {
  /* "螂ｽ蜿句勘諤�"譁�ｭ� */
  position: absolute;
  left: 50%;
  transform: translateX(-50%);
}

.qzone-content {
  flex-grow: 1;
  overflow-y: auto;
  /* padding-top: 80px;  <-- 蛻�髯､霑吩ｸｪ�悟屏荳ｺheader荳榊�譏ｯabsolute莠� */
}

.qzone-profile-header {
  position: relative;
  margin-bottom: 20px;
}

.qzone-banner-container {
  width: 100%;
  height: 180px; /* 閭梧勹譚ｿ鬮伜ｺｦ */
  position: relative;
}

#qzone-banner-img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.qzone-user-info {
  position: absolute;
  bottom: -30px; /* 隶ｩ螟ｴ蜒丞柱譏ｵ遘ｰ蛹ｺ蝓溷髄荳句￥遘ｻ�御ｸ蜊雁惠閭梧勹譚ｿ蜀�ｼ御ｸ蜊雁惠螟� */
  left: 20px;
  display: flex;
  align-items: flex-end; /* 隶ｩ譏ｵ遘ｰ蜥悟､ｴ蜒丞ｺ暮Κ蟇ｹ鮨� */
  gap: 10px;
}

.qzone-avatar-container {
  position: relative;
}

#qzone-avatar-img {
  width: 70px;
  height: 70px;
  border-radius: 50%;
  border: 3px solid white;
  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
  object-fit: cover;
}

#qzone-nickname {
  font-size: 18px;
  font-weight: 600;
  color: #fff;
  text-shadow: 0 1px 3px rgba(0, 0, 0, 0.5);
  padding-bottom: 5px; /* 蠕ｮ隹�ｽ咲ｽｮ */
}

/* 郛冶ｾ第潔髓ｮ逧�夂畑譬ｷ蠑� */
.qzone-edit-btn {
  position: absolute;
  background-color: rgba(0, 0, 0, 0.4);
  color: white;
  border: none;
  border-radius: 10px;
  padding: 4px 8px;
  font-size: 12px;
  cursor: pointer;
  backdrop-filter: blur(5px);
  -webkit-backdrop-filter: blur(5px);
}

#change-qzone-banner-btn {
  bottom: 10px;
  right: 10px;
}

#change-qzone-avatar-btn {
  bottom: 5px;
  right: 5px;
}

#change-qzone-nickname-btn {
  font-size: 14px;
  padding: 2px 6px;
  margin-left: 5px; /* 荳取亰遘ｰ逧�龍霍� */
  color: var(--text-primary);
  background-color: rgba(255, 255, 255, 0.7);
  border-radius: 5px;
  position: relative; /* 閼ｱ遖ｻflex蟶�ｱ逧�ｯｹ鮨� */
  bottom: 5px; /* 蠕ｮ隹�桙逶ｴ菴咲ｽｮ */
}

/* === 隶ｩ郛冶ｾ大粥閭ｽ譖ｴ窶憺嚼蠖｢窶� === */
#qzone-banner-container,
#qzone-avatar-container,
#qzone-nickname {
  cursor: pointer; /* 鮠�譬�ぎ蛛懈慮譏ｾ遉ｺ荳ｺ蜿ｯ轤ｹ蜃ｻ謇句漢 */
  transition: opacity 0.2s;
}
#qzone-banner-container:hover,
#qzone-avatar-container:hover,
#qzone-nickname:hover {
  opacity: 0.85; /* 謔ｬ蛛懈慮遞榊ｾｮ蜿俶囓�檎ｻ咏畑謌ｷ蜿埼ｦ� */
}
/* 髫占酪謗画立逧�∫峡遶狗噪郛冶ｾ第潔髓ｮ */
.qzone-edit-btn {
  display: none;
}

/* === 謗ｧ蛻ｶ Header 蜥� Bottom Nav 逧�仞髫� === */
/* 鮟倩ｮ､髫占酪蜉ｨ諤∫阜髱｢逧� Header */
#qzone-screen .qzone-header {
  display: none;
}
/* 蠖灘勘諤∬ｧ�崟豼豢ｻ譌ｶ�梧仞遉ｺ螳�噪Header */
#qzone-screen.active .qzone-header {
  display: flex;
}

/* 蠖楢ｿ帛�蜉ｨ諤∬ｧ�崟譌ｶ�碁嚼阯丈ｸｻHeader蜥悟ｺ暮Κ蟇ｼ闊ｪ譬� */
#chat-list-screen.in-qzone-view > .header,
#chat-list-screen.in-qzone-view > #chat-list-bottom-nav {
  display: none;
}

.chat-group-container:first-child {
  margin-top: 10px;
}

/* 笆ｲ笆ｲ笆ｲ 譁ｰ譬ｷ蠑乗崛謐｢扈捺據 笆ｲ笆ｲ笆ｲ */

/* 笆ｼ笆ｼ笆ｼ 謚頑園譛芽ｿ吩ｺ帶眠譬ｷ蠑冗ｲ倩ｴｴ蛻ｰ <style> 逧�忰蟆ｾ 笆ｼ笆ｼ笆ｼ */

/* === 蜉ｨ諤∝粥閭ｽ譬乗�ｷ蠑� === */
.qzone-actions-bar {
  display: flex;
  justify-content: space-around;
  padding: 10px 0;
  margin: 40px 15px 15px 15px; /* 荳願ｾｹ霍晄峩螟ｧ�御ｸｺ豬ｮ蜉ｨ逧�､ｴ蜒冗蕗蜃ｺ遨ｺ髣ｴ */
  background-color: var(--secondary-bg);
  border-radius: 12px;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
}

.action-item {
  flex: 1;
  text-align: center;
  font-size: 15px;
  font-weight: 500;
  color: var(--text-primary);
  cursor: pointer;
  padding: 8px 0;
  position: relative;
}

/* 逕ｨ莨ｪ蜈�ｴ�蛻帛ｻｺ蛻�囈郤ｿ */
.action-item:not(:last-child)::after {
  content: '';
  position: absolute;
  right: 0;
  top: 50%;
  transform: translateY(-50%);
  width: 1px;
  height: 20px;
  background-color: var(--border-color);
}

/* === 蜉ｨ諤∝ｸ門ｭ仙�陦ｨ譬ｷ蠑� === */
#qzone-posts-list {
  padding: 0 15px 20px 15px; /* 蟾ｦ蜿ｳ蜥悟ｺ暮Κ逡吝�霎ｹ霍� */
  display: flex;
  flex-direction: column;
  gap: 20px; /* 蟶門ｭ蝉ｹ矩龍逧�龍霍� */
}

.qzone-post-item {
  background-color: var(--secondary-bg);
  border-radius: 12px;
  padding: 15px;
  box-shadow: 0 1px 4px rgba(0, 0, 0, 0.06);
}

.post-header {
  display: flex;
  align-items: center;
  gap: 10px;
  margin-bottom: 12px;
}

.post-header .post-avatar {
  width: 40px;
  height: 40px;
  border-radius: 50%;
  object-fit: cover;
}

.post-info {
  display: flex;
  flex-direction: column;
}

.post-info .post-nickname {
  font-weight: 600;
  font-size: 15px;
  color: var(--text-primary);
}

.post-info .post-timestamp {
  font-size: 12px;
  color: var(--text-secondary);
}

.post-content {
  font-size: 14px;
  line-height: 1.6;
  color: #333;
  white-space: pre-wrap; /* 隶ｩ謐｢陦檎ｬｦ逕滓譜 */
  word-break: break-word; /* 髦ｲ豁｢髟ｿ蜊戊ｯ肴ｺ｢蜃ｺ */
}

/* 笆ｲ笆ｲ笆ｲ 譁ｰ譬ｷ蠑冗ｻ捺據 笆ｲ笆ｲ笆ｲ */

/* 笆ｼ笆ｼ笆ｼ 譁ｰ譬ｷ蠑冗ｲ倩ｴｴ蛻ｰ譛ｫ蟆ｾ 笆ｼ笆ｼ笆ｼ */

/* === 蜿大ｸ�勘諤∵ｨ｡諤∵｡��ｷ蠑� === */
#post-public-text {
  min-height: 80px; /* 遑ｮ菫晄枚譛ｬ蝓滓怏雜ｳ螟溽噪鬮伜ｺｦ */
  resize: vertical;
}

.post-image-preview-container {
  position: relative;
  width: 100%;
  aspect-ratio: 16 / 9; /* 菫晄戟16:9逧�｢�ｧ域ｯ比ｾ� */
  background-color: #f0f2f5;
  border: 2px dashed var(--border-color);
  border-radius: 8px;
  margin-bottom: 15px;
  display: none; /* 鮟倩ｮ､髫占酪 */
  justify-content: center;
  align-items: center;
}
.post-image-preview-container.visible {
  display: flex; /* 荳贋ｼ�蜷取仞遉ｺ */
}

#post-image-preview {
  max-width: 100%;
  max-height: 100%;
  object-fit: contain;
  border-radius: 6px;
}

#post-remove-image-btn {
  position: absolute;
  top: -10px;
  right: -10px;
  width: 24px;
  height: 24px;
  border-radius: 50%;
  background-color: #ff3b30;
  color: white;
  border: 2px solid white;
  font-size: 16px;
  line-height: 20px;
  text-align: center;
  cursor: pointer;
  box-shadow: 0 1px 4px rgba(0, 0, 0, 0.3);
}

.post-image-upload-options {
  display: flex;
  gap: 10px;
}

.post-image-upload-options button {
  flex: 1;
  margin-top: 0;
}

/* 笆ｲ笆ｲ笆ｲ 譁ｰ譬ｷ蠑冗ｻ捺據 笆ｲ笆ｲ笆ｲ */

/* 笆ｼ笆ｼ笆ｼ 譁ｰ譬ｷ蠑� 笆ｼ笆ｼ笆ｼ */

/* === 蜿大ｸ�勘諤∵ｨ｡諤∵｡� - 讓｡蠑丞�謐｢譬ｷ蠑� === */
.post-mode-switcher {
  display: flex;
  margin-bottom: 20px;
  background-color: #e9ecef;
  border-radius: 8px;
  padding: 4px;
}

.mode-btn {
  flex: 1;
  padding: 8px;
  border: none;
  background-color: transparent;
  border-radius: 6px;
  font-size: 14px;
  font-weight: 500;
  color: var(--text-secondary);
  cursor: pointer;
  transition: all 0.2s ease-in-out;
}

.mode-btn.active {
  background-color: var(--secondary-bg);
  color: var(--text-primary);
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
}

.post-mode-content {
  display: none; /* 鮟倩ｮ､驛ｽ髫占酪 */
}

.post-mode-content.active {
  display: block; /* 豼豢ｻ逧�燕譏ｾ遉ｺ */
}

/* 笆ｲ笆ｲ笆ｲ 譁ｰ譬ｷ蠑冗ｻ捺據 笆ｲ笆ｲ笆ｲ */

/* === 逶ｸ蜀碁｡ｵ髱｢閭梧勹濶ｲ === */
#album-screen {
  background-color: #f0f2f5; /* 菴ｿ逕ｨ荳荳ｪ譟泌柱逧�ｵ��濶ｲ�梧ｯ皮ｺｯ逋ｽ譖ｴ謚､逵ｼ */
}

/* === 逶ｸ蜀碁｡ｵ髱｢鄂第�ｼ蟶�ｱ === */
#album-grid-page {
  padding: 15px;
  display: grid;
  grid-template-columns: repeat(2, 1fr); /* 豈剰｡梧仞遉ｺ2荳ｪ逶ｸ蜀� */
  gap: 15px;
}

/* === 逶ｸ蜀碁｡ｹ逶ｮ譬ｷ蠑� (鄒主喧) === */
.album-item {
  display: flex;
  flex-direction: column;
  cursor: pointer;
  transition: transform 0.2s ease, box-shadow 0.2s ease;
  border-radius: 8px; /* 扈呎紛荳ｪ鬘ｹ逶ｮ荵溷刈荳ｪ蝨�ｧ� */
}

.album-item:hover {
  transform: translateY(-5px);
  box-shadow: 0 8px 15px rgba(0, 0, 0, 0.1);
}

.album-cover {
  aspect-ratio: 1 / 1; /* 菫晄戟蟆�擇荳ｺ豁｣譁ｹ蠖｢ */
  background-size: cover;
  background-position: center;
  border-radius: 8px;
  margin-bottom: 8px;
  background-color: #f0f2f5; /* 蟆�擇蜉�霓ｽ蜑咲噪蜊�菴埼｢懆牡 */
}

.album-info {
  text-align: center;
}

.album-name {
  font-weight: 500;
  margin: 0 0 4px 0;
  color: var(--text-primary);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis; /* 髦ｲ豁｢髟ｿ蜷榊ｭ玲困陦� */
}

.album-count {
  font-size: 12px;
  color: var(--text-secondary);
  margin: 0;
}

/* 笆ｲ笆ｲ笆ｲ 譁ｰ逧� CSS 邊倩ｴｴ扈捺據 笆ｲ笆ｲ笆ｲ */

/* 笆ｼ笆ｼ笆ｼ 隸ｷ蟆�ｿ吩ｺ帶眠譬ｷ蠑冗ｲ倩ｴｴ蛻ｰ <style> 逧�忰蟆ｾ 笆ｼ笆ｼ笆ｼ */

/* === 逶ｸ蜀檎�迚�ｯｦ諠�｡ｵ === */
#album-photos-screen {
  background-color: #f0f2f5;
}

#photos-grid-page {
  padding: 15px;
  display: grid;
  /* 豈剰｡梧仞遉ｺ3蠑�辣ｧ迚�ｼ悟ｹｶ菫晄戟髣ｴ霍� */
  grid-template-columns: repeat(3, 1fr);
  gap: 10px;
}

.photo-item {
  position: relative; /* 荳ｺ莠�ｮ壻ｽ榊唖髯､謖蛾聴 */
  aspect-ratio: 1 / 1; /* 菫晄戟辣ｧ迚�ｸｺ豁｣譁ｹ蠖｢ */
  border-radius: 6px;
  overflow: hidden; /* 髦ｲ豁｢蝗ｾ迚�ｺ｢蜃ｺ蝨�ｧ� */
  background-color: #e9ecef; /* 蝗ｾ迚�刈霓ｽ蜑咲噪蜊�菴咲ｬｦ鬚懆牡 */
}

.photo-item .photo-thumb {
  width: 100%;
  height: 100%;
  object-fit: cover; /* 菫晁ｯ∝崟迚�｡ｫ貊｡螳ｹ蝎ｨ荳比ｸ榊序蠖｢ */
  cursor: pointer;
}

/* 蛻�髯､謖蛾聴逧��ｷ蠑� */
.photo-item .photo-delete-btn {
  position: absolute;
  top: 5px;
  right: 5px;
  width: 22px;
  height: 22px;
  background-color: rgba(0, 0, 0, 0.6);
  color: white;
  border: none;
  border-radius: 50%;
  font-size: 16px;
  line-height: 22px;
  text-align: center;
  cursor: pointer;
  opacity: 0; /* 鮟倩ｮ､髫占酪 */
  transition: opacity 0.2s ease;
}

/* 鮠�譬�ぎ蛛懷惠辣ｧ迚�ｸ頑慮譏ｾ遉ｺ蛻�髯､謖蛾聴 */
.photo-item:hover .photo-delete-btn {
  opacity: 1;
}

/* 笆ｲ笆ｲ笆ｲ 譁ｰ譬ｷ蠑冗ｲ倩ｴｴ扈捺據 笆ｲ笆ｲ笆ｲ */

/* === 蝗ｾ迚�衍逵句勣讓｡諤∵｡��ｷ蠑� === */
#photo-viewer-modal {
  background-color: rgba(0, 0, 0, 0.85);
  z-index: 1002;
  -webkit-backdrop-filter: blur(5px);
  backdrop-filter: blur(5px);
}

.photo-viewer-content {
  display: flex;
  justify-content: center;
  align-items: center;
  width: 100%;
  height: 100%;
}

#photo-viewer-image {
  max-width: 90vw; /* 蝗ｾ迚�怙螟ｧ螳ｽ蠎ｦ荳ｺ隗�哨逧�90% */
  max-height: 85vh; /* 蝗ｾ迚�怙螟ｧ鬮伜ｺｦ荳ｺ隗�哨逧�85% */
  object-fit: contain;
  border-radius: 8px;
  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
  /* 荳ｺ蝗ｾ迚�噪蛻�困豺ｻ蜉�荳轤ｹ蟷ｳ貊醍噪豺｡蜈･豺｡蜃ｺ謨域棡 */
  transition: opacity 0.2s ease-in-out;
}

/* 蜈ｳ髣ｭ謖蛾聴 */
#photo-viewer-close-btn {
  position: absolute;
  top: 20px;
  right: 20px;
  background: none;
  border: none;
  color: white;
  font-size: 40px;
  font-weight: 200;
  cursor: pointer;
  line-height: 1;
  text-shadow: 0 0 5px black;
}

/* 蟾ｦ蜿ｳ蟇ｼ闊ｪ邂ｭ螟ｴ */
#photo-viewer-modal .nav-arrow {
  position: absolute; /* 邇ｰ蝨ｨ謌台ｻｬ逕ｨ扈晏ｯｹ螳壻ｽ肴擂謗ｧ蛻ｶ邂ｭ螟ｴ */
  top: 50%;
  transform: translateY(-50%);
  background: none;
  border: none;
  color: rgba(255, 255, 255, 0.7);
  font-size: 50px; /* 蝨ｨ謇区惻螻丞ｹ穂ｸ奇ｼ悟庄莉･遞榊ｾｮ蟆丈ｸ轤ｹ */
  font-weight: 100;
  cursor: pointer;
  padding: 10px; /* 隹�紛蜀�ｾｹ霍� */
  user-select: none;
  transition: color 0.2s;
  z-index: 1003; /* 遑ｮ菫晉ｮｭ螟ｴ蝨ｨ譛荳雁ｱ� */
}

#photo-viewer-prev-btn {
  left: 5px; /* 螳壻ｽ榊ｷｦ邂ｭ螟ｴ */
}

#photo-viewer-next-btn {
  right: 5px; /* 螳壻ｽ榊承邂ｭ螟ｴ */
}

#photo-viewer-modal .nav-arrow:hover {
  color: white;
}

/* 蠖鍋ｮｭ螟ｴ陲ｫ遖∫畑譌ｶ�域ｯ泌ｦらｬｬ荳蠑�謌匁怙蜷惹ｸ蠑��� */
#photo-viewer-modal .nav-arrow:disabled {
  color: rgba(255, 255, 255, 0.2);
  cursor: default;
}

/* 笆ｲ笆ｲ笆ｲ 譁ｰ譬ｷ蠑冗ｲ倩ｴｴ扈捺據 笆ｲ笆ｲ笆ｲ */

/* 笆ｼ笆ｼ笆ｼ 隸ｷ蟆�ｿ吩ｺ帶眠譬ｷ蠑冗ｲ倩ｴｴ蛻ｰ <style> 逧�忰蟆ｾ 笆ｼ笆ｼ笆ｼ */

/* 笆ｼ笆ｼ笆ｼ 隸ｷ逕ｨ霑吝摎譁ｰCSS譖ｿ謐｢謗我ｸ贋ｸ迚育噪莠､莠貞玄CSS 笆ｼ笆ｼ笆ｼ */

/* === 蟶門ｭ仙�螳ｹ蛹ｺ - 逶ｸ蟇ｹ螳壻ｽ榊ｮｹ蝎ｨ === */
/* === 蟶門ｭ仙�螳ｹ蛹ｺ === */
.post-main-content {
  /* 螳�鴫蝨ｨ蜿ｪ譏ｯ荳荳ｪ譎ｮ騾夂噪蜀�ｮｹ螳ｹ蝎ｨ�御ｸ榊�髴隕∫音谿頑�ｷ蠑丈ｺ� */
}

/* === 蟶門ｭ蝉ｺ貞勘蝗ｾ譬�玄 (譁ｰ譬ｷ蠑�) === */
.post-feedback-icons {
  display: flex;
  justify-content: flex-end; /* 隶ｩ蝗ｾ譬�擒蜿ｳ蟇ｹ鮨� */
  align-items: center;
  gap: 12px;
  padding: 8px 0; /* 譬ｸ蠢�ｿｮ謾ｹ�夂ｻ吝崟譬�玄蝓滉ｸ贋ｸ句推8px逧�蕗逋ｽ */
}

.action-icon {
  cursor: pointer;
  color: var(--text-secondary); /* 鮟倩ｮ､轣ｰ濶ｲ */
  transition: all 0.2s ease-in-out;
}

.action-icon svg {
  width: 22px;
  height: 22px;
  fill: none;
  stroke: currentColor;
  stroke-width: 2;
  stroke-linecap: round;
  stroke-linejoin: round;
}

/* 蝗ｾ譬�ｿ豢ｻ(轤ｹ襍�/謾ｶ阯丞錘)逧��ｷ蠑� */
.action-icon.active {
  color: #ff5252; /* 豼豢ｻ蜷主序郤｢濶ｲ */
  transform: scale(1.1); /* 霓ｻ蠕ｮ謾ｾ螟ｧ */
}

.action-icon.active.favorite {
  color: #ffc107; /* 謾ｶ阯冗畑鮟�牡 */
}

.action-icon.active svg {
  fill: currentColor; /* 豼豢ｻ蜷主｡ｫ蜈�｢懆牡 */
}

/* 轤ｹ蜃ｻ譌ｶ逧�勘逕ｻ謨域棡 */
.animate-like {
  animation: like-bounce 0.4s ease-in-out;
}

@keyframes like-bounce {
  0% {
    transform: scale(1);
  }
  25% {
    transform: scale(0.8);
  }
  50% {
    transform: scale(1.2);
  }
  75% {
    transform: scale(1.05);
  }
  100% {
    transform: scale(1.1);
  }
}

/* === 蟶門ｭ仙ｺ暮Κ隸�ｮｺ蛹ｺ譬ｷ蠑� (邇ｰ蝨ｨ譏ｯ迢ｬ遶矩Κ蛻�) === */
.post-footer {
  margin-top: 15px;
  padding-top: 10px;
  border-top: 1px solid #f0f0f0; /* 逕ｨ荳譚｡豬�牡郤ｿ蛻�囈 */
  display: flex;
  align-items: center;
  gap: 8px; /* 隹�紛謨ｴ菴馴龍霍� */
}

/* 隸�ｮｺ蛹ｺ螳ｹ蝎ｨ */
.comment-section {
  flex-grow: 1; /* 蜊�謐ｮ螟ｧ驛ｨ蛻�ｩｺ髣ｴ */
  display: flex;
  align-items: center;
  gap: 8px;
}

.comment-section .comment-avatar {
  width: 28px;
  height: 28px;
  border-radius: 50%;
  object-fit: cover;
  flex-shrink: 0;
}

.comment-section .comment-input {
  width: 100%;
  padding: 8px 12px;
  border: none;
  background-color: #f0f2f5;
  border-radius: 14px;
  font-size: 13px;
  outline: none;
}

/* 譁ｰ蠅樒噪蜿鷹∵潔髓ｮ譬ｷ蠑� */
.comment-send-btn {
  flex-shrink: 0; /* 髦ｲ豁｢陲ｫ蜴狗ｼｩ */
  padding: 8px 15px;
  border: none;
  background-color: var(--accent-color);
  color: white;
  border-radius: 14px;
  font-size: 13px;
  font-weight: 500;
  cursor: pointer;
}

/* 笆ｲ笆ｲ笆ｲ 譁ｰ譬ｷ蠑冗ｲ倩ｴｴ扈捺據 笆ｲ笆ｲ笆ｲ */

/* 笆ｼ笆ｼ笆ｼ 隸ｷ蟆�ｿ呎ｮｵ譁ｰ譬ｷ蠑冗ｲ倩ｴｴ蛻ｰ <style> 逧�忰蟆ｾ 笆ｼ笆ｼ笆ｼ */

/* === 譛ｪ隸ｻ豸域�蟆冗ｺ｢轤ｹ騾夂畑譬ｷ蠑� === */
.unread-indicator {
  position: absolute;
  top: -8px;
  right: -15px;
  min-width: 18px;
  height: 18px;
  padding: 0 5px;
  background-color: #ff3b30;
  color: white;
  font-size: 11px;
  font-weight: bold;
  line-height: 18px;
  text-align: center;
  border-radius: 9px;
  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);
  display: none;
  z-index: 1;
}

/* 閨雁､ｩ逡碁擇霑泌屓謖蛾聴荳顔噪蟆冗ｺ｢轤ｹ (蜿ｪ譏ｾ遉ｺ轤ｹ�御ｸ肴仞遉ｺ謨ｰ蟄�) */
.back-btn-indicator {
  top: 0;
  right: -8px; /* 謾ｾ蛻ｰ霑泌屓邂ｭ螟ｴ蜿ｳ荳願ｧ� */
  width: 10px;
  height: 10px;
  min-width: 10px;
  padding: 0;
  border-radius: 50%;
}

/* 笆ｲ笆ｲ笆ｲ 譁ｰ譬ｷ蠑冗ｲ倩ｴｴ扈捺據 笆ｲ笆ｲ笆ｲ */

/* 笆ｼ笆ｼ笆ｼ 隸ｷ蟆�ｿ呎ｮｵ譁ｰ譬ｷ蠑冗ｲ倩ｴｴ蛻ｰ <style> 逧�忰蟆ｾ 笆ｼ笆ｼ笆ｼ */

/* === 隸�ｮｺ蛻苓｡ｨ螳ｹ蝎ｨ === */
.post-comments-container {
  padding: 10px 0; /* 荳贋ｸ狗蕗逋ｽ */
  display: flex;
  flex-direction: column;
  gap: 8px; /* 隸�ｮｺ荵矩龍逧�龍霍� */
  font-size: 13px; /* 扈滉ｸ隸�ｮｺ蛹ｺ蟄嶺ｽ灘､ｧ蟆� */
}

/* 豈丈ｸ譚｡隸�ｮｺ */
.comment-item {
  line-height: 1.5;
}

/* 隸�ｮｺ閠�噪蜷榊ｭ暦ｼ悟刈邊怜ｹｶ菴ｿ逕ｨ荳ｻ鬚倩牡 */
.comment-item .commenter-name {
  font-weight: 600;
  color: var(--accent-color);
  cursor: pointer;
  margin-right: 5px; /* 蜥瑚ｯ�ｮｺ蜀�ｮｹ荵矩龍逡咏せ遨ｺ髫� */
}

/* 隸�ｮｺ蜀�ｮｹ */
.comment-item .comment-text {
  color: var(--text-primary);
  word-break: break-word;
}
/* 笆ｲ笆ｲ笆ｲ 譁ｰ譬ｷ蠑冗ｲ倩ｴｴ扈捺據 笆ｲ笆ｲ笆ｲ */

/* 笆ｼ笆ｼ笆ｼ 隸ｷ蟆�ｿ呎ｮｵ譁ｰ譬ｷ蠑冗ｲ倩ｴｴ蛻ｰ <style> 逧�忰蟆ｾ 笆ｼ笆ｼ笆ｼ */

/* === 蟶門ｭ千せ襍槫玄蝓滓�ｷ蠑� === */
.post-likes-section {
  display: flex;
  align-items: center;
  gap: 6px; /* 蝗ｾ譬�柱譁�ｭ礼噪髣ｴ霍� */
  padding: 8px 10px; /* 蜀�ｾｹ霍� */
  font-size: 13px;
  color: var(--accent-color); /* 菴ｿ逕ｨ荳ｻ鬚倩統濶ｲ */
  background-color: #f0f5fa; /* 扈吩ｸ荳ｪ豺｡豺｡逧�レ譎ｯ濶ｲ */
  border-top: 1px solid #e9eef3;
  border-bottom: 1px solid #e9eef3;
  margin-top: 5px; /* 蜥御ｸ頑婿逧�崟譬�ｿ晄戟荳轤ｹ霍晉ｦｻ */
}

.post-likes-section .like-icon {
  width: 16px;
  height: 16px;
  fill: currentColor; /* 隶ｩSVG蝗ｾ譬�ｻｧ謇ｿ辷ｶ蜈�ｴ�逧�｢懆牡 */
  flex-shrink: 0; /* 髦ｲ豁｢蝗ｾ譬�｢ｫ蜴狗ｼｩ */
}

/* 笆ｲ笆ｲ笆ｲ 譁ｰ譬ｷ蠑冗ｲ倩ｴｴ扈捺據 笆ｲ笆ｲ笆ｲ */

/* 笆ｼ笆ｼ笆ｼ 隸ｷ蟆�ｿ呎ｮｵ譁ｰ譬ｷ蠑冗ｲ倩ｴｴ蛻ｰ <style> 逧�忰蟆ｾ 笆ｼ笆ｼ笆ｼ */

/* === @謠仙所 蠑ｹ蜃ｺ闖懷黒譬ｷ蠑� === */
.at-mention-popup {
  position: absolute; /* 逶ｸ蟇ｹ莠守宛蜈�ｴ�螳壻ｽ� */
  bottom: 100%; /* 譏ｾ遉ｺ蝨ｨ霎灘�譯�噪荳頑婿 */
  left: 40px; /* 蜥瑚ｾ灘�譯�ｷｦ萓ｧ蟇ｹ鮨� (閠�剔莠�､ｴ蜒丞ｮｽ蠎ｦ) */
  width: calc(100% - 40px); /* 螳ｽ蠎ｦ蜥瑚ｾ灘�譯�ｷｮ荳榊､� */
  max-height: 120px;
  overflow-y: auto;
  background-color: var(--secondary-bg);
  border: 1px solid var(--border-color);
  border-radius: 8px;
  box-shadow: 0 -4px 12px rgba(0, 0, 0, 0.1);
  z-index: 10;
  display: none; /* 鮟倩ｮ､髫占酪 */
}

.at-mention-item {
  padding: 8px 12px;
  font-size: 14px;
  cursor: pointer;
  color: var(--text-primary);
  border-bottom: 1px solid #f0f0f0;
}

.at-mention-item:last-child {
  border-bottom: none;
}

.at-mention-item:hover {
  background-color: #f5f5f5;
}
/* 笆ｲ笆ｲ笆ｲ 譁ｰ譬ｷ蠑冗ｲ倩ｴｴ扈捺據 笆ｲ笆ｲ笆ｲ */

/* 笆ｼ笆ｼ笆ｼ 隸ｷ蟆�ｿ呎ｮｵ譁ｰ譬ｷ蠑冗ｲ倩ｴｴ蛻ｰ <style> 逧�忰蟆ｾ 笆ｼ笆ｼ笆ｼ */

/* 笆ｼ笆ｼ笆ｼ 隸ｷ逕ｨ荳矩擇霑呎ｮｵ縲先眠譬ｷ蠑上第崛謐｢謗我ｽ�邇ｰ譛臥噪 #favorites-list 譬ｷ蠑� 笆ｼ笆ｼ笆ｼ */

/* 隶ｩ謾ｶ阯剰ｧ�崟謌蝉ｸｺ荳荳ｪflex螳ｹ蝎ｨ, 莉惹ｸ雁芦荳区賜蛻� */
#favorites-view {
  display: flex;
  flex-direction: column;
}

/* 遑ｮ菫晄噺阯城｡ｵ逧�eader鬮伜ｺｦ蝗ｺ螳夲ｼ御ｸ崎｢ｫ蜴狗ｼｩ */
#favorites-view > .header {
  flex-shrink: 0;
}

/* === 謾ｶ阯丞�陦ｨ譬ｷ蠑� (菫ｮ豁｣蜷�) === */
#favorites-list {
  flex-grow: 1;
  overflow-y: auto;
  overflow-x: hidden; /* <-- 譁ｰ蠅櫁ｿ呵｡鯉ｼ檎ｦ∵ｭ｢豌ｴ蟷ｳ貊壼勘 */
  padding: 15px;
  display: flex;
  flex-direction: column;
  gap: 15px;
}

/* 笆ｲ笆ｲ笆ｲ 譖ｿ謐｢扈捺據 笆ｲ笆ｲ笆ｲ */

.favorite-item-card {
  background-color: var(--secondary-bg);
  border-radius: 12px;
  padding: 15px;
  box-shadow: 0 1px 4px rgba(0, 0, 0, 0.06);
  position: relative; /* 荳ｺ莠�ｮ壻ｽ榊唖髯､謖蛾聴 */
}

/* 蜊｡迚�､ｴ驛ｨ�悟桁蜷ｫ螟ｴ蜒上∝錐蟄怜柱譚･貅� */
.fav-card-header {
  display: flex;
  align-items: center;
  gap: 10px;
  margin-bottom: 12px;
}

.fav-card-header .avatar {
  width: 36px;
  height: 36px;
  border-radius: 50%;
  object-fit: cover;
}

.fav-card-header .info {
  flex-grow: 1;
}

.fav-card-header .name {
  font-weight: 600;
  font-size: 15px;
}

.fav-card-header .source {
  font-size: 12px;
  color: var(--text-secondary);
}

/* 蜊｡迚��螳ｹ */
.fav-card-content {
  font-size: 14px;
  line-height: 1.6;
  color: #333;
  white-space: pre-wrap;
  word-break: break-word;
}

.fav-card-content .chat-image {
  margin-top: 8px; /* 蝗ｾ迚�柱譁�ｭ礼噪髣ｴ霍� */
}

/* 蛻�髯､謖蛾聴 */
.fav-delete-btn {
  position: absolute;
  top: 10px;
  right: 10px;
  width: 28px;
  height: 28px;
  background: #f0f2f5;
  border: none;
  border-radius: 50%;
  cursor: pointer;
  font-size: 18px;
  color: var(--text-secondary);
  line-height: 28px;
  text-align: center;
}

.fav-delete-btn:hover {
  background-color: #e9ecef;
  color: #ff3b30;
}

/* 笆ｲ笆ｲ笆ｲ 譁ｰ譬ｷ蠑冗ｲ倩ｴｴ扈捺據 笆ｲ笆ｲ笆ｲ */

/* 笆ｼ笆ｼ笆ｼ 隸ｷ蟆�ｿ呎ｮｵ譁ｰ譬ｷ蠑冗ｲ倩ｴｴ蛻ｰ <style> 逧�忰蟆ｾ 笆ｼ笆ｼ笆ｼ */

/* === 謳懃ｴ｢譬乗�ｷ蠑� === */
.search-bar-container {
  padding: 10px 15px;
  background-color: #f9f9f9; /* 蜥悟�陦ｨ閭梧勹濶ｲ菫晄戟荳閾ｴ */
  position: relative; /* 荳ｺ莠�ｮ壻ｽ肴ｸ�勁謖蛾聴 */
  flex-shrink: 0;
}

#favorites-search-input {
  width: 100%;
  padding: 10px 30px 10px 15px; /* 蜿ｳ萓ｧ逡吝�貂�勁謖蛾聴逧�ｽ咲ｽｮ */
  font-size: 14px;
  border: 1px solid var(--border-color);
  border-radius: 18px; /* 蝨�ｧ堤洸蠖｢�梧峩邇ｰ莉｣蛹� */
  background-color: var(--secondary-bg);
  box-sizing: border-box;
  outline: none;
}
#favorites-search-input:focus {
  border-color: var(--accent-color);
}

.search-clear-btn {
  position: absolute;
  right: 25px;
  top: 50%;
  transform: translateY(-50%);
  background: #ccc;
  color: white;
  border: none;
  border-radius: 50%;
  width: 20px;
  height: 20px;
  line-height: 20px;
  text-align: center;
  font-size: 16px;
  cursor: pointer;
}

/* 笆ｲ笆ｲ笆ｲ 譁ｰ譬ｷ蠑冗ｲ倩ｴｴ扈捺據 笆ｲ笆ｲ笆ｲ */

/* === 閨雁､ｩ逡碁擇螟夐画桃菴懈�丈ｼ伜喧 === */
#chat-interface-screen .header .selection-controls {
  display: flex;
  justify-content: space-between;
  align-items: center;
  width: 100%;
}

#chat-interface-screen .selection-controls .action-btn {
  font-size: 16px;
  font-weight: 600;
  cursor: pointer;
  padding: 5px;
}

/* === 謾ｶ阯城｡ｵ髱｢螟夐画ｨ｡蠑乗�ｷ蠑� === */
#favorites-view.selection-mode .favorite-item-card {
  transition: transform 0.2s ease, box-shadow 0.2s ease;
}

/* 騾画叫譯�噪譬ｷ蠑� */
.favorite-item-card::before {
  content: '';
  position: absolute;
  left: -25px; /* 謚雁ｮ�叛蝨ｨ蜊｡迚�ｷｦ霎ｹ螟夜擇 */
  top: 50%;
  transform: translateY(-50%);
  width: 20px;
  height: 20px;
  border: 2px solid #ccc;
  border-radius: 50%;
  background-color: white;
  transition: all 0.2s ease;
  opacity: 0; /* 鮟倩ｮ､髫占酪 */
}

/* 霑帛�騾画叫讓｡蠑乗慮�悟今迚�髄蜿ｳ遘ｻ蜉ｨ�碁愆蜃ｺ騾画叫譯� */
#favorites-view.selection-mode .favorite-item-card {
  transform: translateX(35px);
}
#favorites-view.selection-mode .favorite-item-card::before {
  opacity: 1;
}

/* 騾我ｸｭ蜷守噪譬ｷ蠑� */
#favorites-view.selection-mode .favorite-item-card.selected::before {
  background-color: var(--accent-color);
  border-color: var(--accent-color);
  content: '笨�';
  color: white;
  font-size: 14px;
  text-align: center;
  line-height: 20px;
}

/* 蠎暮Κ謫堺ｽ懈�� (扈域栫菫ｮ豁｣迚�) */
#favorites-action-bar {
  position: absolute; /* 笘� 謾ｹ荳ｺ absolute�檎嶌蟇ｹ莠� #phone-screen 螳壻ｽ� */
  bottom: 0;
  left: 0;
  right: 0; /* 笘� 譁ｰ蠅� right: 0�悟柱 left: 0 荳襍ｷ謦第ｻ｡螳ｽ蠎ｦ */
  width: auto; /* 笘� 謾ｹ荳ｺ auto�瑚ｮｩ left/right 蜀ｳ螳壼ｮｽ蠎ｦ */
  padding: 10px 15px;
  padding-bottom: calc(10px + env(safe-area-inset-bottom)); /* 騾る�iPhone蠎暮Κ螳牙�蛹ｺ */
  background-color: rgba(247, 247, 247, 0.9);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  border-top: 1px solid var(--border-color);
  box-sizing: border-box;
  z-index: 5;
  display: none;
  /* max-width 蟾ｲ扈丈ｸ埼怙隕∽ｺ�ｼ悟屏荳ｺ辷ｶ蜈�ｴ�蟾ｲ扈城剞蛻ｶ莠�ｮｽ蠎ｦ */
}

#favorites-action-bar .action-bar-btn {
  width: 100%;
  padding: 12px;
  border-radius: 8px;
  border: none;
  font-size: 16px;
  font-weight: 600;
  cursor: pointer;
  background-color: #ff3b30;
  color: white;
}

/* === 縲蝉ｿｮ豁｣縲題♀螟ｩ逡碁擇螟ｴ驛ｨ謗ｧ莉ｶ蛻�困騾ｻ霎� === */

/* 鮟倩ｮ､迥ｶ諤�ｼ夐嚼阯丞､夐画而莉ｶ */
#chat-interface-screen .header .selection-controls {
  display: none;
}

/* 鮟倩ｮ､迥ｶ諤�ｼ壽仞遉ｺ鮟倩ｮ､謗ｧ莉ｶ�悟ｹｶ隶ｩ螳�酎貊｡謨ｴ荳ｪ螟ｴ驛ｨ */
#chat-interface-screen .header .default-controls {
  display: flex;
  justify-content: space-between;
  align-items: center;
  width: 100%;
}

/* 蠖楢ｿ帛�螟夐画ｨ｡蠑乗慮�夐嚼阯城ｻ倩ｮ､謗ｧ莉ｶ */
#chat-interface-screen.selection-mode .header .default-controls {
  display: none;
}

/* 蠖楢ｿ帛�螟夐画ｨ｡蠑乗慮�壽仞遉ｺ螟夐画而莉ｶ�悟ｹｶ隶ｩ螳�酎貊｡謨ｴ荳ｪ螟ｴ驛ｨ */
#chat-interface-screen.selection-mode .header .selection-controls {
  display: flex;
  justify-content: space-between;
  align-items: center;
  width: 100%;
}

/* 笆ｼ笆ｼ笆ｼ 隸ｷ蟆�ｿ呎ｮｵ譁ｰ譬ｷ蠑冗ｲ倩ｴｴ蛻ｰ <style> 逧�忰蟆ｾ 笆ｼ笆ｼ笆ｼ */

/* === 菫ｮ豁｣�壽叛螟ｧ謇譛我ｸｻ隕∫噪窶�+窶晏捷謖蛾聴 === */
#add-chat-btn,
#add-world-book-btn,
#create-album-btn-page {
  font-size: 28px; /* 譏ｾ闡怜｢槫､ｧ蟄嶺ｽ灘､ｧ蟆擾ｼ御ｽｿ蜈ｶ隗�ｧ我ｸ贋ｸ取浴霎ｹ逧�崟譬�源驟� */
  font-weight: 300; /* 菴ｿ逕ｨ譖ｴ扈�噪蟄鈴㍾�瑚ｮｩ蜉�蜿ｷ逵玖ｵｷ譚･譖ｴ貂�或�御ｸ肴仞邊礼ｬｨ */
  position: relative; /* 蜈∬ｮｸ霑幄｡御ｽ咲ｽｮ蠕ｮ隹� */
  top: -1px; /* 蟄嶺ｽ捺叛螟ｧ蜷趣ｼ碁壼ｸｸ髴隕∫ｨ榊ｾｮ蜷台ｸ顔ｧｻ蜉ｨ荳轤ｹ�御ｽｿ蜈ｶ隗�ｧ我ｸ頑峩螻�ｸｭ */
}

/* 笆ｲ笆ｲ笆ｲ 譁ｰ譬ｷ蠑冗ｲ倩ｴｴ扈捺據 笆ｲ笆ｲ笆ｲ */

/* 笆ｼ笆ｼ笆ｼ 隸ｷ蟆�ｿ吩ｺ帶眠譬ｷ蠑冗ｲ倩ｴｴ蛻ｰ <style> 逧�忰蟆ｾ 笆ｼ笆ｼ笆ｼ */

/* 鬚�ｧ亥玄螳ｹ蝎ｨ譬ｷ蠑� */
#settings-preview-area {
  width: 100%;
  height: 180px; /* 扈吩ｸ荳ｪ蝗ｺ螳夂噪鬮伜ｺｦ */
  background-color: #f0f2f5;
  border-radius: 8px;
  padding: 15px;
  box-sizing: border-box;
  overflow: hidden; /* 髦ｲ豁｢蜀�ｮｹ貅｢蜃ｺ */
  display: flex;
  flex-direction: column;
  gap: 10px; /* 鬚�ｧ域ｰ疲ｳ｡荵矩龍逧�龍霍� */
  border: 1px solid var(--border-color);
  position: relative; /* 荳ｺ莠�ｮ壻ｽ崎レ譎ｯ */
}

/* 鬚�ｧ亥玄逧�レ譎ｯ�悟庄莉･蜥檎悄螳櫁♀螟ｩ逡碁擇蜷梧ｭ･ */
#settings-preview-area::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-size: cover;
  background-position: center;
  z-index: 1;
  opacity: 0.8;
}

/* 隶ｩ鬚�ｧ域ｰ疲ｳ｡蝨ｨ閭梧勹荵倶ｸ� */
#settings-preview-area .message-wrapper {
  position: relative;
  z-index: 2;
}

/* 鬚�ｧ亥玄蜀�ｽｿ逕ｨ逧�､ｴ蜒剰ｦ∝ｰ丈ｸ轤ｹ */
#settings-preview-area .message-bubble .avatar {
  width: 30px;
  height: 30px;
}

#settings-preview-area .message-bubble .timestamp {
  display: none; /* 鬚�ｧ亥玄荳埼怙隕∵仞遉ｺ譌ｶ髣ｴ謌ｳ */
}

/* 笆ｲ笆ｲ笆ｲ 譁ｰ譬ｷ蠑冗ｲ倩ｴｴ扈捺據 笆ｲ笆ｲ笆ｲ */

/* 笆ｼ笆ｼ笆ｼ 隸ｷ蟆�ｿ呎ｮｵ譁ｰCSS邊倩ｴｴ蛻ｰ <style> 逧�忰蟆ｾ 笆ｼ笆ｼ笆ｼ */
.existing-group-item {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 12px;
  background-color: #f9f9f9;
  border-radius: 8px;
  border: 1px solid var(--border-color);
}

.existing-group-item .group-name {
  font-weight: 500;
}

.existing-group-item .delete-group-btn {
  color: #ff3b30;
  font-size: 20px;
  cursor: pointer;
  padding: 5px;
}
/* 笆ｲ笆ｲ笆ｲ 譁ｰCSS邊倩ｴｴ扈捺據 笆ｲ笆ｲ笆ｲ */

/* 笆ｼ笆ｼ笆ｼ 隸ｷ蟆�ｿ呎ｮｵ譁ｰCSS邊倩ｴｴ蛻ｰ <style> 逧�忰蟆ｾ 笆ｼ笆ｼ笆ｼ */
.chat-group-container {
  border-bottom: 1px solid var(--border-color);
}
.chat-group-container:first-child {
  border-top: 1px solid var(--border-color);
}

.chat-group-header {
  display: flex;
  align-items: center;
  padding: 12px 15px;
  cursor: pointer;
  background-color: var(--secondary-bg); /* <-- 菫ｮ謾ｹ霑咎㈹�御ｽｿ逕ｨ蜿倬㍼ */
}

.chat-group-header .arrow {
  font-size: 14px;
  margin-right: 8px;
  transition: transform 0.2s ease;
}

.chat-group-header.collapsed .arrow {
  transform: rotate(-90deg);
}

.chat-group-header .group-name {
  font-weight: 600;
  font-size: 15px;
}

.chat-group-content {
  max-height: 1000px; /* 荳荳ｪ雜ｳ螟溷､ｧ逧�ｼ */
  overflow: hidden;
  transition: max-height 0.3s ease-in-out;
}

.chat-group-content.collapsed {
  max-height: 0;
}
/* 笆ｲ笆ｲ笆ｲ 譁ｰCSS邊倩ｴｴ扈捺據 笆ｲ笆ｲ笆ｲ */

/* 笆ｼ笆ｼ笆ｼ 隸ｷ蟆�ｿ呎ｮｵ譁ｰCSS邊倩ｴｴ蛻ｰ <style> 逧�忰蟆ｾ 笆ｼ笆ｼ笆ｼ */

/* 譬ｼ蠑丞勧謇区潔髓ｮ逧�ｮｹ蝎ｨ */
.format-helpers {
  display: flex;
  gap: 10px;
  margin-bottom: 15px; /* 荳惹ｸ区婿逧�枚譛ｬ譯�級蠑霍晉ｦｻ */
  flex-wrap: wrap; /* 螯よ棡謖蛾聴螟ｪ螟壼庄莉･謐｢陦� */
}

/* 蜊穂ｸｪ譬ｼ蠑丞勧謇区潔髓ｮ逧��ｷ蠑� */
.format-btn {
  background-color: #e9ecef;
  color: var(--text-primary);
  border: none;
  padding: 6px 12px;
  border-radius: 16px; /* 閭ｶ蝗雁ｽ｢迥ｶ�梧峩蜿句･ｽ */
  font-size: 13px;
  font-weight: 500;
  cursor: pointer;
  transition: background-color 0.2s;
}

.format-btn:hover {
  background-color: #dcdfe3;
}

/* 笆ｲ笆ｲ笆ｲ 譁ｰCSS邊倩ｴｴ扈捺據 笆ｲ笆ｲ笆ｲ */

/* 笆ｼ笆ｼ笆ｼ 隸ｷ蟆�ｿ呎ｮｵ譁ｰCSS邊倩ｴｴ蛻ｰ <style> 逧�忰蟆ｾ 笆ｼ笆ｼ笆ｼ */

/* 窶懌ｦ窶晄潔髓ｮ逧��ｷ蠑� */
.post-actions-btn {
  margin-left: auto; /* 蜈ｳ髞ｮ�夊ｮｩ螳��蜉ｨ髱�蛻ｰ譛蜿ｳ霎ｹ */
  padding: 5px 10px;
  font-size: 20px;
  font-weight: bold;
  color: var(--text-secondary);
  cursor: pointer;
  border-radius: 50%;
  line-height: 1;
}
.post-actions-btn:hover {
  background-color: #f0f0f0;
}

/* 蜉ｨ諤∫ｼ冶ｾ第ｨ｡諤∵｡�噪譬ｷ蠑� (螳�ｰ�､咲畑邇ｰ譛臥噪謫堺ｽ懆除蜊墓�ｷ蠑�) */
#post-actions-modal .custom-modal-footer button {
  width: 100%;
  border: none;
  border-bottom: 1px solid #dbdbdb;
  padding: 14px;
  font-size: 18px;
}
#post-actions-modal .custom-modal-footer button:last-child {
  border-bottom: none;
}
#post-actions-modal #cancel-post-action-btn {
  margin-top: 8px;
  border-radius: 8px;
  background-color: #f0f0f0;
}

/* 笆ｲ笆ｲ笆ｲ 譁ｰCSS邊倩ｴｴ扈捺據 笆ｲ笆ｲ笆ｲ */

/* 扈滉ｸ驥咲ｽｮ霓ｬ雍ｦ蜊｡迚��謇譛画枚蟄礼噪迚ｹ謨亥柱鬚懆牡 */
#chat-messages .transfer-card .transfer-title,
#chat-messages .transfer-card .transfer-amount,
#chat-messages .transfer-card .transfer-note {
  text-shadow: none !important; /* 蠑ｺ蛻ｶ遘ｻ髯､莉ｻ菴募書蜈画�髦ｴ蠖ｱ謨域棡 */
  color: white !important; /* 蠑ｺ蛻ｶ髞∝ｮ壽枚蟄鈴｢懆牡荳ｺ逋ｽ濶ｲ */
}

/* 蛻�悪髞∝ｮ壼推閾ｪ逧�ｭ嶺ｽ灘､ｧ蟆丞柱蟄鈴㍾�碁亟豁｢陲ｫ遽｡謾ｹ */
#chat-messages .transfer-card .transfer-title {
  font-size: 16px !important;
  font-weight: 600 !important;
}

#chat-messages .transfer-card .transfer-amount {
  font-size: 28px !important;
  font-weight: bold !important;
}

#chat-messages .transfer-card .transfer-note {
  font-size: 13px !important;
  opacity: 0.9 !important;
}

/* 笆ｼ笆ｼ笆ｼ 霑呎弍譁ｰ蠅樒噪譬ｷ蠑擾ｼ檎畑莠惹ｿｮ豁｣謇譛牙､ｴ驛ｨ譬�｢倡噪螻�ｸｭ髣ｮ鬚� 笆ｼ笆ｼ笆ｼ */
/* 笆ｼ笆ｼ笆ｼ 霑呎弍譁ｰ蠅樒噪譬ｷ蠑擾ｼ檎畑莠惹ｿｮ豁｣謇譛牙､ｴ驛ｨ譬�｢倡噪螻�ｸｭ髣ｮ鬚� 笆ｼ笆ｼ笆ｼ */
.header > span:nth-child(2) {
  position: absolute;
  left: 50%;
  transform: translateX(calc(-50% - 2px)); /* 蝨ｨ-50%逧�渕遑荳奇ｼ悟�蜷大ｷｦ謗ｨ2蜒冗ｴ� */

  /* (蜿ｯ騾我ｽ�耳闕�) 髦ｲ豁｢髟ｿ譬�｢倅ｸ惹ｸ､霎ｹ謖蛾聴驥榊匠 */
  max-width: 60%;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}
/* 笆ｲ笆ｲ笆ｲ 邊倩ｴｴ扈捺據 笆ｲ笆ｲ笆ｲ */

/* 笆ｼ笆ｼ笆ｼ 縲仙�譁ｰ縲大庄隗�喧豸域�郛冶ｾ大勣譬ｷ蠑� 笆ｼ笆ｼ笆ｼ */
#message-editor-container {
  display: flex;
  flex-direction: column;
  gap: 15px;
}

.message-editor-block {
  background-color: #f9f9f9;
  border: 1px solid var(--border-color);
  border-radius: 8px;
  padding: 12px;
}

.message-editor-block textarea {
  width: 100%;
  min-height: 60px;
  resize: vertical;
  border: 1px solid #ccc;
  border-radius: 6px;
  padding: 8px;
  font-size: 14px;
  box-sizing: border-box;
}

.message-editor-block .format-helpers {
  margin-top: 8px;
  margin-bottom: 0; /* 隕�尠鮟倩ｮ､逧� margin-bottom */
}

.message-editor-block .delete-block-btn {
  float: right;
  margin-top: -5px;
  background: none;
  border: none;
  color: #ff3b30;
  font-size: 20px;
  cursor: pointer;
}
/* 笆ｲ笆ｲ笆ｲ 譁ｰCSS邊倩ｴｴ扈捺據 笆ｲ笆ｲ笆ｲ */

/* 笆ｼ笆ｼ笆ｼ 縲仙�譁ｰ縲題＃邉ｻ莠ｺ騾画叫蝎ｨ譬ｷ蠑� 笆ｼ笆ｼ笆ｼ */
.contact-picker-item {
  display: flex;
  align-items: center;
  padding: 10px 15px;
  cursor: pointer;
  border-bottom: 1px solid var(--border-color);
}
.contact-picker-item .checkbox {
  width: 20px;
  height: 20px;
  border: 2px solid #ccc;
  border-radius: 50%;
  margin-right: 15px;
  transition: all 0.2s ease;
}
.contact-picker-item.selected .checkbox {
  background-color: var(--accent-color);
  border-color: var(--accent-color);
  content: '笨�';
  color: white;
  font-size: 14px;
  text-align: center;
  line-height: 20px;
}
.contact-picker-item .avatar {
  width: 40px;
  height: 40px;
  border-radius: 50%;
  margin-right: 12px;
}
.contact-picker-item .name {
  font-weight: 500;
}
/* 笆ｲ笆ｲ笆ｲ 譁ｰCSS邊倩ｴｴ扈捺據 笆ｲ笆ｲ笆ｲ */

/* 笆ｼ笆ｼ笆ｼ 縲仙�譁ｰ縲醍ｾ､謌仙遭邂｡逅�阜髱｢譬ｷ蠑� 笆ｼ笆ｼ笆ｼ */
#member-management-list {
  padding: 0; /* 遘ｻ髯､鮟倩ｮ､padding�瑚ｮｩ蛻苓｡ｨ鬘ｹ謦第ｻ｡ */
}

.member-management-item {
  display: flex;
  align-items: center;
  padding: 12px 15px;
  border-bottom: 1px solid var(--border-color);
}

.member-management-item .avatar {
  width: 40px;
  height: 40px;
  border-radius: 50%;
  margin-right: 12px;
}

.member-management-item .name {
  flex-grow: 1;
  font-weight: 500;
}

.member-management-item .remove-member-btn {
  background-color: #ff3b30;
  color: white;
  border: none;
  width: 28px;
  height: 28px;
  border-radius: 50%;
  font-size: 20px;
  line-height: 28px;
  text-align: center;
  cursor: pointer;
  flex-shrink: 0;
}

#member-management-actions {
  flex-shrink: 0;
  padding: 15px;
  border-top: 1px solid var(--border-color);
  background-color: #f7f7f7;
  display: flex;
  flex-direction: column;
  gap: 10px;
}

#member-management-actions button {
  width: 100%;
  padding: 15px;
  background-color: var(--accent-color);
  color: white;
  border: none;
  border-radius: 8px;
  font-size: 16px;
  font-weight: 600;
  cursor: pointer;
}
#member-management-actions #create-new-member-btn {
  background-color: #4cd964; /* 譁ｰ蟒ｺ逕ｨ扈ｿ濶ｲ�御ｻ･遉ｺ蛹ｺ蛻� */
}
/* 笆ｲ笆ｲ笆ｲ 譁ｰCSS邊倩ｴｴ扈捺據 笆ｲ笆ｲ笆ｲ */

/* 笆ｼ笆ｼ笆ｼ 縲仙�譁ｰ縲大､門獄莉｣莉伜今迚��ｷ蠑� 笆ｼ笆ｼ笆ｼ */
.message-bubble.is-waimai-request .content {
  padding: 0;
  background: transparent;
  box-shadow: none;
  border: none;
  backdrop-filter: none;
  -webkit-backdrop-filter: none;
}

.waimai-card {
  width: 240px;
  border-radius: 12px;
  overflow: hidden;
  background-color: #fff;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
}

.waimai-header {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 10px 12px;
  border-bottom: 1px solid #f0f0f0;
}

.waimai-header .icon {
  width: 20px;
  height: 20px;
}

.waimai-header .title-group {
  display: flex;
  align-items: baseline;
  font-size: 14px;
  color: #8a8a8a;
}
.waimai-header .title-group .brand {
  font-weight: 600;
  color: #555;
  margin-right: 5px;
}
.waimai-header .title-group .separator {
  margin: 0 5px;
}

.waimai-catchphrase {
  font-size: 13px;
  color: #1f1f1f;
  padding: 12px;
}

.waimai-main {
  background-color: #ffd66b; /* 讖咎ｻ�牡閭梧勹 */
  padding: 12px;
  text-align: center;
}

.waimai-main .request-title {
  font-size: 12px;
  color: #856404;
  margin-bottom: 8px;
}

.waimai-main .payment-box {
  background-color: #fff;
  border-radius: 8px;
  padding: 15px 10px;
}

.waimai-main .payment-label {
  font-size: 13px;
  color: #8a8a8a;
}

.waimai-main .amount {
  font-size: 32px;
  font-weight: 700;
  color: #1f1f1f;
  margin: 4px 0 12px 0;
}

.waimai-main .countdown-label {
  font-size: 13px;
  color: #8a8a8a;
}
.waimai-main .countdown-timer {
  display: inline-flex;
  align-items: center;
  gap: 2px;
  margin-left: 5px;
}
.waimai-main .countdown-timer span {
  background-color: #333;
  color: white;
  padding: 2px 4px;
  border-radius: 2px;
  font-weight: bold;
  font-size: 12px;
}

.waimai-details-btn {
  width: 100%;
  padding: 10px 0;
  margin-top: 15px;
  border: none;
  border-radius: 6px;
  background-color: #ffc33a;
  color: #49380a;
  font-size: 14px;
  font-weight: 600;
  cursor: pointer;
}
/* 笆ｲ笆ｲ笆ｲ 譁ｰCSS邊倩ｴｴ扈捺據 笆ｲ笆ｲ笆ｲ */

/* 笆ｼ笆ｼ笆ｼ 縲仙�譁ｰ縲大､門獄蜩榊ｺ皮憾諤∵�ｷ蠑� 笆ｼ笆ｼ笆ｼ */

/* === 蜷梧э謾ｯ莉伜錘逧��ｷ蠑� === */
.message-bubble.status-paid .waimai-card {
  border: 2px solid #28a745; /* 扈ｿ濶ｲ霎ｹ譯� */
}
.message-bubble.status-paid .waimai-main .request-title::before {
  content: '笨�  ';
}
.message-bubble.status-paid .waimai-main .request-title {
  color: #155724;
  font-weight: 600;
  /* 驥榊� request-title 逧��螳ｹ */
  content: '謌大ｷｲ荳ｺ謔ｨ荵ｰ蜊包ｼ瑚ｯｷ蟆ｽ諠�ｺｫ逕ｨ蜷ｧ��' !important;
  display: block;
  margin-bottom: 15px;
}

.message-bubble.status-paid .payment-box {
  display: none; /* 髫占酪謾ｯ莉倩ｯｦ諠� */
}
.message-bubble.status-paid .waimai-details-btn {
  background-color: #28a745;
  color: white;
}

/* === 諡堤ｻ晄髪莉伜錘逧��ｷ蠑� === */
.message-bubble.status-rejected .waimai-card {
  border: 2px solid #dc3545; /* 郤｢濶ｲ霎ｹ譯� */
  opacity: 0.8;
}
.message-bubble.status-rejected .waimai-main {
  background-color: #e9ecef;
}
.message-bubble.status-rejected .waimai-main .request-title::before {
  content: '笶� ';
}
.message-bubble.status-rejected .waimai-main .request-title {
  color: #721c24;
  font-weight: 600;
  /* 驥榊� request-title 逧��螳ｹ */
  content: '謌第拠扈昜ｺ�お逧�ｻ｣莉倩ｯｷ豎�' !important;
  display: block;
  margin-bottom: 15px;
}
.message-bubble.status-rejected .payment-box {
  display: none; /* 髫占酪謾ｯ莉倩ｯｦ諠� */
}
.message-bubble.status-rejected .waimai-details-btn {
  background-color: #6c757d;
  color: white;
}

/* 蠑ｺ蛻ｶ驥榊� request-title 蜀�ｮｹ逧�橿蟾ｧ */
.message-bubble[class*='status-'] .request-title {
  font-size: 0; /* 髫占酪蜴溷ｧ区枚譛ｬ */
}
.message-bubble[class*='status-'] .request-title::after {
  font-size: 14px; /* 隶ｩ莨ｪ蜈�ｴ�譏ｾ遉ｺ譁ｰ譁�悽 */
}
.message-bubble.status-paid .request-title::after {
  content: '謌大ｷｲ荳ｺ謔ｨ荵ｰ蜊包ｼ瑚ｯｷ蟆ｽ諠�ｺｫ逕ｨ蜷ｧ��';
}
.message-bubble.status-rejected .request-title::after {
  content: '謌第拠扈昜ｺ�お逧�ｻ｣莉倩ｯｷ豎�';
}
/* 笆ｲ笆ｲ笆ｲ 譁ｰCSS邊倩ｴｴ扈捺據 笆ｲ笆ｲ笆ｲ */

/* 笆ｼ笆ｼ笆ｼ 縲仙�譁ｰ縲大､門獄隸ｷ豎ら噪逕ｨ謌ｷ謫堺ｽ懈潔髓ｮ譬ｷ蠑� 笆ｼ笆ｼ笆ｼ */
.waimai-user-actions {
  display: flex;
  gap: 10px;
  padding: 0 12px 12px 12px; /* 蝨ｨ蜊｡迚�ｺ暮Κ逡吝�遨ｺ髣ｴ */
  background-color: #fff;
}

.waimai-user-actions button {
  flex: 1;
  padding: 10px;
  border-radius: 8px;
  border: 1.5px solid;
  font-size: 14px;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.2s ease;
}

.waimai-pay-btn {
  background-color: #28a745;
  border-color: #1f7a33;
  color: white;
}
.waimai-pay-btn:hover {
  background-color: #218838;
}

.waimai-decline-btn {
  background-color: #f8f9fa;
  border-color: #ced4da;
  color: #495057;
}
.waimai-decline-btn:hover {
  background-color: #e2e6ea;
}
/* 笆ｲ笆ｲ笆ｲ 譁ｰCSS邊倩ｴｴ扈捺據 笆ｲ笆ｲ笆ｲ */

/* 遑ｮ菫晁ｿ吩ｺ幃｡ｵ髱｢逧��螳ｹ蛹ｺ閭ｽ豁｣遑ｮ貊壼勘�悟酔譌ｶ閭梧勹騾乗�莉･譏ｾ遉ｺ辷ｶ郤ｧ鬚懆牡 */
#api-settings-screen .form-container,
#font-settings-screen .form-container,
#wallpaper-screen .form-container {
  padding-top: 100px;
  margin-top: -80px;
  /* 荳榊�髴隕∬レ譎ｯ濶ｲ�瑚ｮｩ辷ｶ蜈�ｴ�蜀ｳ螳� */
}
#font-settings-screen,
#wallpaper-screen {
  /* 蟆�レ譎ｯ濶ｲ隶ｾ鄂ｮ荳ｺ蜿倬㍼�瑚ｿ呎�ｷ螟憺龍讓｡蠑乗燕閭ｽ隕�尠螳� */
  background-color: var(--secondary-bg);
}
/* 螢∫ｺｸ隶ｾ鄂ｮ鬘ｵ髱｢逧�｢�ｧ亥玄豈碑ｾ�音谿奇ｼ碁怙隕�｢晏､冶ｰ�紛 */
#wallpaper-screen .form-container {
  align-items: center; /* 菫晄戟蜀�ｮｹ螻�ｸｭ */
}

/* 笆ｼ笆ｼ笆ｼ 縲仙�譁ｰ縲第擂逕ｵ隸ｷ豎ゆｸ手ｧ�｢鷹夊ｯ晉阜髱｢譬ｷ蠑� 笆ｼ笆ｼ笆ｼ */

/* --- 譚･逕ｵ隸ｷ豎よｨ｡諤∵｡� --- */
#incoming-call-modal .incoming-call-content {
  background-color: rgba(40, 40, 40, 0.85);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border-radius: 20px;
  width: 280px;
  padding: 30px 20px;
  text-align: center;
  color: white;
  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
}

.caller-avatar {
  width: 80px;
  height: 80px;
  border-radius: 50%;
  object-fit: cover;
  margin-bottom: 12px;
  border: 3px solid rgba(255, 255, 255, 0.5);
}

.caller-name {
  font-size: 20px;
  font-weight: 600;
  margin-bottom: 5px;
}

.caller-text {
  font-size: 14px;
  color: #ccc;
  margin-bottom: 30px;
}

.incoming-call-actions {
  display: flex;
  justify-content: space-around;
  align-items: center;
}

.action-button-wrapper {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 8px;
  font-size: 13px;
  color: #e0e0e0;
}

.call-action-btn {
  width: 60px;
  height: 60px;
  border-radius: 50%;
  border: none;
  cursor: pointer;
  background-size: 50%;
  background-repeat: no-repeat;
  background-position: center;
  transition: transform 0.2s, box-shadow 0.2s;
  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
}
.call-action-btn:active {
  transform: scale(0.9);
}

.call-action-btn.decline {
  background-color: #ff3b30;
  background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M13.5 16.5L3 6m18 6l-5.6-5.6a1.2 1.2 0 0 0-1.7 0L3 18.2a1.2 1.2 0 0 0-.3 1.2l1.2 3.6a1.2 1.2 0 0 0 1.2.9h15.6a1.2 1.2 0 0 0 1.2-1.2V7.7a1.2 1.2 0 0 0-.3-1.1z"/></svg>');
}

.call-action-btn.accept {
  background-color: #4cd964;
  background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"/></svg>');
  animation: pulse 1.5s infinite;
}

@keyframes pulse {
  0% {
    box-shadow: 0 0 0 0 rgba(76, 217, 100, 0.7);
  }
  70% {
    box-shadow: 0 0 0 15px rgba(76, 217, 100, 0);
  }
  100% {
    box-shadow: 0 0 0 0 rgba(76, 217, 100, 0);
  }
}

/* 笆ｼ笆ｼ笆ｼ 縲千ｻ域栫蜈ｼ螳ｹ諤ｧ菫ｮ螟咲沿縲題ｯｷ逕ｨ霑呎紛蝮嶺ｻ｣遐�ｼ悟ｮ梧紛譖ｿ謐｢謇譛画立逧� video-call 逶ｸ蜈ｳCSS 笆ｼ笆ｼ笆ｼ */

/* 1. 騾夊ｯ晏ｱ丞ｹ墓ｻ螳ｹ蝎ｨ�夂｡ｮ菫晏ｮ�弍荳荳ｪ謦第ｻ｡螻丞ｹ慕噪Flex蛻怜ｸ�ｱ */
#video-call-screen {
  background-color: #1c1c1e;
  color: white;
  display: flex; /* 菫晄戟Flex蟶�ｱ */
  flex-direction: column; /* 蝙ら峩謗貞� */
  overflow: hidden; /* 髦ｲ豁｢莉ｻ菴墓э螟匁ｺ｢蜃ｺ */
}

/* 2. 縲先�ｸ蠢�台ｸｺ荳､遘埼夊ｯ晄ｨ｡蠑冗噪螳ｹ蝎ｨ隶ｾ鄂ｮ扈滉ｸ逧Ёlex蟶�ｱ */
#text-call-interface,
#visual-call-interface {
  display: flex;
  flex-direction: column;
  width: 100%;
  height: 100%;
  overflow: hidden;
  position: relative; /* 菴應ｸｺ蜀�Κ扈晏ｯｹ螳壻ｽ榊�邏�逧�盾閠� */
}

/* 3. 鬘ｶ驛ｨ迥ｶ諤∵�擾ｼ壻ｿ晄戟扈晏ｯｹ螳壻ｽ搾ｼ御ｽ應ｸｺ鬘ｶ驛ｨ逧�濠騾乗�隕�尠螻� */
.video-call-top-bar {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  z-index: 10;
  box-sizing: border-box;
  padding: 15px 20px 30px;
  padding-top: calc(15px + env(safe-area-inset-top)); /* 騾る�蛻俶ｵｷ螻� */
  background: linear-gradient(to bottom, rgba(0, 0, 0, 0.5), transparent);
  text-align: center;
  pointer-events: none; /* 隶ｩ螳�ｸ榊ｽｱ蜩堺ｸ区婿蜀�ｮｹ逧�せ蜃ｻ */
}
#call-timer,
#visual-call-timer {
  font-size: 16px;
  font-weight: 500;
  letter-spacing: 1px;
}

/* 4. 縲先�ｸ蠢�㍾譫�大�螳ｹ蛹ｺ蝓� (蛹�峡螟ｴ蜒上∵ｰ疲ｳ｡縲∬ｧ�｢題レ譎ｯ遲�) */
/* 霑吩ｸｪ隗��蟆�酔譌ｶ菴懃畑莠取枚蟄玲ｨ｡蠑冗噪 #text-call-interface 蜥� 蜿ｯ隗�喧讓｡蠑冗噪 #visual-call-interface */
#text-call-interface,
#visual-call-interface {
  flex-grow: 1; /* 笘� 蜈ｳ髞ｮ�夊ｮｩ蜀�ｮｹ蛹ｺ蜊�謐ｮ謇譛牙黄菴咏ｩｺ髣ｴ */
  min-height: 0; /* 笘� 蜈ｳ髞ｮ�夐亟豁｢Flex蟶�ｱ荳狗噪貅｢蜃ｺ髣ｮ鬚� */
  display: flex;
  flex-direction: column;
  overflow: hidden; /* 蜀�ｮｹ蛹ｺ閾ｪ蟾ｱ荵滄怙隕�嚼阯乗ｺ｢蜃ｺ */
  padding-top: 80px; /* 荳ｺ鬘ｶ驛ｨ逧�憾諤∵�冗蕗蜃ｺ遨ｺ髣ｴ */
  box-sizing: border-box;
}

/* 4a. 譁�ｭ玲ｨ｡蠑冗噪螟ｴ蜒丞柱豌疲ｳ｡蛹ｺ蝓� */
.video-call-avatar-area {
  flex-shrink: 0; /* 鬮伜ｺｦ蝗ｺ螳夲ｼ御ｸ崎｢ｫ蜴狗ｼｩ */
  padding: 20px 0;
  display: flex;
  justify-content: center;
  align-items: center;
}
#video-call-main {
  flex-grow: 1; /* 笘� 蜈ｳ髞ｮ�壼頃謐ｮ譁�ｭ玲ｨ｡蠑丞�螳ｹ蛹ｺ逧�黄菴咏ｩｺ髣ｴ */
  min-height: 0;
  margin: 0 15px 15px 15px; /* 笘� 譬ｸ蠢�ｿｮ謾ｹ�壼､ｧ蟷�㍼蟆丞ｺ暮Κ螟冶ｾｹ霍� */
  overflow-y: auto;
  padding: 15px;
  background-color: rgba(255, 255, 255, 0.08);
  border-radius: 20px;
  display: flex;
  flex-direction: column;
  gap: 15px;
}

/* 4b. 蜿ｯ隗�喧讓｡蠑冗噪隗�｢題レ譎ｯ蜥梧ｰ疲ｳ｡蛹ｺ蝓� (扈捺桷荳榊序) */
#visual-call-interface .video-background {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: 1;
}
#visual-call-interface #video-call-messages-visual {
  position: relative;
  z-index: 5;
  flex-grow: 1;
  min-height: 0;
  padding: 15px;
  overflow-y: auto;
  display: flex;
  flex-direction: column;
  gap: 15px;
  scrollbar-width: none;
  -ms-overflow-style: none;
}
#video-call-messages-visual::-webkit-scrollbar {
  display: none;
}

/* 笆ｼ笆ｼ笆ｼ 霑呎弍菴�隕∵崛謐｢逧�ｻ｣遐∝摎 笆ｼ笆ｼ笆ｼ */

/* 縲先�ｸ蠢�㍾譫�大ｺ暮Κ謗ｧ蛻ｶ譬擾ｼ夂鴫蝨ｨ螳�弍荳荳ｪ蟶ｦz-index逧Ёlex蟶�ｱ鬘ｹ */
.video-call-controls {
  position: relative; /* 笘��笘� 譬ｸ蠢�ｿｮ螟搾ｼ壼ｰｱ譏ｯ蜉�荳願ｿ吩ｸ陦鯉ｼ� 笘��笘� */
  z-index: 10; /* 邇ｰ蝨ｨ霑吩ｸｪ z-index 蟆ｱ莨夂函謨井ｺ� */
  flex-shrink: 0;
  width: 100%;
  box-sizing: border-box;
  display: flex;
  justify-content: space-around;
  align-items: center;
  padding: 20px;
  padding-bottom: calc(20px + env(safe-area-inset-bottom));
  background: linear-gradient(to top, rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0.3));
  pointer-events: all;
}
/* 笆ｲ笆ｲ笆ｲ 譖ｿ謐｢扈捺據 笆ｲ笆ｲ笆ｲ */

/* 6. 蜈ｶ莉門�邏�譬ｷ蠑丈ｿ晄戟荳榊序 */
#participant-avatars-grid {
  display: flex;
  justify-content: center;
  align-items: center;
  gap: 20px;
}
.participant-avatar-wrapper {
  text-align: center;
}
.participant-avatar {
  width: 80px;
  height: 80px;
  border-radius: 50%;
  object-fit: cover;
  border: 3px solid rgba(255, 255, 255, 0.2);
  transition: all 0.3s ease;
}
.participant-name {
  margin-top: 8px;
  font-size: 13px;
  color: #ccc;
}
.participant-avatar.speaking {
  border-color: #4cd964;
  box-shadow: 0 0 20px rgba(76, 217, 100, 0.6);
  transform: scale(1.05);
}

.control-btn {
  width: 70px;
  height: 70px;
  border-radius: 50%;
  border: none;
  cursor: pointer;
  background-repeat: no-repeat;
  background-position: center;
  transition: transform 0.2s, background-color 0.2s;
}
.control-btn:active {
  transform: scale(0.9);
}
.control-btn.speak-btn {
  background-color: rgba(255, 255, 255, 0.2);
  background-size: 55%;
  background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="white" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"/><path d="M19 10v2a7 7 0 0 1-14 0v-2"/><line x1="12" y1="19" x2="12" y2="23"/><line x1="8" y1="23" x2="16" y2="23"/></svg>');
}
.control-btn.hangup-btn {
  background-color: #ff3b30;
  background-size: 50%;
  background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M13.5 16.5L3 6m18 6l-5.6-5.6a1.2 1.2 0 0 0-1.7 0L3 18.2a1.2 1.2 0 0 0-.3 1.2l1.2 3.6a1.2 1.2 0 0 0 1.2.9h15.6a1.2 1.2 0 0 0 1.2-1.2V7.7a1.2 1.2 0 0 0-.3-1.1z"/></svg>');
}
.control-btn.join-btn {
  background-color: #007bff;
  background-size: 50%;
  background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="8.5" cy="7" r="4"></circle><line x1="20" y1="8" x2="20" y2="14"></line><line x1="17" y1="11" x2="23" y2="11"></line></svg>');
}

/* 譁ｰ蠅樒噪謖蛾聴蝗ｾ譬� */
.control-btn.reroll-btn {
  background-color: rgba(255, 255, 255, 0.2);
  background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="23 4 23 10 17 10"></polyline><path d="M20.49 15a9 9 0 1 1-2.12-9.36L23 10"></path></svg>');
  background-size: 50%;
}
.control-btn.switch-camera-btn {
  background-color: rgba(255, 255, 255, 0.2);
  background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M11 4H4a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2v-7"></path><path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path></svg>');
  background-size: 50%;
}

/* 蜿ｯ隗�喧逡碁擇逧�ｫ俶ｸ�ｰ疲ｳ｡ */
.visual-call-bubble {
  padding: 8px 12px;
  border-radius: 18px;
  max-width: 80%;
  line-height: 1.5;
  word-break: break-word;
  color: white;
  background-color: rgba(0, 0, 0, 0.3);
  border: 1px solid rgba(255, 255, 255, 0.25);
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.9);
}
.visual-call-bubble.user {
  align-self: flex-end;
  background-color: rgba(40, 160, 70, 0.3);
  border-color: rgba(255, 255, 255, 0.3);
}
.visual-call-bubble.ai {
  align-self: flex-start;
}

/* 譁�ｭ玲ｨ｡蠑冗噪豌疲ｳ｡ */
.call-message-bubble {
  padding: 10px 15px;
  border-radius: 12px;
  max-width: 85%;
  line-height: 1.6;
  word-break: break-word;
  white-space: pre-wrap;
}
.call-message-bubble.ai-speech {
  background-color: rgba(255, 255, 255, 0.15);
  align-self: flex-start;
}
.call-message-bubble.user-speech {
  background-color: #4cd964;
  align-self: flex-end;
  text-align: left;
}

/* 笆ｲ笆ｲ笆ｲ 譖ｿ謐｢扈捺據 笆ｲ笆ｲ笆ｲ */

/* 笆ｼ笆ｼ笆ｼ 縲仙�譁ｰ豺ｻ蜉�縲第ｭ｣蝨ｨ蜻ｼ蜿ｫ逡碁擇譬ｷ蠑� 笆ｼ笆ｼ笆ｼ */
#outgoing-call-screen {
  background-color: #1c1c1e;
  color: white;
  justify-content: center; /* 蝙ら峩螻�ｸｭ */
  align-items: center; /* 豌ｴ蟷ｳ螻�ｸｭ */
}

.outgoing-call-content {
  display: flex;
  flex-direction: column;
  align-items: center;
  text-align: center;
}

.outgoing-call-actions {
  margin-top: 50px; /* 蜥御ｸ頑婿譁�ｭ玲級蠑霍晉ｦｻ */
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 8px;
  font-size: 13px;
  color: #e0e0e0;
}
/* 笆ｲ笆ｲ笆ｲ 豺ｻ蜉�扈捺據 笆ｲ笆ｲ笆ｲ */

/* 1. 蜉ｨ諤∝ｸ門ｭ千噪螟門ｱょｮｹ蝎ｨ�梧�莉ｬ髴隕∝ｮ�擂螳壻ｽ榊柱陬∝岡 */
.qzone-post-container {
  position: relative; /* 隶ｩ蜀�Κ逧�唖髯､謖蛾聴蜿ｯ莉･逶ｸ蟇ｹ莠主ｮ�ｮ壻ｽ� */
  overflow: hidden; /* 髫占酪謗芽ｶ��驛ｨ蛻�噪蛻�髯､謖蛾聴 */
  border-radius: 12px; /* 蜥悟�驛ｨ蜊｡迚�ｿ晄戟荳閾ｴ逧�怕隗� */
}

/* 2. 蜿ｯ貊大勘逧��螳ｹ蜊｡迚�ｼ悟｢槫刈荳荳ｪ蟷ｳ貊醍噪霑�ｸ｡謨域棡 */
.qzone-post-item {
  transition: transform 0.3s ease;
  background-color: var(--secondary-bg); /* 遑ｮ菫晏ｮ�怏閭梧勹濶ｲ�瑚�逶紋ｽ丈ｸ矩擇逧�唖髯､謖蛾聴 */
  position: relative; /* 遑ｮ菫晏ｮ�惠譛荳雁ｱ� */
  z-index: 2;
}

/* 3. 縲先�ｸ蠢�題ｿ吝ｰｱ譏ｯ驍｣荳ｪ窶懷唖髯､窶晄潔髓ｮ逧��ｷ蠑擾ｼ�*/
.qzone-post-delete-action {
  position: absolute; /* 扈晏ｯｹ螳壻ｽ搾ｼ瑚┳遖ｻ譁�｡｣豬� */
  top: 0;
  right: 0;
  bottom: 0;
  width: 90px; /* 蛻�髯､謖蛾聴逧�ｮｽ蠎ｦ */
  background-color: #ff3b30; /* 謔ｨ諠ｳ隕∫噪郤｢濶ｲ閭梧勹 */
  color: white;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 500;
  cursor: pointer;
  z-index: 1; /* 遑ｮ菫晏ｮ�惠蜊｡迚�ｸ矩擇 */
}

/* 4. 蠖灘今迚�ｷｦ貊第慮�梧滑螳�髄蟾ｦ遘ｻ蜉ｨ�碁愆蜃ｺ蛻�髯､謖蛾聴 */
.qzone-post-item.swiped {
  transform: translateX(-90px); /* 遘ｻ蜉ｨ逧�ｷ晉ｦｻ蜥悟唖髯､謖蛾聴逧�ｮｽ蠎ｦ荳閾ｴ */
}

/* 笆ｲ笆ｲ笆ｲ 邊倩ｴｴ扈捺據 笆ｲ笆ｲ笆ｲ */

/* 笆ｼ笆ｼ笆ｼ 隸ｷ蟆�ｿ吶蝉ｸ謨ｴ蝮励大�譁ｰ逧�懈牛荳諡坂晄�ｷ蠑擾ｼ檎ｲ倩ｴｴ蛻ｰ <style> 逧�忰蟆ｾ 笆ｼ笆ｼ笆ｼ */

/* 1. 窶懈牛荳諡坂晉噪螻丞ｹ暮怫蜉ｨ蜉ｨ逕ｻ */
@keyframes pat-shake {
  0%,
  100% {
    transform: translateX(0);
  }
  10%,
  30%,
  50%,
  70%,
  90% {
    transform: translateX(-3px);
  }
  20%,
  40%,
  60%,
  80% {
    transform: translateX(3px);
  }
}

.pat-animation {
  animation: pat-shake 0.4s ease-in-out;
}

/* 2. 窶懈牛荳諡坂晉ｳｻ扈滓署遉ｺ豸域�逧��ｷ蠑� */
.system-message {
  align-self: center; /* 螻�ｸｭ譏ｾ遉ｺ */
  padding: 4px 12px;
  margin: 5px 0;
  background-color: rgba(0, 0, 0, 0.1);
  color: var(--text-secondary);
  font-size: 12px;
  border-radius: 10px;
  text-align: center;
  max-width: 80%;
}

/* 笆ｲ笆ｲ笆ｲ 譁ｰ譬ｷ蠑冗ｲ倩ｴｴ扈捺據 笆ｲ笆ｲ笆ｲ */

/* 隶ｩ窶懈牛荳諡坂晉ｱｻ蝙狗噪 wrapper 螻�ｸｭ */
.message-wrapper.system-pat {
  justify-content: center;
  align-self: center;
  margin: 5px 0;
  max-width: 80%;
}
/* 窶懈牛荳-諡坂晄ｶ域�豌疲ｳ｡逧��ｷ蠑� */
.message-bubble.system-bubble {
  background-color: rgba(0, 0, 0, 0.1);
  color: var(--text-secondary);
  font-size: 12px;
  padding: 4px 12px;
  border-radius: 10px;
}

/* 笆ｼ笆ｼ笆ｼ 隸ｷ蟆�ｿ呎ｮｵ譁ｰCSS邊倩ｴｴ蛻ｰ <style> 逧�忰蟆ｾ 笆ｼ笆ｼ笆ｼ */

/* === 菫ｮ豁｣�夊ｮｩ鬘ｶ驛ｨ謫堺ｽ懈�丞庄莉･讓ｪ蜷第ｻ壼勘 === */
#chat-input-actions-top {
  display: flex;
  gap: 8px;
  padding: 0 5px;

  /* --- 譬ｸ蠢�ｻ｣遐∝ｼ蟋� --- */
  overflow-x: auto;
  flex-wrap: nowrap;
  -webkit-overflow-scrolling: touch;

  scrollbar-width: none;
  -ms-overflow-style: none;
}

#chat-input-actions-top::-webkit-scrollbar {
  display: none;
}

/* 笆ｲ笆ｲ笆ｲ 譁ｰCSS邊倩ｴｴ扈捺據 笆ｲ笆ｲ笆ｲ */

/* === 縲仙�譁ｰ縲題♀螟ｩ逡碁擇螟ｴ驛ｨ迥ｶ諤∵�乗�ｷ蠑� === */

/* === 縲仙�譁ｰ縲題♀螟ｩ逡碁擇螟ｴ驛ｨ迥ｶ諤∵�乗�ｷ蠑� === */

/* 笆ｼ笆ｼ笆ｼ 逕ｨ霑吝摎縲仙ｱ�ｸｭ菫ｮ螟咲沿縲醍噪莉｣遐�ｼ梧崛謐｢譌ｧ逧� #chat-header-title-wrapper 譬ｷ蠑� 笆ｼ笆ｼ笆ｼ */
#chat-header-title-wrapper {
  /* --- 譬ｸ蠢�ｿｮ謾ｹ�夊ｮｩ譬�｢伜玄蝓溽ｻ晏ｯｹ螻�ｸｭ --- */
  position: absolute;
  left: 50%;
  transform: translateX(-50%);
  /* ------------------------------------ */

  /* 菫晄戟蜈ｶ蜀�Κ蜈�ｴ��域��｢伜柱迥ｶ諤�ｼ臥噪蟶�ｱ荳榊序 */
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 6px;

  /* (蜿ｯ騾我ｽ�耳闕�) 髦ｲ豁｢髟ｿ譬�｢倅ｸ惹ｸ､霎ｹ謖蛾聴驥榊匠 */
  max-width: 60%;

  /* 豕ｨ諢擾ｼ壽�莉ｬ荳榊�髴隕� flex-grow: 1; 莠�ｼ悟屏荳ｺ扈晏ｯｹ螳壻ｽ榊ｷｲ扈丈ｽｿ蜈ｶ閼ｱ遖ｻ莠�lex蟶�ｱ豬� */
}
/* 笆ｲ笆ｲ笆ｲ 譖ｿ謐｢扈捺據 笆ｲ笆ｲ笆ｲ */

/* 笆ｲ笆ｲ笆ｲ 譖ｿ謐｢扈捺據 笆ｲ笆ｲ笆ｲ */

/* 笆ｼ笆ｼ笆ｼ 隸ｷ逕ｨ霑吝摎莉｣遐∵崛謐｢菴�譌ｧ逧� #chat-header-main-line 譬ｷ蠑� 笆ｼ笆ｼ笆ｼ */
#chat-header-main-line {
  display: flex;
  align-items: center;
  justify-content: center;
  position: relative; /* 隶ｩ蜈ｬ蜻頑潔髓ｮ蜿ｯ莉･逶ｸ蟇ｹ莠主ｮ�ｮ壻ｽ� */
}
/* 笆ｲ笆ｲ笆ｲ 譖ｿ謐｢扈捺據 笆ｲ笆ｲ笆ｲ */

/* 笆ｼ笆ｼ笆ｼ 隸ｷ逕ｨ霑吝摎縲千ｻ域栫菫ｮ螟咲沿縲台ｻ｣遐�ｼ梧崛謐｢謗我ｽ�譌ｧ逧� #chat-header-title 譬ｷ蠑� 笆ｼ笆ｼ笆ｼ */
#chat-header-title {
  font-size: 16px;
  font-weight: 600;

  /* (霑吩ｸ､陦梧弍荳頑ｬ｡菫ｮ螟榊ｮ壻ｽ埼琉鬚倡噪�悟ｿ�｡ｻ菫晉蕗��) */
  position: static !important;
  transform: none !important;

  /* 笘��笘� 譬ｸ蠢�ｿｮ螟搾ｼ壽�莉ｬ蟾ｲ扈乗滑蟇ｼ閾ｴ逵∫払蜿ｷ逧�屁陦御ｻ｣遐∝�驛ｨ蛻�謗我ｺ�ｼ� 笘��笘� */
}
/* 笆ｲ笆ｲ笆ｲ 譖ｿ謐｢扈捺據 笆ｲ笆ｲ笆ｲ */

/* 3. 迥ｶ諤∵�丞ｮｹ蝎ｨ */
#chat-header-status {
  display: flex;
  align-items: center;
  gap: 5px;
  font-size: 11px;
  color: var(--text-secondary);
  transition: all 0.3s ease;
}

/* 4. 迥ｶ諤∝ｰ丞怕轤ｹ */
.status-dot {
  width: 7px;
  height: 7px;
  border-radius: 50%;
  background-color: #4cd964; /* 鮟倩ｮ､扈ｿ濶ｲ�御ｻ｣陦ｨ蝨ｨ郤ｿ */
  transition: background-color 0.3s ease;
}

/* 蠖鄭I迥ｶ諤∽ｸｺ窶懷ｿ咏｢娯晄�窶懃ｦｻ蠑窶晄慮�瑚ｮｩ蝨�せ蜿倡�濶ｲ */
#chat-header-status.busy .status-dot {
  background-color: #cccccc;
}

/* 5. 迥ｶ諤∵枚譛ｬ */
.status-text {
  font-weight: 500;
}

/* === 縲仙�譁ｰ鄒主喧迚医大屓蠢�今迚��ｷ蠑� === */

/* 1. 蜊｡迚�ｻ螳ｹ蝎ｨ�夊ｿ咎㈹雍溯ｴ｣螳壻ｹ画紛菴鍋噪閭梧勹濶ｲ蜥瑚ｾｹ譯� */
.memory-card {
  background-color: #fffaf0; /* 扈滉ｸ逧�∵ｸｩ證也噪邀ｳ鮟�牡閭梧勹 */
  border-radius: 12px;
  padding: 15px; /* 蝨ｨ蜊｡迚�屁蜻ｨ逡吝�蜀�ｾｹ霍� */
  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.07);
  border-left: 5px solid #ffb74d;
  display: flex; /* 隶ｩ螳��荳ｺflex螳ｹ蝎ｨ�梧婿萓ｿ蜀�Κ蜈�ｴ�謗貞� */
  flex-direction: column; /* 隶ｩ螟ｴ驛ｨ蜥悟�螳ｹ蝙ら峩蝣�匠 */
  gap: 8px; /* 蝨ｨ螟ｴ驛ｨ蜥悟�螳ｹ荵矩龍蛻幃�荳荳ｪ閾ｪ辟ｶ逧�龍霍� */
}

/* 2. 螟ｴ驛ｨ螳ｹ蝎ｨ�夂鴫蝨ｨ蜿ｪ雍溯ｴ｣蟶�ｱ蜥悟�蜑ｲ郤ｿ */
.memory-card .header {
  border-bottom: 1px solid rgba(217, 129, 0, 0.15); /* 蛻�牡郤ｿ鬚懆牡蜿ｯ莉･遞榊ｾｮ蜉�豺ｱ荳轤ｹ */
  padding-bottom: 8px;
}

/* 3. 譌･譛滓�ｷ蠑� (菫晄戟荳榊序) */
.memory-card .header .date {
  font-size: 11px;
  color: #a1887f;
  margin-bottom: 4px;
}

/* 4. 菴懆��ｷ蠑� (菫晄戟荳榊序) */
.memory-card .header .author {
  font-weight: 600;
  color: #d98100;
  font-size: 15px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

/* 5. 蜀�ｮｹ蛹ｺ譬ｷ蠑� (菫晄戟荳榊序) */
.memory-card .content {
  font-size: 14px;
  line-height: 1.7;
  color: #5d4037;
  white-space: pre-wrap;
}

/* === 縲仙�譁ｰ縲醍ｺｦ螳�/蛟定ｮ｡譌ｶ蜊｡迚��ｷ蠑� === */
.countdown-card {
  background: linear-gradient(135deg, #667eea, #764ba2);
  color: white;
  border-radius: 12px;
  padding: 20px;
  box-shadow: 0 4px 15px rgba(118, 75, 162, 0.4);
  text-align: center;
  position: relative;
  overflow: hidden;
  flex-shrink: 0;
}
.countdown-card::before {
  content: '笨ｨ';
  position: absolute;
  top: -10px;
  left: -10px;
  font-size: 50px;
  opacity: 0.1;
  transform: rotate(-15deg);
}
.countdown-card .title {
  font-size: 18px;
  font-weight: 600;
  margin-bottom: 15px;
}
.countdown-card .timer {
  font-size: 28px;
  font-weight: 300;
  letter-spacing: 2px;
  margin-bottom: 15px;
}
.countdown-card .target-date {
  font-size: 12px;
  opacity: 0.8;
  border-top: 1px solid rgba(255, 255, 255, 0.2);
  padding-top: 10px;
}

/* === 縲仙�譁ｰ縲題♀螟ｩ髞∝ｮ夐�鄂ｩ螻よ�ｷ蠑� === */
#chat-lock-overlay {
  position: absolute;
  bottom: 0;
  left: 0;
  width: 100%;
  background-color: rgba(247, 247, 247, 0.9);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  z-index: 150; /* 豈碑ｾ灘�譯�ｫ假ｼ梧ｯ碑ｴｴ郤ｸ髱｢譚ｿ菴� */
  display: none; /* 鮟倩ｮ､髫占酪 */
  align-items: center;
  justify-content: center;
  padding: 20px;
  box-sizing: border-box;
  border-top: 1px solid var(--border-color);
  text-align: center;
}
#chat-lock-content {
  display: flex;
  flex-direction: column;
  gap: 15px;
}
#chat-lock-content .lock-text {
  color: var(--text-secondary);
  font-size: 14px;
}
#chat-lock-content .lock-action-btn {
  padding: 10px 20px;
  border-radius: 20px;
  border: 1px solid var(--accent-color);
  background-color: var(--accent-color);
  color: white;
  cursor: pointer;
}
#chat-lock-content .lock-action-btn.secondary {
  background-color: transparent;
  color: var(--accent-color);
}

/* 笆ｼ笆ｼ笆ｼ 縲仙�譁ｰ縲醍ｺ｢蛹�今迚��ｷ蠑� 笆ｼ笆ｼ笆ｼ */
.message-bubble.is-red-packet .content {
  padding: 0;
  background: transparent;
  box-shadow: none;
  border: none;
  backdrop-filter: none;
  -webkit-backdrop-filter: none;
}

.red-packet-card {
  width: 220px;
  border-radius: 8px;
  background: linear-gradient(160deg, #f96259, #e44d44);
  color: #ffd700; /* 驥題牡譁�ｭ� */
  padding: 12px;
  cursor: pointer;
  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
  position: relative;
  overflow: hidden;
}

.red-packet-card.opened {
  background: linear-gradient(160deg, #d3c4a0, #c4b693);
  cursor: default;
}

.red-packet-card::before {
  content: '�ｧｧ';
  position: absolute;
  top: -5px;
  left: -5px;
  font-size: 30px;
  opacity: 0.2;
  transform: rotate(-10deg);
}

.rp-header {
  display: flex;
  align-items: center;
  gap: 8px;
  margin-bottom: 8px;
}

.rp-icon {
  width: 20px;
  height: 20px;
}

.rp-greeting {
  font-size: 15px;
  font-weight: 500;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.rp-type {
  font-size: 11px;
  color: white;
  opacity: 0.8;
  border-top: 1px solid rgba(255, 255, 255, 0.2);
  padding-top: 8px;
  margin-top: 8px;
}

.rp-claimed-info {
  font-size: 13px;
  color: white;
  margin-top: 10px;
  padding-top: 10px;
  border-top: 1px solid rgba(255, 255, 255, 0.3);
}
/* 笆ｲ笆ｲ笆ｲ 譁ｰCSS邊倩ｴｴ扈捺據 笆ｲ笆ｲ笆ｲ */

/* 笆ｼ笆ｼ笆ｼ 縲仙�譁ｰ縲醍ｺ｢蛹�ｯｦ諠��陦ｨ譬ｷ蠑� 笆ｼ笆ｼ笆ｼ */
.rp-details-item {
  display: flex;
  align-items: center;
  padding: 8px 0;
  border-bottom: 1px solid #eee;
}
.rp-details-item:last-child {
  border-bottom: none;
}
.rp-details-item .name {
  flex-grow: 1;
  font-weight: 500;
  color: #333;
}
.rp-details-item .amount {
  font-weight: 500;
  color: #555;
}
.rp-details-item .lucky-king-tag {
  font-size: 10px;
  background-color: #ffd700;
  color: #a67c00;
  padding: 2px 5px;
  border-radius: 4px;
  margin-left: 8px;
  font-weight: bold;
}
/* 笆ｲ笆ｲ笆ｲ 譁ｰCSS邊倩ｴｴ扈捺據 笆ｲ笆ｲ笆ｲ */

/* 笆ｼ笆ｼ笆ｼ 縲仙�譁ｰ縲第兜逾ｨ蜉溯�譬ｷ蠑� 笆ｼ笆ｼ笆ｼ */

/* 謚慕･ｨ蜊｡迚�惠豸域�豌疲ｳ｡荳ｭ逧��ｷ蠑� */
.message-bubble.is-poll .content {
  padding: 0;
  background: transparent;
  box-shadow: none;
  border: none;
  backdrop-filter: none;
  -webkit-backdrop-filter: none;
}

/* 謚慕･ｨ蜊｡迚�ｸｻ菴� */
.poll-card {
  width: 250px;
  background-color: #f9f9f9;
  border-radius: 10px;
  border: 1px solid #e0e0e0;
  padding: 12px;
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
}

.poll-card.closed {
  background-color: #e9ecef; /* 扈捺據蜷主序轣ｰ */
}

/* 謚慕･ｨ髣ｮ鬚� */
.poll-question {
  font-weight: 600;
  font-size: 15px;
  margin-bottom: 12px;
  line-height: 1.4;
  word-break: break-word;
}

/* 謚慕･ｨ騾蛾｡ｹ蛻苓｡ｨ */
.poll-options-list {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

/* 蜊穂ｸｪ謚慕･ｨ騾蛾｡ｹ */
.poll-option-item {
  background-color: white;
  border: 1px solid #dcdcdc;
  border-radius: 8px;
  padding: 10px;
  cursor: pointer;
  position: relative;
  overflow: hidden;
  transition: background-color 0.2s;
}

.poll-card:not(.closed) .poll-option-item:hover {
  background-color: #f0f8ff;
}

/* 逕ｨ謌ｷ蟾ｲ謚慕･ｨ逧�蛾｡ｹ譬ｷ蠑� */
.poll-option-item.voted {
  border-color: var(--accent-color);
  background-color: #e7f3ff;
  font-weight: 500;
}

/* 謚慕･ｨ霑帛ｺｦ譚｡ */
.poll-option-bar {
  position: absolute;
  top: 0;
  left: 0;
  height: 100%;
  background-color: rgba(0, 123, 255, 0.1);
  z-index: 1;
  transition: width 0.3s ease-in-out;
}

/* 騾蛾｡ｹ蜀�ｮｹ�域枚蟄怜柱逾ｨ謨ｰ�会ｼ檎｡ｮ菫晏惠霑帛ｺｦ譚｡荵倶ｸ� */
.poll-option-content {
  position: relative;
  z-index: 2;
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.poll-option-text {
  font-size: 14px;
}

.poll-option-votes {
  font-size: 13px;
  color: #8a8a8a;
  font-weight: 500;
}

/* 謚慕･ｨ蜊｡迚�ｺ暮Κ */
.poll-footer {
  margin-top: 12px;
  padding-top: 8px;
  border-top: 1px solid #e9e9e9;
  display: flex;
  justify-content: space-between;
  align-items: center;
  font-size: 12px;
  color: var(--text-secondary);
}

.poll-total-votes {
  font-weight: 500;
}

.poll-action-btn {
  background: none;
  border: 1px solid var(--accent-color);
  color: var(--accent-color);
  padding: 4px 10px;
  border-radius: 15px;
  cursor: pointer;
  font-size: 12px;
}
.poll-card.closed .poll-action-btn {
  background-color: #6c757d;
  color: white;
  border-color: #6c757d;
}

/* 蛻帛ｻｺ謚慕･ｨ讓｡諤∵｡�噪騾蛾｡ｹ霎灘� */
.poll-option-input-wrapper {
  display: flex;
  align-items: center;
  gap: 8px;
}
.poll-option-input-wrapper input {
  flex-grow: 1;
}
.poll-option-input-wrapper .remove-option-btn {
  width: 28px;
  height: 28px;
  border-radius: 50%;
  background-color: #f0f0f0;
  color: #ff3b30;
  border: none;
  cursor: pointer;
  font-size: 18px;
  line-height: 28px;
  text-align: center;
  flex-shrink: 0;
}

/* 笆ｲ笆ｲ笆ｲ 譁ｰCSS邊倩ｴｴ扈捺據 笆ｲ笆ｲ笆ｲ */

/* === 縲仙�譁ｰ縲題♀螟ｩ螟ｴ驛ｨ窶懈ｭ｣蝨ｨ霎灘�窶晉憾諤∵�ｷ蠑� === */
#chat-header-title.typing-status {
  color: var(--text-secondary);
  animation: typing-pulse 1.5s infinite;
  font-style: italic;
}

@keyframes typing-pulse {
  0%,
  100% {
    opacity: 1;
  }
  50% {
    opacity: 0.6;
  }
}

#chat-header-title {
  transition: opacity 0.2s ease-in-out;
}

@keyframes message-pop-in {
  from {
    opacity: 0;
    transform: translateY(15px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.message-wrapper.animate-in {
  animation: message-pop-in 0.3s cubic-bezier(0.25, 0.1, 0.25, 1) forwards;
}

/* 笆ｼ笆ｼ笆ｼ 縲仙�譁ｰ縲羨pp蝗ｾ譬�ｮｾ鄂ｮ譬ｷ蠑� 笆ｼ笆ｼ笆ｼ */
#icon-settings-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(70px, 1fr));
  gap: 20px;
  width: 100%;
  padding: 0 10px;
  box-sizing: border-box;
}

.icon-setting-item {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 8px;
}

.icon-preview {
  width: 60px;
  height: 60px;
  border-radius: 15px;
  background-size: cover;
  background-position: center;
  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
}

.change-icon-btn {
  padding: 4px 10px;
  font-size: 12px;
  border: 1px solid #ccc;
  background-color: #f0f0f0;
  border-radius: 5px;
  cursor: pointer;
}
/* 笆ｲ笆ｲ笆ｲ 譁ｰCSS邊倩ｴｴ扈捺據 笆ｲ笆ｲ笆ｲ */

/* 笆ｼ笆ｼ笆ｼ 縲仙�譁ｰ縲大､冶ｧりｮｾ鄂ｮ鬘ｵ髱｢蟶�ｱ菫ｮ豁｣ 笆ｼ笆ｼ笆ｼ */

/* 1. 菫ｮ豁｣貊壼勘髣ｮ鬚� */
#wallpaper-screen .form-container {
  /* 譬ｸ蠢�ｿｮ豁｣1: 隗｣蜀ｳflex蟶�ｱ荳狗噪貊壼勘蜀ｲ遯�ｼ瑚ｮｩ貊壼勘譚｡閭ｽ豁｣蟶ｸ蜃ｺ邇ｰ */
  min-height: 0;
}

/* 2. 菫ｮ豁｣螢∫ｺｸ鬚�ｧ郁｢ｫ蜴区堰逧�琉鬚� */
#wallpaper-preview {
  /* 譬ｸ蠢�ｿｮ豁｣2: 髦ｲ豁｢鬚�ｧ域｡�｢ｫ霑�､夂噪蜀�ｮｹ謖､蜴句序蠖｢�瑚ｮｩ螳�ｿ晄戟閾ｪ蟾ｱ逧�ｫ伜ｺｦ */
  flex-shrink: 0;
}
/* 笆ｲ笆ｲ笆ｲ 菫ｮ豁｣扈捺據 笆ｲ笆ｲ笆ｲ */

/* 笆ｼ笆ｼ笆ｼ 縲仙�譁ｰ縲大�莠ｫ體ｾ謗･蜉溯�譬ｷ蠑� (譌�蝗ｾ迚�) 笆ｼ笆ｼ笆ｼ */

/* 1. 豬剰ｧ亥勣逡碁擇閭梧勹濶ｲ蜥悟�螳ｹ蛹ｺ譬ｷ蠑� (菫晄戟荳榊序) */
#browser-screen {
  background-color: #f8f9fa;
}
#browser-content {
  padding: 20px;
  font-size: 16px;
  line-height: 1.8;
  color: #333;
  overflow-y: auto;
  background-color: #f8f9fa;
}
#browser-content .article-title {
  font-size: 24px;
  font-weight: 700;
  margin-bottom: 10px;
}
#browser-content .article-meta {
  font-size: 13px;
  color: #8a8a8a;
  margin-bottom: 25px;
  padding-bottom: 15px;
  border-bottom: 1px solid #e0e0e0;
}
#browser-content .article-body {
  white-space: pre-wrap;
  word-break: break-word;
}
#browser-content .article-body p {
  margin-bottom: 1em;
}

/* 2. 閨雁､ｩ豌疲ｳ｡荳ｭ逧�得謗･蜊｡迚��ｷ蠑� (譌�蝗ｾ迚�) */
.message-bubble.is-link-share .content {
  padding: 0;
  background: transparent;
  box-shadow: none;
  border: none;
  backdrop-filter: none;
  -webkit-backdrop-filter: none;
}

.link-share-card {
  width: 210px;
  background-color: #fff;
  border-radius: 10px;
  border: 1px solid #e0e0e0;
  padding: 12px;
  cursor: pointer;
  transition: background-color 0.2s;
  display: flex;
  flex-direction: column;
  gap: 8px;
}
.link-share-card:hover {
  background-color: #f9f9f9;
}

.link-share-card .title {
  font-weight: 600;
  font-size: 15px;
  line-height: 1.4;
  color: #1f1f1f;
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
  text-overflow: ellipsis;
}

.link-share-card .description {
  font-size: 13px;
  color: #8a8a8a;
  display: -webkit-box;
  -webkit-line-clamp: 3;
  -webkit-box-orient: vertical;
  overflow: hidden;
  text-overflow: ellipsis;
}

.link-share-card .footer {
  display: flex; /* 隶ｩ蝗ｾ譬�柱譁�ｭ玲ｰｴ蟷ｳ蟇ｹ鮨� */
  align-items: center;
  gap: 6px; /* 蝗ｾ譬�柱譁�ｭ礼噪髣ｴ霍� */
  font-size: 12px;
  color: var(--text-secondary);
  margin-top: 4px; /* 蜥御ｸ企擇逧�緒霑ｰ諡牙ｼ荳轤ｹ霍晉ｦｻ */
}
.link-share-card .footer-icon {
  width: 14px;
  height: 14px;
  flex-shrink: 0; /* 髦ｲ豁｢蝗ｾ譬�｢ｫ蜴狗ｼｩ */
}

/* 笆ｲ笆ｲ笆ｲ 譁ｰCSS邊倩ｴｴ扈捺據 笆ｲ笆ｲ笆ｲ */

/* 笆ｼ笆ｼ笆ｼ 隸ｷ蟆�ｿ呎ｮｵ譁ｰ譬ｷ蠑冗ｲ倩ｴｴ蛻ｰ <style> 逧�忰蟆ｾ 笆ｼ笆ｼ笆ｼ */

/* 蜊墓擅隸�ｮｺ逧�ｮｹ蝎ｨ�檎鴫蝨ｨ髴隕∫嶌蟇ｹ螳壻ｽ� */
.comment-item {
  position: relative;
  padding-right: 25px; /* 蝨ｨ蜿ｳ萓ｧ逡吝�蛻�髯､謖蛾聴逧�ｩｺ髣ｴ */
}

/* 隸�ｮｺ蛻�髯､謖蛾聴逧��ｷ蠑� */
.comment-delete-btn {
  position: absolute;
  top: 50%;
  right: 0;
  transform: translateY(-50%);
  width: 22px;
  height: 22px;
  line-height: 22px;
  text-align: center;
  border-radius: 50%;
  color: var(--text-secondary);
  font-size: 18px;
  cursor: pointer;
  transition: all 0.2s ease;
  opacity: 0; /* 鮟倩ｮ､髫占酪 */
}

/* 鮠�譬�ぎ蛛懷惠隸�ｮｺ荳頑慮�梧仞遉ｺ蛻�髯､謖蛾聴 */
.comment-item:hover .comment-delete-btn {
  opacity: 1;
}

.comment-delete-btn:hover {
  background-color: #f0f0f0;
  color: #ff3b30;
}
/* 笆ｲ笆ｲ笆ｲ 譁ｰ譬ｷ蠑冗ｲ倩ｴｴ扈捺據 笆ｲ笆ｲ笆ｲ */

/* 笆ｼ笆ｼ笆ｼ 縲占ｯｷ豎�7縲台ｸｻ螻丞ｹ暮｢�ｮｾ菫晏ｭ俶潔髓ｮ荳ｻ鬚倩牡騾る� (隸ｷ蟆�ｿ吝摎莉｣遐∽ｹ溽ｲ倩ｴｴ蛻ｰ <style> 逧�忰蟆ｾ) 笆ｼ笆ｼ笆ｼ */
#save-home-preset-btn {
  background-color: var(--accent-color);
  color: white;
}
/* 笆ｲ笆ｲ笆ｲ 邊倩ｴｴ扈捺據 笆ｲ笆ｲ笆ｲ */

/* 笆ｼ笆ｼ笆ｼ 縲仙�譁ｰ縲大ｼ慕畑蝗槫､榊粥閭ｽ譬ｷ蠑� 笆ｼ笆ｼ笆ｼ */

/* 1. 霎灘�譯�ｸ頑婿逧�懷屓螟埼｢�ｧ域�鞘� */
#reply-preview-bar {
  display: none; /* 鮟倩ｮ､髫占酪 */
  padding: 8px 12px;
  margin: 0 8px 8px 8px; /* 蜥瑚ｾ灘�譯�捉蝗ｴ逧�ｾｹ霍昜ｿ晄戟荳閾ｴ */
  background-color: rgba(0, 0, 0, 0.05);
  border-left: 3px solid var(--accent-color);
  border-radius: 6px;
  position: relative;
  font-size: 13px;
  color: var(--text-secondary);
}

#phone-screen.dark-mode #reply-preview-bar {
  background-color: rgba(255, 255, 255, 0.1);
}

.reply-preview-content .sender {
  font-weight: 600;
  color: var(--text-primary);
}

.reply-preview-content .text {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  display: block; /* 遑ｮ菫晉怐逡･蜿ｷ逕滓譜 */
  max-width: 95%;
}

#cancel-reply-btn {
  position: absolute;
  top: 50%;
  right: 8px;
  transform: translateY(-50%);
  width: 20px;
  height: 20px;
  line-height: 20px;
  text-align: center;
  border-radius: 50%;
  background-color: rgba(0, 0, 0, 0.1);
  cursor: pointer;
  font-size: 14px;
}

/* 2. 豸域�豌疲ｳ｡蜀�Κ逧�懷ｼ慕畑豸域�蝮冷� */
.quoted-message {
  padding: 6px 10px;
  margin-bottom: 6px;
  background-color: rgba(0, 0, 0, 0.04);
  border-left: 2px solid var(--accent-color);
  border-radius: 4px;
  font-size: 0.9em; /* 蟄嶺ｽ捺ｯ疲ｭ｣譁�ｰ丈ｸ轤ｹ */
  opacity: 0.8;
  /* (蟾ｲ遘ｻ髯､ overflow: hidden;) */
}

#phone-screen.dark-mode .quoted-message {
  background-color: rgba(255, 255, 255, 0.08);
  border-left-color: #a0cff1;
}

.quoted-message .quoted-sender {
  font-weight: 600;
  color: var(--accent-color);
}
#phone-screen.dark-mode .quoted-message .quoted-sender {
  color: #a0cff1;
}

.quoted-message .quoted-content {
  color: var(--text-secondary);
  white-space: normal; /* 譬ｸ蠢�ｿｮ豁｣1: 蜈∬ｮｸ譁�悽豁｣蟶ｸ謐｢陦� */
  word-break: break-word; /* 譬ｸ蠢�ｿｮ豁｣2: 蠑ｺ蛻ｶ髟ｿ蜊戊ｯ肴�霑樒ｻｭ蟄礼ｬｦ譁ｭ蠑�碁亟豁｢貅｢蜃ｺ */
  display: block;
  /* (蟾ｲ遘ｻ髯､ overflow 蜥� text-overflow�悟屏荳ｺ謌台ｻｬ髴隕∝､夊｡梧仞遉ｺ閠御ｸ肴弍蜊戊｡檎怐逡･蜿ｷ) */
}

/* === 蟄嶺ｽ馴｢�ｧ域｡��ｷ蠑� (菫ｮ豁｣蜷�) === */

/* 蟆�ｮ�ｿｮ謾ｹ荳ｺ 笆ｼ笆ｼ笆ｼ */
#font-preview {
  padding: 20px;
  border: 1px solid var(--border-color);
  border-radius: 8px;
  background-color: #f0f2f5; /* 扈滉ｸ荳ｺ譖ｴ豬�噪轣ｰ濶ｲ�檎┯蜷手ｮｩ螟憺龍讓｡蠑修SS蜴ｻ隕�尠 */
  transition: background-color 0.3s, border-color 0.3s;
}

/* 鬚�ｧ域｡�㈹逧�枚蟄鈴｢懆牡�碁ｻ倩ｮ､譏ｯ鮟題牡 */
#font-preview p {
  color: var(--text-primary);
}

/* 螟憺龍讓｡蠑丈ｸ狗噪菫ｮ豁｣譬ｷ蠑� */
#phone-screen.dark-mode #font-preview {
  background-color: #1c1c1e; /* 豺ｱ轣ｰ濶ｲ閭梧勹 */
  border-color: #38383a; /* 證苓牡霎ｹ譯� */
}

/* 螟憺龍讓｡蠑丈ｸ具ｼ碁｢�ｧ域｡�㈹逧�枚蟄怜序荳ｺ逋ｽ濶ｲ */
#phone-screen.dark-mode #font-preview p {
  color: #ffffff;
}

/* 笆ｼ笆ｼ笆ｼ 縲仙�譁ｰ縲醍ｲｾ閾ｴ迚郁ｽｬ雍ｦ謫堺ｽ懷ｼｹ遯玲�ｷ蠑� 笆ｼ笆ｼ笆ｼ */
.transfer-actions-content {
  background-color: #fff0f5; /* 邊牙ｫｩ逧�レ譎ｯ濶ｲ */
  border-radius: 20px;
  width: 290px;
  padding: 20px;
  box-shadow: 0 5px 25px rgba(255, 105, 180, 0.3); /* 邊芽牡髦ｴ蠖ｱ */
  text-align: center;
  position: relative;
  border: 1px solid #ffcce0;
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
}

.transfer-actions-header {
  font-size: 20px;
  font-weight: bold;
  color: #a35c7b; /* 豺ｱ邊芽牡譬�｢� */
  margin-bottom: 15px;
}

.transfer-actions-body p {
  font-size: 15px;
  color: #555;
  margin: 0 0 25px 0;
  line-height: 1.5;
}

.transfer-actions-footer {
  display: flex;
  justify-content: space-between;
  gap: 15px;
}

.transfer-actions-footer .action-btn {
  flex: 1;
  padding: 12px;
  border: none;
  border-radius: 12px;
  font-size: 16px;
  font-weight: 600;
  cursor: pointer;
  transition: transform 0.2s, box-shadow 0.2s;
  color: white;
}

.transfer-actions-footer .action-btn:active {
  transform: scale(0.95);
}

.transfer-actions-footer .action-btn.accept {
  background: linear-gradient(135deg, #ff85b3, #ff69b4);
  box-shadow: 0 4px 10px rgba(255, 105, 180, 0.4);
}

.transfer-actions-footer .action-btn.decline {
  background: linear-gradient(135deg, #c2c2c2, #a0a0a0);
  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
}

.transfer-actions-content .cancel-btn {
  position: absolute;
  top: 10px;
  right: 10px;
  width: 28px;
  height: 28px;
  border-radius: 50%;
  border: none;
  background-color: rgba(0, 0, 0, 0.1);
  color: #a35c7b;
  font-size: 20px;
  line-height: 28px;
  cursor: pointer;
}
/* 笆ｲ笆ｲ笆ｲ 譁ｰCSS邊倩ｴｴ扈捺據 笆ｲ笆ｲ笆ｲ */

/* 笆ｼ笆ｼ笆ｼ 隸ｷ蟆�ｿ呎ｮｵ譁ｰ譬ｷ蠑冗ｲ倩ｴｴ蛻ｰ <style> 逧�忰蟆ｾ 笆ｼ笆ｼ笆ｼ */

/* === 譛ｪ隸ｻ豸域�郤｢轤ｹ譬ｷ蠑� === */
.unread-count-wrapper {
  flex-shrink: 0;
  width: 40px;
  display: flex;
  justify-content: center;
  align-items: flex-start;
  padding-top: 20px; /* 隶ｩ郤｢轤ｹ蜥悟錐蟄怜ｷｮ荳榊､夐ｫ� */
}

.unread-count {
  min-width: 20px;
  height: 20px;
  padding: 0 6px;
  background-color: #ff3b30; /* iOS 鬟取�ｼ逧�ｺ｢濶ｲ */
  color: white;
  font-size: 13px;
  font-weight: 500;
  line-height: 20px;
  text-align: center;
  border-radius: 10px; /* 蝨�ｧ堤洸蠖｢ */
  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.15);
  display: none; /* 鮟倩ｮ､髫占酪 */
  justify-content: center;
  align-items: center;
}
/* 笆ｲ笆ｲ笆ｲ 譁ｰ譬ｷ蠑冗ｲ倩ｴｴ扈捺據 笆ｲ笆ｲ笆ｲ */

/* 笆ｼ笆ｼ笆ｼ 縲仙�譁ｰ縲鷹夊ｯ晁ｮｰ蠖暮｡ｵ髱｢荳主今迚��ｷ蠑� 笆ｼ笆ｼ笆ｼ */

/* 遑ｮ菫晞｡ｵ髱｢閭梧勹濶ｲ扈滉ｸ */
#call-history-screen {
  background-color: #f0f2f5;
}

/* 騾夊ｯ晁ｮｰ蠖募今迚��ｷ蠑� */
.call-record-card {
  background-color: var(--secondary-bg);
  border-radius: 12px;
  padding: 15px;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
  cursor: pointer;
  transition: transform 0.2s ease, box-shadow 0.2s ease;
  border-left: 5px solid var(--accent-color);
}
.call-record-card:hover {
  transform: translateY(-3px);
  box-shadow: 0 6px 12px rgba(0, 0, 0, 0.1);
}

/* 蜊｡迚�､ｴ驛ｨ�壼桁蜷ｫ譌･譛溷柱譌ｶ髟ｿ */
.call-record-card .card-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  font-size: 13px;
  color: var(--text-secondary);
  margin-bottom: 12px;
  padding-bottom: 8px;
  border-bottom: 1px solid var(--border-color);
}
.call-record-card .card-header .duration {
  font-weight: 500;
  color: var(--text-primary);
}

/* 蜊｡迚�ｸｻ菴難ｼ壼盾荳手�､ｴ蜒� */
.call-record-card .card-body {
  display: flex;
  align-items: center;
}
.call-record-card .participants-avatars {
  display: flex;
  align-items: center;
}
.call-record-card .participant-avatar {
  width: 36px;
  height: 36px;
  border-radius: 50%;
  object-fit: cover;
  border: 2px solid white;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
}
/* 隶ｩ螟ｴ蜒乗怏荳荳ｪ貍ゆｺｮ逧���匠謨域棡 */
.call-record-card .participant-avatar:not(:first-child) {
  margin-left: -12px;
}
.call-record-card .participants-names {
  margin-left: 12px;
  font-weight: 600;
  color: var(--text-primary);
  font-size: 15px;
}

/* --- 騾夊ｯ晁ｯｦ諠�ｼｹ遯玲�ｷ蠑� --- */
#transcript-modal-body {
  display: flex;
  flex-direction: column;
  gap: 12px;
  padding: 15px;
}
.transcript-entry {
  padding: 8px 12px;
  border-radius: 10px;
  max-width: 85%;
  line-height: 1.5;
  word-break: break-word;
}
.transcript-entry.user {
  background-color: #dcf8c6; /* 邀ｻ莨ｼ蠕ｮ菫｡逧�ｻｿ濶ｲ */
  align-self: flex-end;
}
.transcript-entry.assistant {
  background-color: #ffffff;
  align-self: flex-start;
}
/* 笆ｲ笆ｲ笆ｲ 譁ｰCSS邊倩ｴｴ扈捺據 笆ｲ笆ｲ笆ｲ */

#chat-list-title {
  cursor: pointer;
}

/* 笆ｼ笆ｼ笆ｼ 縲仙�譁ｰ縲鷹夊ｯ晁ｮｰ蠖募今迚�ｾ主喧譬ｷ蠑� 笆ｼ笆ｼ笆ｼ */

.call-record-card .card-body {
  /* 蟆� body 謾ｹ荳ｺ flex 蟶�ｱ�瑚ｮｩ譬�｢伜柱蜿ゆｸ手�ｿ｡諱ｯ蝙ら峩謗貞� */
  display: flex;
  flex-direction: column;
  gap: 8px; /* 譬�｢伜柱蜿ゆｸ手�ｿ｡諱ｯ荵矩龍逧�龍霍� */
}

.call-record-card .custom-title {
  font-size: 16px;
  font-weight: 600; /* 蜉�邊暦ｼ瑚ｮｩ螳�ワ荳ｪ譬�｢� */
  color: var(--text-primary);
  padding-bottom: 8px; /* 譬�｢倅ｸ狗噪逡咏區 */
  border-bottom: 1px solid var(--border-color); /* 蝨ｨ譬�｢倅ｸ句刈荳譚｡蛻�牡郤ｿ */
  margin-bottom: 4px; /* 蜥御ｸ矩擇逧�盾荳手�ｿ｡諱ｯ諡牙ｼ荳轤ｹ霍晉ｦｻ */
}

.call-record-card .participants-info {
  /* 霑吩ｸｪ譁ｰ螳ｹ蝎ｨ隶ｩ螟ｴ蜒丞柱窶應ｸ支x窶晁�豌ｴ蟷ｳ蟇ｹ鮨� */
  display: flex;
  align-items: center;
}

/* 蜿ゆｸ手�錐蟄礼噪譬ｷ蠑丞ｾｮ隹�ｼ瑚ｮｩ螳�ｸ埼ぅ荵育ｪ∝� */
.call-record-card .participants-names {
  margin-left: 12px;
  font-weight: 500; /* 荳榊�蜉�邊� */
  font-size: 14px; /* 遞榊ｾｮ蟆丈ｸ轤ｹ */
  color: var(--text-secondary); /* 菴ｿ逕ｨ谺｡隕∵枚蟄鈴｢懆牡 */
}

/* 笆ｲ笆ｲ笆ｲ 譁ｰ譬ｷ蠑冗ｲ倩ｴｴ扈捺據 笆ｲ笆ｲ笆ｲ */

/* 笆ｼ笆ｼ笆ｼ 縲仙�譁ｰ縲題ｯｭ髻ｳ霓ｬ譁�ｭ怜粥閭ｽ譬ｷ蠑� 笆ｼ笆ｼ笆ｼ */

/* 1. 隸ｭ髻ｳ譁�ｭ怜�螳ｹ逧��ｷ蠑� */
.voice-transcript {
  font-size: 14px; /* 譁�ｭ怜､ｧ蟆� */
  line-height: 1.6; /* 陦碁ｫ假ｼ瑚ｮｩ螟夊｡梧枚譛ｬ譖ｴ譏楢ｯｻ */
  color: var(--text-secondary); /* 菴ｿ逕ｨ谺｡隕∵枚蟄鈴｢懆牡�御ｸ手ｯｭ髻ｳ譚｡蛹ｺ蛻� */
  padding: 8px 12px; /* 蜀�ｾｹ霍� */
  margin-top: 6px; /* 蜥御ｸ頑婿逧�ｯｭ髻ｳ譚｡諡牙ｼ荳轤ｹ霍晉ｦｻ */
  background-color: rgba(0, 0, 0, 0.04); /* 扈吩ｸ荳ｪ豺｡豺｡逧�レ譎ｯ�梧峩譛牙ｱよｬ｡諢� */
  border-radius: 6px; /* 蝨�ｧ� */
  word-break: break-word; /* 遑ｮ菫晞柄譁�悽閭ｽ豁｣蟶ｸ謐｢陦� */
  display: none; /* 鮟倩ｮ､髫占酪 */
}

#phone-screen.dark-mode .voice-transcript {
  background-color: rgba(255, 255, 255, 0.1); /* 螟憺龍讓｡蠑丈ｸ狗噪閭梧勹濶ｲ */
}

/* 2. 譌玖ｽｬ蜉�霓ｽ蜉ｨ逕ｻ逧��ｷ蠑� */
.loading-spinner {
  display: none; /* 鮟倩ｮ､髫占酪 */
  width: 16px;
  height: 16px;
  border: 2px solid rgba(0, 0, 0, 0.2);
  border-top-color: var(--accent-color); /* 譌玖ｽｬ驛ｨ蛻�噪鬚懆牡 */
  border-radius: 50%;
  animation: spin 1s linear infinite;
  margin: 0 8px; /* 蜥梧ｳ｢蠖｢蝗ｾ縲∵慮髟ｿ菫晄戟荳轤ｹ髣ｴ霍� */
}

/* 3. 螳壻ｹ画雷霓ｬ蜉ｨ逕ｻ */
@keyframes spin {
  to {
    transform: rotate(360deg);
  }
}
/* 笆ｲ笆ｲ笆ｲ 譁ｰ譬ｷ蠑冗ｲ倩ｴｴ扈捺據 笆ｲ笆ｲ笆ｲ */

/* 笆ｼ笆ｼ笆ｼ 縲仙�譁ｰ縲大�莠ｫ隶ｰ蠖墓衍逵句勣譬ｷ蠑丈ｿｮ豁｣ 笆ｼ笆ｼ笆ｼ */
#shared-history-viewer-content {
  display: flex;
  flex-direction: column; /* 隶ｩ豌疲ｳ｡蝙ら峩謗貞� */
  gap: 20px; /* 蝨ｨ豈丈ｸｪ豌疲ｳ｡荵矩龍蠅槫刈20蜒冗ｴ�逧�龍霍� */
  padding: 15px; /* 蝨ｨ螳ｹ蝎ｨ蝗帛捉荵溷｢槫刈荳莠帛�霎ｹ霍晢ｼ碁∩蜈肴ｰ疲ｳ｡雍ｴ霎ｹ */
}
/* 笆ｲ笆ｲ笆ｲ 譁ｰCSS邊倩ｴｴ扈捺據 笆ｲ笆ｲ笆ｲ */

/* 笆ｼ笆ｼ笆ｼ 縲仙�譁ｰ縲第眺謾ｾ蝎ｨ蜥梧ｭ瑚ｯ肴�ｷ蠑� 笆ｼ笆ｼ笆ｼ */
#music-player-overlay {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: 50;
  display: flex;
  justify-content: center;
  align-items: flex-start;
  padding-top: 60px;
  background-color: rgba(0, 0, 0, 0.3);
  opacity: 0;
  visibility: hidden;
  transform: translateY(-50px);
  transition: opacity 0.4s ease-out, transform 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
}

#music-player-overlay.visible {
  opacity: 1;
  visibility: visible;
  transform: translateY(0);
}

.music-player-window {
  width: 70%;
  min-height: 420px;
  background-color: rgba(255, 255, 255, 0.6);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border-radius: 25px;
  box-shadow: 0 8px 32px 0 rgba(25, 25, 25, 0.37);
  border: 1px solid rgba(255, 255, 255, 0.18);
  padding: 25px;
  display: flex;
  flex-direction: column;
  align-items: center;
  color: #1f1f1f;
  position: relative;
  justify-content: space-between;
  padding-bottom: 15px;
}

.music-player-top-actions {
  position: absolute;
  top: 15px;
  left: 15px;
  right: 15px;
  width: calc(100% - 30px);
  display: flex;
  justify-content: space-between;
  align-items: center;
}
.top-left-cluster {
  display: flex;
  align-items: center;
  gap: 15px;
}
#music-return-btn,
#music-exit-btn {
  background: none;
  border: none;
  font-size: 28px;
  font-weight: 300;
  cursor: pointer;
  color: #555;
  padding: 5px;
  line-height: 1;
}
#music-exit-btn {
  font-size: 24px;
  font-weight: 400;
}

.music-progress-bar-container {
  width: 100%;
  display: flex;
  align-items: center;
  gap: 10px;
  margin-top: 25px;
  margin-bottom: 10px;
}
.time-display {
  font-size: 11px;
  color: #888;
  width: 35px;
  text-align: center;
  flex-shrink: 0;
  font-family: 'SF Mono', 'Menlo', monospace;
}
.progress-bar {
  flex-grow: 1;
  height: 5px;
  background-color: #e5e5e5;
  border-radius: 2.5px;
  cursor: pointer;
}
.progress-bar-fill {
  width: 0%;
  height: 100%;
  background-color: #333;
  border-radius: 2.5px;
}

#music-lyrics-container {
  width: 100%;
  height: 192px;
  overflow: hidden;
  position: relative;
  -webkit-mask-image: linear-gradient(transparent, black 20%, black 80%, transparent);
  mask-image: linear-gradient(transparent, black 20%, black 80%, transparent);
}

#music-lyrics-list {
  display: flex;
  flex-direction: column;
  align-items: center;
  transition: transform 0.5s cubic-bezier(0.25, 0.1, 0.25, 1);
}

.lyric-line {
  padding: 4px 0;
  font-size: 14px;
  color: #666;
  text-align: center;
  line-height: 1.5;
  transition: all 0.5s ease;
  opacity: 0.7;
  transform: scale(0.95);
}

.lyric-line.active {
  font-size: 16px;
  color: #000;
  opacity: 1;
  transform: scale(1);
}

.music-player-controls-wrapper {
  width: 100%;
  display: flex;
  flex-direction: column;
  gap: 10px;
}

.music-controls {
  margin-top: 0;
}

#music-return-btn,
#music-exit-btn,
#music-playlist-btn {
  position: relative;
}

#music-return-btn {
  top: -2px;
}
#music-playlist-btn {
  top: -3px;
}

.playlist-item-actions {
  display: flex;
  align-items: center;
  gap: 15px;
}
.playlist-action-btn {
  font-size: 18px;
  color: #888;
  cursor: pointer;
  transition: color 0.2s;
}
.playlist-action-btn:hover {
  color: #000;
}
.delete-track-btn {
  font-size: 24px;
  color: #ff3b30;
}
.delete-track-btn:hover {
  color: #c00;
}
.lyrics-btn {
  font-weight: 500;
}

/* 笆ｼ笆ｼ笆ｼ 縲先怙扈亥､ｴ蜒乗叛螟ｧ迚医題ｯｷ逕ｨ霑吝摎莉｣遐∵崛謐｢謇譛臥嶌蜈ｳ逧�､ｴ蜒丞ｰｺ蟇ｸ隗�� 笆ｼ笆ｼ笆ｼ */

/* 1. 譎ｮ騾壼､ｴ蜒乗�ｷ蠑擾ｼ域裏譯�ｼ� */
.message-bubble .avatar {
  width: 38px; /* 笘� 菫ｮ謾ｹ轤ｹ�壼ｰ�ｰｺ蟇ｸ莉� 34px 謾ｾ螟ｧ蛻ｰ 42px */
  height: 38px; /* 笘� 菫ｮ謾ｹ轤ｹ�夐ｫ伜ｺｦ荵溷酔豁･謾ｾ螟ｧ */
  border-radius: 20%;
  object-fit: cover;
  flex-shrink: 0;
}

/* 2. 蟶ｦ譯�､ｴ蜒冗噪螳ｹ蝎ｨ譬ｷ蠑� */
.avatar-with-frame {
  position: relative;
  width: 41px; /* 笘� 菫ｮ謾ｹ轤ｹ�壼ｰｺ蟇ｸ荳取勸騾壼､ｴ蜒丈ｿ晄戟荳閾ｴ */
  height: 41px; /* 笘� 菫ｮ謾ｹ轤ｹ�夐ｫ伜ｺｦ荵溷酔豁･謾ｾ螟ｧ */
  flex-shrink: 0;
}

/* 笆ｲ笆ｲ笆ｲ 譖ｿ謐｢扈捺據 笆ｲ笆ｲ笆ｲ */

/* 笆ｼ笆ｼ笆ｼ 縲仙�譁ｰ縲第彫蝗樊ｶ域�譬ｷ蠑� 笆ｼ笆ｼ笆ｼ */

/* 1. 謦､蝗樊ｶ域�逧�頃菴咲ｬｦ譬ｷ蠑� */
.recalled-message-placeholder {
  align-self: center; /* 螻�ｸｭ譏ｾ遉ｺ */
  padding: 4px 12px;
  margin: 5px 0;
  background-color: rgba(0, 0, 0, 0.1);
  color: var(--text-secondary);
  font-size: 12px;
  border-radius: 10px;
  text-align: center;
  max-width: 80%;
  cursor: pointer; /* 隶ｩ螳�恚襍ｷ譚･蜿ｯ莉･轤ｹ蜃ｻ */
}

/* 2. 螟憺龍讓｡蠑丈ｸ狗噪騾る� */
#phone-screen.dark-mode .recalled-message-placeholder {
  background-color: rgba(255, 255, 255, 0.15);
}

/* 3. AI謦､蝗樊ｶ域�譌ｶ逧�勘逕ｻ謨域棡 */
@keyframes recall-animation {
  from {
    opacity: 1;
    transform: scale(1);
  }
  to {
    opacity: 0;
    transform: scale(0.8);
  }
}

.message-wrapper.recalled-animation {
  animation: recall-animation 0.3s ease-out forwards;
}

/* 笆ｲ笆ｲ笆ｲ 譁ｰCSS邊倩ｴｴ扈捺據 笆ｲ笆ｲ笆ｲ */

/* 笆ｼ笆ｼ笆ｼ 縲仙�譁ｰ縲第彫蝗樊ｶ域�譬ｷ蠑丈ｿｮ豁｣ 笆ｼ笆ｼ笆ｼ */

/* 蠑ｺ蛻ｶ謦､蝗樊ｶ域�逧�頃菴咲ｬｦ荳肴困陦鯉ｼ悟ｹｶ菫晄戟蜀�ｮｹ螻�ｸｭ */
.recalled-message-placeholder {
  white-space: nowrap; /* 譬ｸ蠢�ｼ夂ｦ∵ｭ｢譁�悽謐｢陦� */
  display: inline-block; /* 隶ｩ閭梧勹譬ｹ謐ｮ蜀�ｮｹ閾ｪ騾ょｺ泌ｮｽ蠎ｦ */
  padding: 4px 12px;
}

/* 笆ｲ笆ｲ笆ｲ 譁ｰCSS邊倩ｴｴ扈捺據 笆ｲ笆ｲ笆ｲ */

/* 笆ｼ笆ｼ笆ｼ 縲仙�譁ｰ縲台ｸ也阜荵ｦ蛻�ｱｻ蛻苓｡ｨ譬ｷ蠑� 笆ｼ笆ｼ笆ｼ */
.world-book-group-container {
  border-bottom: 1px solid var(--border-color);
}
.world-book-group-container:first-child {
  border-top: 1px solid var(--border-color);
}
.world-book-group-header {
  display: flex;
  align-items: center;
  padding: 12px 15px;
  cursor: pointer;
  background-color: #f7f7f7;
}
.world-book-group-header .arrow {
  font-size: 14px;
  margin-right: 8px;
  transition: transform 0.2s ease;
}
.world-book-group-header.collapsed .arrow {
  transform: rotate(-90deg);
}
.world-book-group-header .group-name {
  font-weight: 600;
  font-size: 15px;
}
.world-book-group-content {
  max-height: 100000px; /* <--- 蟆ｱ譏ｯ菫ｮ謾ｹ霑咎㈹�梧滑蛟ｼ謾ｹ螟ｧ蜊ｳ蜿ｯ */
  overflow: hidden;
  transition: max-height 0.3s ease-in-out;
}
.world-book-group-content.collapsed {
  max-height: 0;
}
#phone-screen.dark-mode .world-book-group-header {
  background-color: #1c1c1e;
}
/* 笆ｲ笆ｲ笆ｲ 譁ｰCSS邊倩ｴｴ扈捺據 笆ｲ笆ｲ笆ｲ */

/* 笆ｼ笆ｼ笆ｼ 縲仙�譁ｰ縲醍ｺ｢蛹�/霓ｬ雍ｦ讓｡諤∵｡�｡ｵ遲ｾ譬ｷ蠑� 笆ｼ笆ｼ笆ｼ */
.frame-tabs {
  display: flex;
  background-color: #f0f0f0;
  padding: 4px;
  margin: 15px;
  border-radius: 8px;
}
.frame-tab {
  flex: 1;
  text-align: center;
  padding: 8px;
  font-size: 14px;
  font-weight: 500;
  color: #555;
  cursor: pointer;
  border-radius: 6px;
  transition: all 0.2s ease-in-out;
}
.frame-tab.active {
  background-color: #ffffff;
  color: #000000;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
}
/* 笆ｲ笆ｲ笆ｲ 譁ｰCSS邊倩ｴｴ扈捺據 笆ｲ笆ｲ笆ｲ */

/* 笆ｼ笆ｼ笆ｼ 隸ｷ蟆�ｿ呎ｮｵ蜈ｨ譁ｰ逧ГSS邊倩ｴｴ蛻ｰ <style> 逧�忰蟆ｾ 笆ｼ笆ｼ笆ｼ */

/* 1. 蛻�ｱｻ譁�ｻｶ螟ｹ逧��ｷ蠑� */
.wb-category-header {
  display: flex;
  align-items: center;
  padding: 10px 12px;
  cursor: pointer;
  background-color: #f0f2f5; /* 扈呎枚莉ｶ螟ｹ荳荳ｪ豺｡豺｡逧�レ譎ｯ濶ｲ莉･蛹ｺ蛻� */
  font-weight: 600; /* 蜉�邊怜ｭ嶺ｽ� */
}
#phone-screen.dark-mode .wb-category-header {
  background-color: #2c2c2e; /* 螟憺龍讓｡蠑丈ｸ狗噪閭梧勹濶ｲ */
}

/* 2. 螻募ｼ/謾ｶ襍ｷ逧�ｰ冗ｮｭ螟ｴ */
.wb-category-header .arrow {
  font-size: 12px;
  margin-right: 8px;
  transition: transform 0.2s ease;
}

/* 3. 蠖捺枚莉ｶ螟ｹ謾ｶ襍ｷ譌ｶ�檎ｮｭ螟ｴ譌玖ｽｬ */
.wb-category-header.collapsed .arrow {
  transform: rotate(-90deg);
}

/* 4. 蟄俶叛荵ｦ邀肴擅逶ｮ逧�ｮｹ蝎ｨ */
.wb-book-container {
  padding-left: 20px; /* 譬ｸ蠢�ｼ夊ｮｩ荵ｦ邀肴擅逶ｮ蜷大�郛ｩ霑幢ｼ檎恚襍ｷ譚･蜒丞惠譁�ｻｶ螟ｹ驥� */
  max-height: 100000px; /* 荳荳ｪ雜ｳ螟溷､ｧ逧�ｼ�檎畑莠主勘逕ｻ */
  overflow: hidden;
  transition: max-height 0.3s ease-in-out;
}

/* 5. 蠖捺枚莉ｶ螟ｹ謾ｶ襍ｷ譌ｶ�御ｹｦ邀榊ｮｹ蝎ｨ逧�ｫ伜ｺｦ蜿倅ｸｺ0�悟ｮ樒鴫蜉ｨ逕ｻ謨域棡 */
.wb-book-container.collapsed {
  max-height: 0;
}

/* 6. 蜊穂ｸｪ荵ｦ邀肴擅逶ｮ�郁ｦ�尠鮟倩ｮ､逧�abel譬ｷ蠑擾ｼ悟ｾｮ隹�龍霍晢ｼ� */
.wb-book-container label {
  padding: 8px 12px;
}

/* 笆ｲ笆ｲ笆ｲ 譁ｰCSS邊倩ｴｴ扈捺據 笆ｲ笆ｲ笆ｲ */

/* 笆ｼ笆ｼ笆ｼ 縲仙�譁ｰ縲台ｸ也阜荵ｦ蜈ｳ閨秘画叫蝎ｨ - 隗�ｧ我ｼ伜喧 笆ｼ笆ｼ笆ｼ */

/* 1. 隶ｩ蛻�ｱｻ譬�｢俶峩遯∝� */
.wb-category-header > span:last-of-type {
  font-size: 14px;
  font-weight: 700; /* 蜉�邊� */
  color: var(--text-primary);
}

/* 2. 荳ｺ邂ｭ螟ｴ隶ｾ鄂ｮ荳荳ｪ貍ゆｺｮ逧�｢懆牡蠕ｪ邇ｯ */
#world-book-checkboxes-container .wb-category-header:nth-of-type(6n + 1) .arrow {
  color: #007bff;
} /* 闢晁牡 */
#world-book-checkboxes-container .wb-category-header:nth-of-type(6n + 2) .arrow {
  color: #28a745;
} /* 扈ｿ濶ｲ */
#world-book-checkboxes-container .wb-category-header:nth-of-type(6n + 3) .arrow {
  color: #fd7e14;
} /* 讖呵牡 */
#world-book-checkboxes-container .wb-category-header:nth-of-type(6n + 4) .arrow {
  color: #6f42c1;
} /* 邏ｫ濶ｲ */
#world-book-checkboxes-container .wb-category-header:nth-of-type(6n + 5) .arrow {
  color: #dc3545;
} /* 郤｢濶ｲ */
#world-book-checkboxes-container .wb-category-header:nth-of-type(6n + 6) .arrow {
  color: #ffc107;
} /* 鮟�牡 */

/* 笆ｲ笆ｲ笆ｲ 譁ｰCSS邊倩ｴｴ扈捺據 笆ｲ笆ｲ笆ｲ */

/* === 螟ｴ蜒乗｡�画叫讓｡諤∵｡��ｷ蠑� (霑呎弍譁ｰ豺ｻ蜉�逧�) === */
.change-frame-btn {
  padding: 6px 10px;
  border: 1px solid #ccc;
  background-color: #f0f0f0;
  border-radius: 5px;
  cursor: pointer;
  font-size: 13px;
  margin-left: 10px;
}

#avatar-frame-modal .modal-content {
  height: 70%; /* 隶ｩ遯怜哨鬮倅ｸ轤ｹ */
}

#avatar-frame-modal .modal-body {
  padding: 0;
  display: flex;
  flex-direction: column;
}

.frame-tabs {
  display: flex;
  border-bottom: 1px solid var(--border-color);
  flex-shrink: 0;
}

.frame-tab {
  flex: 1;
  padding: 12px;
  text-align: center;
  font-weight: 500;
  cursor: pointer;
  color: var(--text-secondary);
  border-bottom: 2px solid transparent;
}

.frame-tab.active {
  color: var(--accent-color);
  border-bottom-color: var(--accent-color);
}

.frame-content {
  flex-grow: 1;
  overflow-y: auto;
  padding: 15px;
}

.frame-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(70px, 1fr)); /* 豈剰｡瑚�蜉ｨ蝪ｫ蜈�ｼ梧怙蟆�70px螳ｽ */
  gap: 15px;
}

.frame-item {
  aspect-ratio: 1 / 1; /* 菫晄戟豁｣譁ｹ蠖｢ */
  border: 2px solid transparent;
  border-radius: 10px;
  cursor: pointer;
  background-color: #f0f0f0;
  background-size: cover;
  background-position: center;
  padding: 5px;
  transition: all 0.2s ease;
  position: relative; /* 荳ｺ鬚�ｧ亥崟蛛壼㊥螟� */
}

.frame-item.selected {
  border-color: var(--accent-color);
  transform: scale(1.05);
}

.frame-item .preview-avatar {
  width: 100%;
  height: 100%;
  border-radius: 50%;
  object-fit: cover;
}

.frame-item .preview-frame {
  position: absolute;
  top: -7px;
  left: 0;
  width: 100%;
  height: 100%;
}

/* 笆ｼ笆ｼ笆ｼ 謚願ｿ吩ｺ佞SS蜉�蝗槫悉 笆ｼ笆ｼ笆ｼ */

.avatar-with-frame .avatar-img {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  border-radius: 50%; /* 蟶ｦ譯�噪螟ｴ蜒城壼ｸｸ譏ｯ蝨�噪 */
  object-fit: cover;
  z-index: 1;
}
/* 笆ｼ笆ｼ笆ｼ 縲先怙扈井ｿｮ螟咲沿縲題ｯｷ逕ｨ霑呎紛蝮嶺ｻ｣遐�ｼ梧崛謐｢謗画立逧�♀螟ｩ蜥悟ｿ�｣ｰ螟ｴ蜒乗｡�ｧ�� 笆ｼ笆ｼ笆ｼ */

.avatar-with-frame .avatar-frame,
#inner-voice-avatar-frame {
  position: absolute;
  /* 譬ｸ蠢�ｿｮ謾ｹ1�壼ｰ�ｮｽ鬮倡ｻ滉ｸ隶ｾ鄂ｮ荳ｺ125%�檎｡ｮ菫晁�螳悟�蛹�｣ｹ34px逧�､ｴ蜒擾ｼ悟ｹｶ逡吝�貍ゆｺｮ逧�ｾｹ霍� */
  width: 125%;
  height: 125%;

  /* 譬ｸ蠢�ｿｮ謾ｹ2�壻ｽｿ逕ｨ譬�㊥逧�-50%譚･邊ｾ遑ｮ螳壻ｽ搾ｼ檎｡ｮ菫晏､ｴ蜒乗｡�ｮ檎ｾ主ｱ�ｸｭ */
  transform: translate(-50%, -50%);

  /* 譬ｸ蠢�ｿｮ謾ｹ3�壼ｰ�ｮ壻ｽ榊渕轤ｹ荵滓隼荳ｺ譬�㊥逧�50%�御ｸ師ransform驟榊粋菴ｿ逕ｨ */
  top: 50%;
  left: 50%;

  z-index: 2;
  pointer-events: none;
}

/* 笆ｲ笆ｲ笆ｲ 譖ｿ謐｢扈捺據 笆ｲ笆ｲ笆ｲ */

/* 笆ｲ笆ｲ笆ｲ 豺ｻ蜉�扈捺據 笆ｲ笆ｲ笆ｲ */

/* 笆ｼ笆ｼ笆ｼ 縲先怙扈育ｾ主喧迚医題♀螟ｩ蛻苓｡ｨ蟾ｦ貊醍ｽｮ鬘ｶ蜉溯�譬ｷ蠑� (蟾ｲ菫ｮ螟坑ug) 笆ｼ笆ｼ笆ｼ */

/* 1. 螟門ｱょ桁陬ｹ螳ｹ蝎ｨ (蟾ｲ遘ｻ髯､ display:flex) */
.chat-list-item-swipe-container {
  position: relative;
  overflow: hidden;
}

/* 2. 蜿ｯ貊大勘逧��螳ｹ蛹ｺ (菫晄戟荳榊序) */
.chat-list-item-content {
  position: relative;
  z-index: 2;
  background-color: var(--secondary-bg);
  transition: transform 0.3s ease, background-color 0.3s ease;
  width: 100%;
  flex-shrink: 0;
}

/* 3. 縲先�ｸ蠢�ｿｮ謾ｹ1縲醍ｽｮ鬘ｶ閨雁､ｩ譌ｶ�御ｽｿ逕ｨ蟇ｹ豈泌ｺｦ譖ｴ蠑ｺ逧�レ譎ｯ濶ｲ */
.chat-list-item-content.pinned {
  background-color: #f0f2f5; /* 譌･髣ｴ讓｡蠑丈ｸ狗噪鄂ｮ鬘ｶ鬚懆牡 (蟾ｲ蜉�豺ｱ) */
}
#phone-screen.dark-mode .chat-list-item-content.pinned {
  background-color: #3a3a3c; /* 螟憺龍讓｡蠑丈ｸ狗噪鄂ｮ鬘ｶ鬚懆牡 (蟾ｲ蜉�豺ｱ) */
}

/* 4. 髫占酪逧�桃菴懈潔髓ｮ蛹ｺ蝓� (菫晄戟荳榊序) */
.swipe-actions {
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  z-index: 1;
  display: flex;
}

/* 5. 蜊穂ｸｪ謫堺ｽ懈潔髓ｮ逧��ｷ蠑� (菫晄戟荳榊序) */
.swipe-action-btn {
  height: 100%;
  padding: 0 20px;
  border: none;
  color: white;
  font-size: 14px;
  font-weight: 500;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  width: 80px;
}

.swipe-action-btn.pin {
  background-color: #f0ad4e;
}
.swipe-action-btn.unpin {
  background-color: #777;
}
.swipe-action-btn.delete {
  background-color: #ff3b30;
}

/* 6. 蠖灘�螳ｹ蛹ｺ陲ｫ貊大ｼ譌ｶ (菫晄戟荳榊序) */
.chat-list-item-content.swiped {
  transform: translateX(-160px);
}

/* 7. 蛻�牡郤ｿ逧�ｭ｣遑ｮ騾ｻ霎� (菫晄戟荳榊序) */
.chat-list-item {
  border-bottom: none;
}
.chat-list-item-swipe-container:not(:last-child) {
  border-bottom: 1px solid var(--border-color);
}
.chat-group-container {
  border-bottom: 1px solid var(--border-color);
}
.chat-group-container:first-of-type {
  border-top: 1px solid var(--border-color);
}
/* 笆ｲ笆ｲ笆ｲ 譁ｰ譬ｷ蠑冗ｲ倩ｴｴ扈捺據 笆ｲ笆ｲ笆ｲ */

/* 笆ｼ笆ｼ笆ｼ 逕ｨ荳矩擇霑呎ｮｵ縲先眠譬ｷ蠑上托ｼ梧崛謐｢謗我ｽ�譌ｧ逧� .date-stamp 譬ｷ蠑� 笆ｼ笆ｼ笆ｼ */

/* 譌･譛滓圧逧�､門ｱょ桁陬ｹ�瑚ｮｩ螳�ワ邉ｻ扈滓ｶ域�荳譬ｷ螻�ｸｭ */
.date-stamp-wrapper {
  justify-content: center;
  align-self: center;
  margin: 10px 0;
  max-width: 80%;
}

/* 譌･譛滓圧逧�ｰ疲ｳ｡譛ｬ霄ｫ */
.date-stamp-bubble {
  background-color: rgba(0, 0, 0, 0.1);
  color: var(--text-secondary);
  font-size: 12px;
  padding: 4px 12px;
  border-radius: 10px;
}

/* 騾る�螟憺龍讓｡蠑� */
#phone-screen.dark-mode .date-stamp-bubble {
  background-color: rgba(255, 255, 255, 0.15);
}
/* 笆ｲ笆ｲ笆ｲ 譖ｿ謐｢扈捺據 笆ｲ笆ｲ笆ｲ */

/* 笆ｼ笆ｼ笆ｼ 隸ｷ蟆�ｿ呎ｮｵ譁ｰCSS邊倩ｴｴ蛻ｰ <style> 逧�忰蟆ｾ 笆ｼ笆ｼ笆ｼ */
.chat-list-time {
  font-size: 12px;
  color: var(--text-secondary);
  text-align: right;
  margin-left: 8px; /* 蜥御ｸｭ髣ｴ逧�ｿ｡諱ｯ蛹ｺ諡牙ｼ荳轤ｹ霍晉ｦｻ */
  flex-shrink: 0; /* 髦ｲ豁｢蝨ｨ遨ｺ髣ｴ荳崎ｶｳ譌ｶ陲ｫ蜴狗ｼｩ */
  align-self: flex-start; /* 隶ｩ螳�柱鬘ｶ驛ｨ逧�錐蟄怜ｯｹ鮨� */
  padding-top: 2px; /* 蠕ｮ隹�桙逶ｴ菴咲ｽｮ */
}
/* 笆ｲ笆ｲ笆ｲ 譁ｰCSS邊倩ｴｴ扈捺據 笆ｲ笆ｲ笆ｲ */

/* 笆ｼ笆ｼ笆ｼ 隸ｷ蟆�ｿ呎ｮｵ譁ｰCSS邊倩ｴｴ蛻ｰ <style> 逧�忰蟆ｾ 笆ｼ笆ｼ笆ｼ */
.chat-list-right-column {
  display: flex;
  flex-direction: column;
  align-items: flex-end; /* 隶ｩ蜀�ｮｹ髱�蜿ｳ蟇ｹ鮨� */
  gap: 4px; /* 蝨ｨ譌ｶ髣ｴ蜥檎ｺ｢轤ｹ荵矩龍蜉�荳轤ｹ轤ｹ髣ｴ霍� */
  flex-shrink: 0;
  margin-left: 8px;
}
/* 笆ｲ笆ｲ笆ｲ 譁ｰCSS邊倩ｴｴ扈捺據 笆ｲ笆ｲ笆ｲ */

/* 笆ｼ笆ｼ笆ｼ 縲仙�譁ｰ縲鷹煤螻丈ｸ主ｯ��∫阜髱｢譬ｷ蠑� 笆ｼ笆ｼ笆ｼ */

/* 1. 髞∝ｱ冗阜髱｢逧�ｻ螳ｹ蝎ｨ */
#lock-screen {
  /* 譬ｸ蠢�ｼ夂畑荳荳ｪ髱槫ｸｸ鬮倡噪 z-index 遑ｮ菫晏ｮ��隕�尠謇譛牙�莉門ｱ丞ｹ� */
  z-index: 999;
  background-size: cover;
  background-position: center;
  color: white;
  display: flex;
  flex-direction: column;
  justify-content: space-between; /* 隶ｩ譌ｶ髓溷柱謠千､ｺ隸ｭ荳贋ｸ句�蟶� */
  align-items: center;
  padding: 80px 20px 50px 20px;
  box-sizing: border-box;
  transition: transform 0.3s ease-out;
}

/* 2. 髞∝ｱ乗慮髓� (螟咲畑荳ｻ螻丞ｹ墓慮髓溽噪譬ｷ蠑�) */
#lock-clock-container {
  text-align: center;
  text-shadow: 0 3px 8px rgba(0, 0, 0, 0.4);
  flex-shrink: 0;
}
#lock-main-time {
  font-size: 80px;
  font-weight: 200;
}
#lock-main-date {
  font-size: 18px;
  font-weight: 500;
}

/* 3. 窶懷髄荳願ｽｻ謇ｫ窶晉噪謠千､ｺ譁�ｭ怜柱蜉ｨ逕ｻ */
#unlock-hint {
  font-size: 16px;
  font-weight: 500;
  text-shadow: 0 1px 4px rgba(0, 0, 0, 0.3);
  /* 豺ｻ蜉�荳荳ｪ蜻ｼ蜷ｸ蜉ｨ逕ｻ�悟精蠑慕畑謌ｷ豕ｨ諢� */
  animation: hint-pulse 2s infinite ease-in-out;
}
@keyframes hint-pulse {
  0%,
  100% {
    opacity: 0.7;
    transform: translateY(0);
  }
  50% {
    opacity: 1;
    transform: translateY(-5px);
  }
}

/* 4. 蟇��∬ｾ灘�蠑ｹ遯礼噪驕ｮ鄂ｩ螻� */
#password-modal-overlay {
  /* 菴ｿ逕ｨ荳荳ｪ蜊企乗�逧�ｯ帷悉迺�譜譫懆レ譎ｯ */
  background-color: rgba(0, 0, 0, 0.3);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  z-index: 1000; /* 豈秘煤螻乗峩鬮假ｼ檎｡ｮ菫晏惠譛荳雁ｱ� */
}

/* 5. 蟇��∬ｾ灘�蠑ｹ遯礼噪蜀�ｮｹ蛹ｺ */
.password-modal-content {
  background-color: rgba(255, 255, 255, 0.8);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  width: 280px;
  border-radius: 15px;
  padding: 20px;
  box-shadow: 0 5px 20px rgba(0, 0, 0, 0.2);
  text-align: center;
  display: flex;
  flex-direction: column;
  gap: 15px;
  color: #333;
}
.password-modal-content p {
  font-size: 17px;
  font-weight: 600;
  margin: 0;
}

/* 6. 蟇��∬ｾ灘�譯� */
#password-input-field {
  width: 100%;
  padding: 12px;
  border: 1px solid rgba(0, 0, 0, 0.1);
  border-radius: 8px;
  font-size: 16px;
  text-align: center;
  box-sizing: border-box;
  background-color: rgba(255, 255, 255, 0.7);
}
#password-input-field:focus {
  outline: none;
  border-color: var(--accent-color);
}

/* 7. 蟇��∝ｼｹ遯礼噪謖蛾聴蛹ｺ蝓� */
.password-actions {
  display: flex;
  gap: 10px;
  margin-top: 5px;
}
.password-actions button {
  flex: 1;
  padding: 12px;
  border: none;
  border-radius: 8px;
  font-size: 16px;
  font-weight: 500;
  cursor: pointer;
}
#password-cancel-btn {
  background-color: #e9ecef;
  color: #495057;
}
#password-confirm-btn {
  background-color: var(--accent-color);
  color: white;
}

/* 8. 蟇���漠隸ｯ譌ｶ逧�刄蜉ｨ蜉ｨ逕ｻ */
@keyframes shake-error {
  0%,
  100% {
    transform: translateX(0);
  }
  10%,
  30%,
  50%,
  70%,
  90% {
    transform: translateX(-5px);
  }
  20%,
  40%,
  60%,
  80% {
    transform: translateX(5px);
  }
}
.password-modal-content.error {
  animation: shake-error 0.4s ease-in-out;
}
/* 笆ｲ笆ｲ笆ｲ 譁ｰ譬ｷ蠑冗ｲ倩ｴｴ扈捺據 笆ｲ笆ｲ笆ｲ */

/* 笆ｼ笆ｼ笆ｼ 逕ｨ霑吝摎縲先怙扈井ｿｮ螟咲沿縲台ｻ｣遐�ｼ悟ｮ梧紛譖ｿ謐｢謗我ｽ�譌ｧ逧� .bubble-preset-manager 譬ｷ蠑� 笆ｼ笆ｼ笆ｼ */

/* 霑呎弍菴�隕∽ｿｮ謾ｹ蜑咲噪莉｣遐� */
/* 笆ｼ笆ｼ笆ｼ 縲仙�譁ｰ縲第ｰ疲ｳ｡/API譬ｷ蠑城｢�ｮｾ蜉溯�CSS 笆ｼ笆ｼ笆ｼ */
.bubble-preset-manager {
  display: flex;
  align-items: baseline; /* 譬ｸ蠢�ｿｮ謾ｹ�壻ｻ� center 謾ｹ荳ｺ baseline */
  gap: 10px; /* 蜈�ｴ�荵矩龍逧�龍霍� */
}

/* 笆ｲ笆ｲ笆ｲ 譖ｿ謐｢扈捺據 笆ｲ笆ｲ笆ｲ */

/* 荳区級譯�噪譬ｷ蠑擾ｼ瑚ｮｩ螳�頃謐ｮ螟ｧ驛ｨ蛻�ｩｺ髣ｴ */
.bubble-preset-manager select {
  flex-grow: 1; /* 蜊�謐ｮ謇譛牙黄菴咏ｩｺ髣ｴ */
}

/* 邂｡逅�潔髓ｮ逧��ｷ蠑擾ｼ瑚ｮｩ螳�ｰ丞ｷｧ邊ｾ閾ｴ */
.bubble-preset-manager .action-btn {
  flex-shrink: 0; /* 髦ｲ豁｢謖蛾聴陲ｫ蜴狗ｼｩ */
  padding: 8px 10px;
  font-size: 13px;
  background-color: #e9ecef;
  color: var(--text-primary);
  border: 1px solid var(--border-color);
  border-radius: 5px;
  cursor: pointer;
  font-weight: 500;
}
/* 笆ｲ笆ｲ笆ｲ 譁ｰCSS邊倩ｴｴ扈捺據 笆ｲ笆ｲ笆ｲ */

/* 笆ｼ笆ｼ笆ｼ 謚願ｿ吩ｸ謨ｴ蝮怜�譁ｰ逧ГSS�檎ｲ倩ｴｴ蛻ｰ <style> 逧�忰蟆ｾ 笆ｼ笆ｼ笆ｼ */

/* 1. 隶ｩ髞∝ｱ丞柱荳ｻ螻丞ｹ募庄莉･蝣�匠 */
/* 譬ｸ蠢�ｼ壽滑髞∝ｱ丞柱荳ｻ螻丞ｹ暮�隶ｾ荳ｺ扈晏ｯｹ螳壻ｽ搾ｼ瑚ｿ呎�ｷ螳�ｻｬ謇崎�驥榊匠 */
#lock-screen,
#home-screen {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
}

/* 2. 螳壻ｹ画ｯ帷悉迺�レ譎ｯ螻ら噪譬ｷ蠑� */
#lock-screen-background-blur {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: 1; /* 縲先�ｸ蠢�ｿｮ謾ｹ1縲大ｮ�噪螻らｺｧ邇ｰ蝨ｨ蜥御ｸｻ螻丞ｹ穂ｸ譬ｷ菴� */

  background-size: cover;
  background-position: center;

  /* 縲先�ｸ蠢�ｿｮ謾ｹ2縲鷹ｭ疲ｳ募惠霑咎㈹�∵�莉ｬ逶ｴ謗･讓｡邉願ｿ吩ｸｪ蜈�ｴ�譛ｬ霄ｫ */
  filter: blur(20px);
  -webkit-filter: blur(20px);

  /* (蜿ｯ騾我ｽ�耳闕�) 霓ｻ蠕ｮ謾ｾ螟ｧ蜿ｯ莉･驕ｿ蜈肴ｨ｡邉雁錘霎ｹ郛伜序證暦ｼ梧譜譫懈峩螂ｽ */
  transform: scale(1.1);

  /* 縲先�ｸ蠢�ｿｮ謾ｹ3縲鷹ｻ倩ｮ､髫占酪�御ｸ泌ｸｦ譛画ｷ｡蜈･豺｡蜃ｺ謨域棡 */
  display: none;
  opacity: 0;
  transition: opacity 0.3s ease-out;
}

/* 笆ｲ笆ｲ笆ｲ 譁ｰCSS邊倩ｴｴ扈捺據 笆ｲ笆ｲ笆ｲ */

/* 笆ｼ笆ｼ笆ｼ 莉手ｿ咎㈹蠑蟋句､榊宛 笆ｼ笆ｼ笆ｼ */

/* === 縲先怙扈井ｿｮ螟咲沿縲台ｸ也阜荵ｦ騾画叫蝎ｨ蛻苓｡ｨ譬ｷ蠑� === */

/* 1. 蛻�ｱｻ譁�ｻｶ螟ｹ陦梧�ｷ蠑擾ｼ夂畑flex蜥携ap蛻帛ｻｺ蝗ｺ螳夐龍霍晢ｼ碁撼蟶ｸ遞ｳ螳� */
.wb-category-header {
  display: flex;
  align-items: center;
  gap: 8px; /* 邂ｭ螟ｴ縲∝､埼画｡�∵枚蟄嶺ｹ矩龍逧�崋螳夐龍霍� */
  padding: 10px 12px;
  cursor: pointer;
  background-color: #f0f2f5;
  font-weight: 600;
  overflow: hidden; /* 髦ｲ豁｢莉ｻ菴墓э螟匁ｺ｢蜃ｺ */
}

/* 2. 蛻�ｱｻ譁�ｻｶ螟ｹ驥檎噪譁�ｭ玲�ｷ蠑擾ｼ壼宵雍溯ｴ｣謌ｪ譁ｭ�御ｸ崎ｴ溯ｴ｣蟶�ｱ */
.wb-category-header > span:last-of-type {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  flex-shrink: 1; /* 蜈∬ｮｸ譁�ｭ鈴Κ蛻�惠遨ｺ髣ｴ荳崎ｶｳ譌ｶ陲ｫ蜴狗ｼｩ */
}

/* 3. 縲先�ｸ蠢�ｿｮ螟阪台ｸｺ蛻�ｱｻ蜥御ｹｦ逶ｮ驥檎噪螟埼画｡�懆ｧ｣扈鯛晏�螻譬ｷ蠑擾ｼ� */
.wb-category-header input[type='checkbox'],
.wb-book-container input[type='checkbox'] {
  width: auto !important; /* 隶ｩ螳�△螟崎�蟾ｱ逧�､ｩ辟ｶ螟ｧ蟆擾ｼ�!important遑ｮ菫晄怙鬮倅ｼ伜�郤ｧ */
  flex-shrink: 0; /* 髦ｲ豁｢螳�｢ｫ蜴狗ｼｩ�御ｿ晄戟螳梧紛 */
}

/* 4. 蜈ｷ菴謎ｹｦ逶ｮ陦檎噪譬ｷ蠑擾ｼ壼ｼｺ蛻ｶ莉主ｷｦ霎ｹ蠑蟋区賜蛻暦ｼ瑚ｧ｣蜀ｳ荳榊酔隶ｾ螟�噪譏ｾ遉ｺ蟾ｮ蠑� */
.wb-book-container label {
  display: flex;
  align-items: center;
  justify-content: flex-start; /* 蠑ｺ蛻ｶ謇譛牙�螳ｹ莉主ｷｦ霎ｹ蠑蟋句ｯｹ鮨� */
  padding: 8px 12px;
  gap: 10px; /* 螟埼画｡�柱譁�ｭ礼噪髣ｴ霍� */
  overflow: hidden;
}

/* 5. 蜈ｷ菴謎ｹｦ逶ｮ逧�枚蟄玲�ｷ蠑� */
.wb-book-container label .wb-book-name {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  text-align: left;
  flex-shrink: 1; /* 蜷梧�ｷ蜈∬ｮｸ螳�｢ｫ蜴狗ｼｩ */
}

/* 6. 螟憺龍讓｡蠑城る� (菫晄戟荳榊序) */
#phone-screen.dark-mode .wb-category-header {
  background-color: #2c2c2e;
}

/* 7. 蟆冗ｮｭ螟ｴ逧��ｷ蠑� (菫晄戟荳榊序) */
.wb-category-header .arrow {
  font-size: 12px;
  transition: transform 0.2s ease;
  flex-shrink: 0; /* 髦ｲ豁｢邂ｭ螟ｴ陲ｫ蜴狗ｼｩ */
}
.wb-category-header.collapsed .arrow {
  transform: rotate(-90deg);
}

/* 8. 荵ｦ邀榊ｮｹ蝎ｨ逧��ｷ蠑� (菫晄戟荳榊序) */
.wb-book-container {
  padding-left: 20px;
  max-height: 1000px;
  overflow: hidden;
  transition: max-height 0.3s ease-in-out;
}
.wb-book-container.collapsed {
  max-height: 0;
}

/* 笆ｼ笆ｼ笆ｼ 縲仙�譁ｰ縲鷹ｼ�譬�許蜉ｨ蟾･蜈ｷ譬乗慮逧�焔蜉ｿ譬ｷ蠑� 笆ｼ笆ｼ笆ｼ */
#chat-input-actions-top.grabbing {
  cursor: grabbing;
  cursor: -webkit-grabbing;
  user-select: none; /* 髦ｲ豁｢諡門勘譌ｶ騾我ｸｭ譁�悽 */
}
/* 笆ｲ笆ｲ笆ｲ 譁ｰCSS邊倩ｴｴ扈捺據 笆ｲ笆ｲ笆ｲ */

/* 笆ｼ笆ｼ笆ｼ 縲心VG扈域栫迚医大書騾∝ｮ壻ｽ榊粥閭ｽ譬ｷ蠑� 笆ｼ笆ｼ笆ｼ */

/* 1. 蝓ｺ遑蜊｡迚�柱豌疲ｳ｡譬ｷ蠑� (菫晄戟荳榊序) */
.message-bubble.is-location .content {
  padding: 0;
  background: transparent;
  box-shadow: none;
  border: none;
  backdrop-filter: none;
  -webkit-backdrop-filter: none;
}
.location-card {
  width: 230px;
  background-color: #f7f7f7;
  border-radius: 12px;
  overflow: hidden;
  border: 1px solid #e0e0e0;
  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.08);
}

/* 2. 縲先�ｸ蠢�合郤ｧ縲大慍蝗ｾ蛹ｺ蝓溽鴫蝨ｨ逶ｴ謗･逕ｨ莠主ｮｹ郤ｳSVG */
.location-map-area {
  height: 90px;
  background-color: #f0f2f5;
  background-image: linear-gradient(rgba(0, 0, 0, 0.05) 1px, transparent 1px),
    linear-gradient(90deg, rgba(0, 0, 0, 0.05) 1px, transparent 1px);
  background-size: 20px 20px;
  padding: 5px; /* 扈儡VG荳轤ｹ蜻ｼ蜷ｸ遨ｺ髣ｴ */
  box-sizing: border-box;
}
.location-map-area svg {
  width: 100%;
  height: 100%;
}

/* 3. 縲仙�譁ｰ縲全VG蜀�Κ蜈�ｴ�逧��ｷ蠑� */
/* 霓ｨ霑ｹ譖ｲ郤ｿ */
.svg-trajectory-path {
  stroke-width: 2px;
  stroke: rgba(180, 180, 180, 0.8);
  stroke-dasharray: 3 3; /* 陌夂ｺｿ謨域棡 */
  fill: none;
}
/* 螳壻ｽ咲せ (襍ｷ轤ｹ/扈育せ) */
.svg-pin {
  stroke-width: 2px;
  stroke: white;
}
.svg-pin.user-pin {
  fill: #4caf50;
} /* 扈ｿ濶ｲ逕ｨ謌ｷ轤ｹ */
.svg-pin.ai-pin {
  fill: #ff5252;
} /* 郤｢濶ｲAI轤ｹ */

/* 閼壼魂蝗ｾ譬� */
.svg-footprint {
  font-size: 14px;
  fill: rgba(0, 0, 0, 0.4);
}
/* 騾皮ｻ冗せ蝨ｰ蜷肴��ｭｾ */
.svg-location-label {
  font-size: 10px;
  font-weight: 500;
  fill: #555;
  /* 扈呎枚蟄嶺ｸ轤ｹ逋ｽ濶ｲ逧�緒霎ｹ�瑚ｮｩ螳�惠螟肴揩閭梧勹荳区峩貂�匆 */
  stroke: white;
  stroke-width: 2px;
  paint-order: stroke;
}

/* 4. 蜊｡迚�ｺ暮Κ菫｡諱ｯ蛹ｺ蝓� (蟾ｲ蜊�ｺｧ) */
.location-info {
  padding: 12px;
}
.location-address {
  font-size: 13px;
  line-height: 1.6;
  margin-bottom: 8px;
  color: #333;
}
.location-address .name-tag {
  font-weight: 600;
  color: var(--text-primary);
}
.location-address p.hidden {
  display: none;
}
.location-distance {
  font-size: 12px;
  color: var(--text-secondary);
  border-top: 1px solid #e9e9e9;
  padding-top: 8px;
  text-align: center;
}
/* 笆ｲ笆ｲ笆ｲ 蜊�ｺｧ迚�SS邊倩ｴｴ扈捺據 笆ｲ笆ｲ笆ｲ */

/* 笆ｼ笆ｼ笆ｼ 縲仙�譁ｰ | 菫ｮ螟咲沿縲鯛應ｸ髞ｮ驥荒oll窶晄潔髓ｮ譬ｷ蠑� 笆ｼ笆ｼ笆ｼ */
#reroll-btn {
  /* --- 逶ｴ謗･螟咲畑蜈ｶ莉匁潔髓ｮ逧��ｷ蠑擾ｼ檎｡ｮ菫晏､冶ｧらｻ滉ｸ --- */
  font-size: 24px;
  padding: 0;
  width: 38px;
  height: 38px;
  line-height: 38px;
  text-align: center;
  border-radius: 50%;
  background-color: rgba(255, 255, 255, 0.5);
  color: var(--text-primary);
  backdrop-filter: blur(5px);
  -webkit-backdrop-filter: blur(5px);
  /* 譬ｸ蠢�ｿｮ螟搾ｼ夊ｾｹ譯�｢懆牡蜥悟�莉匁潔髓ｮ扈滉ｸ */
  border: 1px solid rgba(0, 0, 0, 0.05);
  cursor: pointer;
  display: flex;
  justify-content: center;
  align-items: center;

  /* 遘ｻ髯､蟇ｼ閾ｴ蟾ｮ蠑ら噪髦ｴ蠖ｱ */
  box-shadow: none;

  /* 菫晉蕗蜴滓怏逧�ｺ､莠貞勘謨� */
  transition: opacity 0.2s, transform 0.1s;
}

#reroll-btn:hover {
  opacity: 0.8;
}

#reroll-btn:active {
  transform: scale(0.9);
}

#reroll-btn svg {
  width: 20px;
  height: 20px;
}
/* 笆ｲ笆ｲ笆ｲ 譖ｿ謐｢扈捺據 笆ｲ笆ｲ笆ｲ */

/* 笆ｼ笆ｼ笆ｼ 縲先怙扈育ｾ主喧迚医第ぎ豬ｮ豁瑚ｯ肴�乗�ｷ蠑� 笆ｼ笆ｼ笆ｼ */
#floating-lyrics-bar {
  position: absolute;
  /* 縲宣琉鬚�1菫ｮ螟阪鷹ｻ倩ｮ､菴咲ｽｮ謾ｹ荳ｺ鬘ｶ驛ｨ */
  top: 50px;
  left: 50%;
  transform: translateX(-50%);
  z-index: 100;

  display: none;
  align-items: center;
  justify-content: center;
  gap: 10px; /* 蝨ｨ豁瑚ｯ榊柱謖蛾聴髣ｴ蠅槫刈髣ｴ霍� */

  width: 90%;
  max-width: 320px; /* 蜷梧慮隶ｾ荳荳ｪ譛螟ｧ蜒冗ｴ�螳ｽ蠎ｦ�碁∩蜈榊惠螳ｽ螻丈ｸ願ｿ�柄 */
  padding: 8px 12px; /* 遞榊ｾｮ蠅槫刈荳轤ｹ蜀�ｾｹ霍昜ｻ･騾ょｺ疲眠螳ｽ蠎ｦ */
  background-color: rgba(0, 0, 0, 0);

  /* 縲宣琉鬚�3髴隕√台ｸｺ蟄嶺ｽ馴｢懆牡蜥瑚レ譎ｯ騾乗�蠎ｦ豺ｻ蜉�霑�ｸ｡蜉ｨ逕ｻ */
  transition: background-color 0.3s, opacity 0.3s;

  color: white;
  font-size: 14px;
  font-weight: 500; /* 蟄嶺ｽ鍋ｨ榊ｾｮ蜉�邊� */
  text-align: center;
  border-radius: 12px;

  /* 譁�ｭ鈴亢蠖ｱ�瑚ｮｩ螳�惠莉ｻ菴戊レ譎ｯ荳矩�貂�匆 */
  text-shadow: 0 1px 3px rgba(0, 0, 0, 0.5);

  cursor: pointer;
  user-select: none;

  /* 縲宣琉鬚�4髴隕√台ｸｺ蜈ｳ髣ｭ謖蛾聴蜃�､� */
  overflow: visible; /* 蜈∬ｮｸ謖蛾聴雜��闌�峩 */
}

/* 縲宣琉鬚�4髴隕√大�髣ｭ謖蛾聴逧��ｷ蠑� */
#floating-lyrics-bar .close-btn,
#floating-lyrics-bar #lyrics-settings-btn {
  position: absolute;
  top: -8px;
  width: 20px;
  height: 20px;
  background-color: rgba(0, 0, 0, 0.6);
  color: white;
  border-radius: 50%;
  border: 1px solid white;
  cursor: pointer;
  opacity: 0; /* 鮟倩ｮ､髫占酪 */
  transition: opacity 0.2s;
  display: flex; /* 遑ｮ菫抓VG閭ｽ螻�ｸｭ */
  align-items: center;
  justify-content: center;
}

/* 謚雁�髣ｭ謖蛾聴蜥瑚ｮｾ鄂ｮ謖蛾聴蛻�ｼ謾ｾ鄂ｮ */
#floating-lyrics-bar .close-btn {
  right: -8px;
  line-height: 18px;
  font-size: 14px;
}
#floating-lyrics-bar #lyrics-settings-btn {
  right: 22px;
} /* 謾ｾ蝨ｨ蜈ｳ髣ｭ謖蛾聴譌∬ｾｹ */

/* 鮠�譬�ぎ蛛懷惠謨ｴ荳ｪ豁瑚ｯ肴�丈ｸ頑慮�御ｸ襍ｷ譏ｾ遉ｺ螳�ｻｬ */
#floating-lyrics-bar:hover .close-btn,
#floating-lyrics-bar:hover #lyrics-settings-btn {
  opacity: 1;
}

#floating-lyrics-bar.dragging {
  cursor: grabbing;
  cursor: -webkit-grabbing;
}
/* 笆ｲ笆ｲ笆ｲ 譁ｰCSS邊倩ｴｴ扈捺據 笆ｲ笆ｲ笆ｲ */

/* 笆ｼ笆ｼ笆ｼ 縲仙�譁ｰ縲鯛懈衍隗定牡謇区惻窶晏粥閭ｽ逶ｸ蜈ｳ譬ｷ蠑� 笆ｼ笆ｼ笆ｼ */

/* 隗定牡騾画叫蛻苓｡ｨ鬘ｹ */
.character-select-item {
  display: flex;
  align-items: center;
  padding: 10px 15px;
  border-bottom: 1px solid var(--border-color);
  cursor: pointer;
}
.character-select-item:hover {
  background-color: #f5f5f5;
}
.character-select-item img {
  width: 45px;
  height: 45px;
  border-radius: 50%;
  margin-right: 12px;
}
.character-select-item .name {
  font-weight: 500;
}

/* 隗定牡謇区惻逧�♀螟ｩ豌疲ｳ｡ (邂蛹也沿) */
.character-chat-bubble {
  padding: 8px 12px;
  border-radius: 12px;
  max-width: 80%;
  word-break: break-word;
  line-height: 1.5;
}
.character-chat-bubble.sent {
  background-color: #dcf8c6;
  align-self: flex-end; /* 閾ｪ蟾ｱ蜿醍噪髱�蜿ｳ */
}
.character-chat-bubble.received {
  background-color: #ffffff;
  align-self: flex-start; /* 謾ｶ蛻ｰ逧�擒蟾ｦ */
}

/* 笆ｼ笆ｼ笆ｼ 縲千ｾ主喧迚医題ｧ定牡謇区惻謨ｰ謐ｮ蛻苓｡ｨ鬘ｹ譬ｷ蠑� 笆ｼ笆ｼ笆ｼ */
.character-data-item {
  padding: 12px 15px;
  border-bottom: 1px solid #f0f0f0; /* 霎ｹ譯�｢懆牡蜿俶ｵ� */
  margin: 8px 10px; /* 蠅槫刈螟冶ｾｹ霍晢ｼ悟ｽ｢謌仙今迚�─ */
  border-radius: 8px; /* 蠅槫刈蝨�ｧ� */
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05); /* 蠅槫刈髱槫ｸｸ豺｡逧�亢蠖ｱ */
  transition: transform 0.2s, box-shadow 0.2s; /* 蠅槫刈謔ｬ豬ｮ蜉ｨ逕ｻ */
  background-color: var(--secondary-bg);
}

.character-data-item:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.08);
}

.character-data-item .title {
  font-weight: 600;
  margin-bottom: 5px;
  color: #333; /* 譬�｢倬｢懆牡蜉�豺ｱ */
}
.character-data-item .content {
  font-size: 14px;
  color: #555;
  line-height: 1.6;
  white-space: pre-wrap;
}
.character-data-item .meta {
  font-size: 12px;
  color: #888;
  margin-top: 10px;
  padding-top: 8px; /* 蝨ｨmeta荳頑婿蠅槫刈荳轤ｹ霍晉ｦｻ蜥悟�蜑ｲ郤ｿ */
  border-top: 1px solid #f5f5f5;
  display: flex;
  justify-content: space-between;
}
/* 笆ｲ笆ｲ笆ｲ 譖ｿ謐｢扈捺據 笆ｲ笆ｲ笆ｲ */

/* 笆ｼ笆ｼ笆ｼ 縲新3菫ｮ豁｣迚医題ｧ定牡謇区惻窶懃判荳ｭ逕ｻ窶晄�ｷ蠑丈ｿｮ豁｣ 笆ｼ笆ｼ笆ｼ */

/* 1. 縲先�ｸ蠢�ｿｮ豁｣1縲題ｮｩ謇区惻螟門｣ｳ螳ｹ蝎ｨ蜊�謐ｮ謨ｴ荳ｪ螻丞ｹ包ｼ悟ｹｶ逕ｨ蜀�ｾｹ霍晄滑謇区惻譯�懈耳窶昜ｸ区擂 */
#character-phone-container {
  display: flex;
  justify-content: center;
  align-items: center;
  background-color: #ffffff; /* 笘��笘� 謚願ｿ咎㈹謾ｹ荳ｺ郤ｯ逋ｽ濶ｲ 笘��笘� */
  padding-top: 50px;
  box-sizing: border-box; /* 遑ｮ菫晏�霎ｹ霍晁ｮ｡邂玲ｭ｣遑ｮ */
}

/* 2. 謇区惻霎ｹ譯��ｷ蠑� (菫ｮ謾ｹ蜷�) */
.character-phone-frame {
  width: 95%;
  height: 98%;
  background-color: #111;
  border-radius: 30px;
  padding: 10px;
  box-shadow: none; /* 笘��笘� 蟆ｱ譏ｯ菫ｮ謾ｹ霑咎㈹ 笘��笘� */
  box-sizing: border-box;
  position: relative;
  display: flex;
}

/* 笆ｼ笆ｼ笆ｼ 逕ｨ荳矩擇霑吝摎縲仙ｷｲ菫ｮ螟阪醍噪莉｣遐∵崛謐｢譌ｧ逧� #character-app-grid .app-icon .icon-bg 隗�� 笆ｼ笆ｼ笆ｼ */
#character-app-grid .app-icon .icon-bg {
  width: 65px; /* 諱｢螟榊次譚･逧�ｰｺ蟇ｸ */
  height: 65px; /* 諱｢螟榊次譚･逧�ｰｺ蟇ｸ */
  border-radius: 18px; /* 諱｢螟榊次譚･逧�怕隗� */
  background-color: #fff5f7; /* 隶ｾ鄂ｮ荳ｺ菴�諠ｳ隕∫噪豺｡邊芽牡閭梧勹 */
}
/* 笆ｲ笆ｲ笆ｲ 譖ｿ謐｢扈捺據 笆ｲ笆ｲ笆ｲ */

/* 3. 縲先�ｸ蠢�ｿｮ豁｣2縲醍ｼｩ蟆就PP蝗ｾ譬��逧ТVG */
#character-app-grid .app-icon .icon-bg svg {
  width: 60%; /* 笘��笘� 蟆�VG逧�ｮｽ蠎ｦ郛ｩ蟆丞芦蜈ｶ螳ｹ蝎ｨ逧�60% 笘��笘� */
  height: 60%; /* 笘��笘� 鬮伜ｺｦ荵溷酔豁･郛ｩ蟆� 笘��笘� */
}

/* 4. 蜈ｶ菴呎�ｷ蠑丈ｿ晄戟荳榊序 */
.character-phone-inner-screen {
  flex-grow: 1;
  border-radius: 20px;
  overflow: hidden;
  position: relative;
  background-color: var(--secondary-bg) !important; /* 菴ｿ逕ｨ蜿倬㍼ */
}
.character-phone-notch {
  position: absolute;
  top: 10px;
  left: 50%;
  transform: translateX(-50%);
  width: 100px;
  height: 20px;
  border-radius: 0 0 10px 10px;
  z-index: 10;
}
.character-phone-page {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  display: flex;
  flex-direction: column;
  opacity: 0;
  visibility: hidden;
  transition: opacity 0.3s, visibility 0.3s;
}
.character-phone-page.active {
  opacity: 1;
  visibility: visible;
  z-index: 5;
}
/* 笆ｼ笆ｼ笆ｼ 逕ｨ霑吝摎縲宣乗�豈帷悉迺�沿縲台ｻ｣遐�ｼ悟ｮ梧紛譖ｿ謐｢謗画立逧� .character-phone-header 譬ｷ蠑� 笆ｼ笆ｼ笆ｼ */

/* 笆ｼ笆ｼ笆ｼ 逕ｨ霑吝摎縲宣乗�豈帷悉迺�沿縲台ｻ｣遐�ｼ悟ｮ梧紛譖ｿ謐｢謗画立逧� .character-phone-header 譬ｷ蠑� 笆ｼ笆ｼ笆ｼ */

.character-phone-header {
  flex-shrink: 0;
  margin: 10px 12px 10px; /* 笘� 菫ｮ謾ｹ轤ｹ1: 蟆�ｸ願ｾｹ霍� 35px 謾ｹ荳ｺ 0�瑚ｮｩ螳�ｴｴ鬘ｶ */
  height: 50px; /* 笘� 菫ｮ謾ｹ轤ｹ2: 蟆�ｫ伜ｺｦ莉� 48px 蠅槫刈蛻ｰ 56px�瑚ｮｩ螳�峩鬮倅ｸ轤ｹ */

  /* 笘� 譬ｸ蠢�ｿｮ謾ｹ1�壼序謌蝉ｸ荳ｪ譖ｴ蝨�ｶｦ逧�Ω蝗雁ｽ｢迥ｶ */
  border-radius: 24px; /* 蟆�怕隗剃ｻ�16px蠅槫刈蛻ｰ24px�檎恚襍ｷ譚･譖ｴ蝨�ｶｦ */

  /* 笘� 譬ｸ蠢�ｿｮ謾ｹ2�夊ｮｾ鄂ｮ荳荳ｪ蜃�荵朱乗�逧�∝ｸｦ譛画ｯ帷悉迺�譜譫懃噪閭梧勹 */
  background-color: rgba(180, 180, 180, 0.2); /* 髯堺ｽ惹ｸ埼乗�蠎ｦ�瑚是騾�騾乗�諢� */
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);

  /* 笘� 譬ｸ蠢�ｿｮ謾ｹ3�夊ｮｩ霎ｹ譯�柱髦ｴ蠖ｱ譖ｴ邊ｾ閾ｴ�御ｻ･騾ょｺ秘乗�諢� */
  border: 1px solid rgba(255, 255, 255, 0.2); /* 霎ｹ譯�ｹ溯ｰ�ｾ玲峩騾乗� */
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1); /* 髦ｴ蠖ｱ遞榊ｾｮ隹�紛�梧峩譟泌柱 */

  /* 笘� 譬ｸ蠢�ｿｮ謾ｹ4�壼ｼｺ蛻ｶ譁�ｭ怜柱蝗ｾ譬�｢懆牡蜿倅ｸｺ逋ｽ濶ｲ�悟ｹｶ蜉�荳企亢蠖ｱ莉･菫晁ｯ∵ｸ�匆 */
  color: #ffffff; /* 譬�｢俶枚蟄怜序荳ｺ逋ｽ濶ｲ */
  text-shadow: 0 1px 3px rgba(0, 0, 0, 0.3); /* 扈呎枚蟄怜刈荳轤ｹ髦ｴ蠖ｱ�碁亟豁｢閭梧勹螟ｪ莠ｮ逵倶ｸ肴ｸ� */

  /* 蟶�ｱ驛ｨ蛻�ｿ晄戟荳榊序 */
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 0 12px;
  box-sizing: border-box;
  font-size: 16px;
}

/* 笘��笘�宣㍾隕√台ｸｺ莠�｡ｮ菫晄園譛牙崟譬��蜿俶�逋ｽ濶ｲ�瑚ｯｷ謚贋ｸ矩擇霑呎ｮｵ譁ｰ莉｣遐∽ｹ溷刈蛻ｰ<style>驥� 笘��笘� */
.character-phone-header .action-btn svg,
.character-phone-header .back-btn svg {
  color: #ffffff !important;
}

/* 笆ｲ笆ｲ笆ｲ 譖ｿ謐｢扈捺據 笆ｲ笆ｲ笆ｲ */

/* 笘��笘�宣㍾隕√台ｸｺ莠�｡ｮ菫晄園譛牙崟譬��蜿俶�逋ｽ濶ｲ�瑚ｯｷ謚贋ｸ矩擇霑呎ｮｵ譁ｰ莉｣遐∽ｹ溷刈蛻ｰ<style>驥� 笘��笘� */
.character-phone-header .action-btn svg,
.character-phone-header .back-btn svg {
  color: #ffffff !important;
}

/* 笆ｲ笆ｲ笆ｲ 譖ｿ謐｢扈捺據 笆ｲ笆ｲ笆ｲ */

.character-phone-header .action-btn svg,
.character-phone-header .back-btn svg {
  color: var(--accent-color);
}
#character-chat-history-messages {
  background-color: var(--secondary-bg) !important; /* 菴ｿ逕ｨ蜿倬㍼ */ /* 笘��笘� 遘ｻ髯､閭梧勹蝗ｾ迚� 笘��笘� */
}
/* 笆ｲ笆ｲ笆ｲ 譬ｷ蠑丈ｿｮ豁｣扈捺據 笆ｲ笆ｲ笆ｲ */

/* 笆ｼ笆ｼ笆ｼ 縲新5譛扈井ｿｮ螟咲沿縲題ｧ定牡謇区惻APP蝗ｾ譬�ｸ�ｱ菫ｮ豁｣ 笆ｼ笆ｼ笆ｼ */
/* 笆ｼ笆ｼ笆ｼ 謇ｾ蛻ｰ #character-app-grid.app-grid-standard�御ｿｮ謾ｹ蜈ｶ荳ｭ逧� padding-top 螻樊ｧ 笆ｼ笆ｼ笆ｼ */

#character-app-grid.app-grid-standard {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 20px 15px;
  padding: 20px;
  padding-top: 95px; /* 笘��笘� 謚� 50px 謾ｹ謌� 95px�御ｸｺ譁ｰ鬘ｶ譬冗蕗蜃ｺ遨ｺ髣ｴ 笘��笘� */
  box-sizing: border-box;
  width: 100%;
  flex-direction: initial;
  align-items: initial;
}

/* 笆ｲ笆ｲ笆ｲ 菫ｮ謾ｹ扈捺據 笆ｲ笆ｲ笆ｲ */

/* 笆ｲ笆ｲ笆ｲ 譬ｷ蠑丈ｿｮ豁｣扈捺據 笆ｲ笆ｲ笆ｲ */

/* 笆ｼ笆ｼ笆ｼ 縲仙�譁ｰ縲題ｧ定牡謇区惻蠕ｮ菫｡鬟取�ｼ閨雁､ｩ豌疲ｳ｡譬ｷ蠑� 笆ｼ笆ｼ笆ｼ */

/* 1. 閨雁､ｩ隶ｰ蠖慕阜髱｢逧�レ譎ｯ濶ｲ */
#character-chat-history-messages {
  /* 遘ｻ髯､荵句燕迚域悽蜿ｯ閭ｽ蟄伜惠逧�レ譎ｯ蝗ｾ迚� */
  background-image: none;
}

/* 2. 豸域�豌疲ｳ｡逧�夂畑螳ｹ蝎ｨ譬ｷ蠑� */
.character-chat-bubble-container {
  display: flex;
  gap: 10px;
  align-items: flex-start;
  margin-bottom: 12px;
  max-width: 80%; /* 髯仙宛豌疲ｳ｡譛螟ｧ螳ｽ蠎ｦ */
}

/* 3. 豌疲ｳ｡逧��螳ｹ蛹ｺ蝓� */
.character-chat-bubble {
  position: relative;
  padding: 8px 12px;
  line-height: 1.5;
  word-break: break-word;
  border-radius: 6px;
  font-size: 15px;
}

/* 4. 螟ｴ蜒乗�ｷ蠑� */
.character-chat-avatar {
  width: 36px;
  height: 36px;
  border-radius: 6px; /* 蠕ｮ菫｡鬟取�ｼ逧�怕隗堤洸蠖｢螟ｴ蜒� */
  flex-shrink: 0;
}

/* --- 謌第婿�郁ｧ定牡閾ｪ蟾ｱ�臥噪豌疲ｳ｡ --- */
.character-chat-bubble-container.sent {
  align-self: flex-end; /* 謨ｴ菴馴擒蜿ｳ */
  flex-direction: row-reverse; /* 蟶�ｱ蜿崎ｽｬ�壼�螳ｹ -> 螟ｴ蜒� */
}
.character-chat-bubble-container.sent .character-chat-bubble {
  background-color: #95ec69; /* 蠕ｮ菫｡扈ｿ */
  color: #000;
}
/* 謌第婿豌疲ｳ｡逧�ｰ丞ｰｾ蟾ｴ */
.character-chat-bubble-container.sent .character-chat-bubble::after {
  content: '';
  position: absolute;
  right: -4px;
  top: 10px;
  width: 0;
  height: 0;
  border: 4px solid transparent;
  border-left-color: #95ec69;
  border-right: 0;
}

/* --- 蟇ｹ譁ｹ��PC謌也畑謌ｷ�臥噪豌疲ｳ｡ --- */
.character-chat-bubble-container.received {
  align-self: flex-start; /* 謨ｴ菴馴擒蟾ｦ */
}
/* 蟇ｹ譁ｹ豌疲ｳ｡逧�ｰ丞ｰｾ蟾ｴ */
.character-chat-bubble-container.received .character-chat-bubble::before {
  content: '';
  position: absolute;
  left: -4px;
  top: 10px;
  width: 0;
  height: 0;
  border: 4px solid transparent;
  border-right-color: #ffffff;
  border-left: 0;
}
/* 笆ｼ笆ｼ笆ｼ 蝨ｨ霑咎㈹豺ｻ蜉�荳矩擇霑吝摎譁ｰ莉｣遐� 笆ｼ笆ｼ笆ｼ */
.character-chat-bubble-container.received .character-chat-bubble {
  background-color: #ffffff; /* 蠕ｮ菫｡逋ｽ */
  color: #000;
}
/* 笆ｲ笆ｲ笆ｲ 豺ｻ蜉�扈捺據 笆ｲ笆ｲ笆ｲ */

/* --- 蜉溯�諤ｧ驥咲ｽｮ�夐宙蟇ｹ蝗ｾ迚�/陦ｨ諠�桁�瑚ｮｩ豌疲ｳ｡窶懈ｶ亥､ｱ窶� --- */
.character-chat-bubble-container .character-chat-bubble:has(img.sticker-image) {
  background: transparent !important;
  padding: 0 !important;
  border-radius: 0;
}
.character-chat-bubble-container .character-chat-bubble:has(img.sticker-image)::before,
.character-chat-bubble-container .character-chat-bubble:has(img.sticker-image)::after {
  content: none !important;
}
/* 笆ｲ笆ｲ笆ｲ 譬ｷ蠑乗ｷｻ蜉�扈捺據 笆ｲ笆ｲ笆ｲ */
/* 笆ｼ笆ｼ笆ｼ 縲仙�譁ｰ縲題ｧ定牡謇区惻譁ｰ蠅暸PP鬘ｵ髱｢譬ｷ蠑� 笆ｼ笆ｼ笆ｼ */

/* 1. 逶ｸ蜀碁｡ｵ髱｢逧�ｽ第�ｼ蟶�ｱ */
#character-album-grid {
  display: grid;
  grid-template-columns: repeat(3, 1fr); /* 豈剰｡�3蠑�蝗ｾ */
  gap: 4px;
  padding: 4px;
}
.character-album-item {
  aspect-ratio: 1 / 1; /* 菫晄戟豁｣譁ｹ蠖｢ */
  background-color: #e0e0e0;
  cursor: pointer;
}
.character-album-item img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

/* 2. 體ｶ陦碁｡ｵ髱｢逧�ｽ咎｢晄仞遉ｺ */
.character-bank-balance-card {
  margin: 15px;
  padding: 20px;
  background: linear-gradient(135deg, #667eea, #764ba2);
  color: white;
  border-radius: 12px;
  text-align: center;
  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
}
.character-bank-balance-card .label {
  font-size: 14px;
  opacity: 0.8;
}
.character-bank-balance-card .amount {
  font-size: 32px;
  font-weight: 600;
  margin-top: 5px;
}

/* 3. 體ｶ陦御ｺ､譏楢ｮｰ蠖慕噪鬚懆牡 */
.character-data-item .transaction-amount {
  font-weight: 600;
}
.character-data-item .transaction-amount.income {
  color: #4caf50; /* 謾ｶ蜈･荳ｺ扈ｿ濶ｲ */
}
.character-data-item .transaction-amount.expense {
  color: #f44336; /* 謾ｯ蜃ｺ荳ｺ郤｢濶ｲ */
}

/* 笆ｲ笆ｲ笆ｲ 譬ｷ蠑乗ｷｻ蜉�扈捺據 笆ｲ笆ｲ笆ｲ */

/* 笆ｼ笆ｼ笆ｼ 縲新5菫ｮ豁｣迚医題ｧ定牡謇区惻逶ｸ蜀檎ｽ第�ｼ蟶�ｱ 笆ｼ笆ｼ笆ｼ */
#character-album-grid {
  display: grid;
  grid-template-columns: repeat(3, 1fr); /* 豈剰｡�3蠑�蝗ｾ */
  gap: 4px;
  padding: 4px;
}
.character-album-item {
  aspect-ratio: 1 / 1; /* 菫晄戟豁｣譁ｹ蠖｢ */
  background-color: #e0e0e0;
  cursor: pointer;
}
.character-album-item img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}
/* 笆ｲ笆ｲ笆ｲ 譬ｷ蠑丈ｿｮ豁｣扈捺據 笆ｲ笆ｲ笆ｲ */

/* 笆ｼ笆ｼ笆ｼ 縲仙�譁ｰ縲閃arkdown貂ｲ譟灘｢槫ｼｺ譬ｷ蠑� 笆ｼ笆ｼ笆ｼ */

/* 1. 荳ｺ隗定牡謇区惻驥檎噪謇譛窺arkdown蜀�ｮｹ隶ｾ鄂ｮ蝓ｺ遑譬ｷ蠑� */
.character-data-item .content h1,
.character-data-item .content h2,
.character-data-item .content h3,
.character-data-item .content p {
  margin: 0 0 10px 0; /* 扈滉ｸ譬�｢伜柱谿ｵ關ｽ逧�ｸ玖ｾｹ霍� */
}
.character-data-item .content h1 {
  font-size: 1.5em;
  font-weight: 600;
}
.character-data-item .content h2 {
  font-size: 1.3em;
  font-weight: 600;
}
.character-data-item .content h3 {
  font-size: 1.1em;
  font-weight: 600;
}

/* 2. 蛻�髯､郤ｿ譬ｷ蠑� */
.character-data-item .content del {
  color: #8a8a8a;
}

/* 3. 驕ｮ謖｡/蜑ｧ騾乗譜譫� */
.character-data-item .content .spoiler {
  background-color: #333;
  color: #333; /* 譁�ｭ怜柱閭梧勹荳荳ｪ濶ｲ�悟ｮ樒鴫髫占酪 */
  padding: 0 4px;
  border-radius: 4px;
  cursor: pointer;
  transition: all 0.2s ease-in-out;
}
/* 轤ｹ蜃ｻ謌夜ｼ�譬�ぎ蛛懈慮譏ｾ遉ｺ蜀�ｮｹ */
.character-data-item .content .spoiler:hover,
.character-data-item .content .spoiler:active {
  background-color: #f0f0f0;
  color: #000;
}

/* 笆ｲ笆ｲ笆ｲ 譬ｷ蠑乗ｷｻ蜉�扈捺據 笆ｲ笆ｲ笆ｲ */

/* 笆ｼ笆ｼ笆ｼ 縲仙�譁ｰ縲題ｧ定牡謇区惻譌･隶ｰ鄒主喧荳主唖髯､蜉溯�譬ｷ蠑� 笆ｼ笆ｼ笆ｼ */

/* 1. 隶ｩ譌･隶ｰ蛻苓｡ｨ譛画峩螂ｽ逧�ｾｹ霍� */
#character-diary-list {
  padding: 10px;
  display: flex;
  flex-direction: column;
  gap: 12px; /* 蠅槫刈譌･隶ｰ荵矩龍逧�龍霍� */
}

/* 2. 鄒主喧蜊慕ｯ�律隶ｰ蜊｡迚� */
#character-diary-list .character-data-item {
  background-color: #fffaf0; /* 貂ｩ證也噪邀ｳ鮟�牡閭梧勹 */
  border-left: 4px solid #ffc107; /* 蟾ｦ萓ｧ蜉�荳譚｡陬�･ｰ郤ｿ */
  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
  position: relative; /* 荳ｺ莠�ｮ壻ｽ榊唖髯､謖蛾聴 */
  padding-bottom: 35px; /* 荳ｺ蠎暮Κ逧�律譛溽蕗蜃ｺ遨ｺ髣ｴ */
}

/* 3. 鄒主喧譌･譛滓仞遉ｺ�梧滑螳�叛蛻ｰ蜿ｳ荳玖ｧ� */
#character-diary-list .character-data-item .meta {
  position: absolute;
  bottom: 8px;
  right: 12px;
  border-top: none; /* 遘ｻ髯､蜴滓擂逧�ｸ願ｾｹ譯� */
  padding-top: 0;
  font-size: 11px;
  color: #bfa87a;
}

/* 4. 蛻�髯､謖蛾聴逧��ｷ蠑� */
.diary-delete-btn {
  position: absolute;
  top: 8px;
  right: 8px;
  width: 26px;
  height: 26px;
  border-radius: 50%;
  background-color: rgba(0, 0, 0, 0.05);
  color: #bfa87a;
  border: none;
  cursor: pointer;
  font-size: 20px;
  line-height: 26px;
  text-align: center;
  opacity: 0; /* 鮟倩ｮ､髫占酪 */
  transition: opacity 0.2s ease-in-out;
}
/* 鮠�譬�ぎ蛛懷惠譌･隶ｰ荳頑慮譏ｾ遉ｺ謖蛾聴 */
#character-diary-list .character-data-item:hover .diary-delete-btn {
  opacity: 1;
}
.diary-delete-btn:hover {
  background-color: #ff3b30;
  color: white;
}
/* 笆ｲ笆ｲ笆ｲ 譬ｷ蠑乗ｷｻ蜉�扈捺據 笆ｲ笆ｲ笆ｲ */

/* 笆ｼ笆ｼ笆ｼ 縲新6譛扈井ｿｮ螟咲沿縲題ｧ定牡謇区惻逶ｸ蜀悟ｸ�ｱ髦ｲ貅｢蜃ｺ 笆ｼ笆ｼ笆ｼ */

/* 1. 縲先�ｸ蠢�台ｸｺ逶ｸ蜀檎ｽ第�ｼ逧�ｮｹ蝎ｨ蠑ｺ蛻ｶ遖∵ｭ｢豌ｴ蟷ｳ貊壼勘 */
#character-album-grid.list-container {
  overflow-x: hidden;
}

/* 2. 驥肴眠螳壻ｹ臥ｽ第�ｼ蟶�ｱ */
#character-album-grid {
  display: grid;
  /* 縲先�ｸ蠢�第ｯ剰｡�3荳ｪ�御ｽ�ｿ呎ｬ｡謌台ｻｬ逕ｨcalc()邊ｾ遑ｮ隶｡邂怜ｮｽ蠎ｦ */
  grid-template-columns: repeat(3, calc(33.333% - 4px));
  gap: 6px; /* 遞榊ｾｮ蠅槫､ｧ髣ｴ髫呻ｼ瑚ｮｩcalc譛芽ｮ｡邂礼ｩｺ髣ｴ */
  padding: 6px; /* 蜀�ｾｹ霍晏柱髣ｴ髫吩ｿ晄戟荳閾ｴ */
  box-sizing: border-box; /* 遑ｮ菫晏�霎ｹ霍晏柱霎ｹ譯�｢ｫ蛹�性蝨ｨ諤ｻ螳ｽ蠎ｦ蜀� */
  align-content: start; /* <--- 蟆ｱ譏ｯ蜉�荳願ｿ吩ｸ陦鯉ｼ� */
}

/* 3. 遞榊ｾｮ郛ｩ蟆丞崟迚�ｼ檎｡ｮ菫晏ｮ�ｻｬ荳堺ｼ壽酎遐ｴ螳ｹ蝎ｨ */
.character-album-item img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  display: block; /* 遘ｻ髯､蝗ｾ迚�ｸ区婿逧�ｾｮ蟆冗ｩｺ髫� */
}

/* 笆ｲ笆ｲ笆ｲ 譬ｷ蠑丈ｿｮ豁｣扈捺據 笆ｲ笆ｲ笆ｲ */

/* 笆ｼ笆ｼ笆ｼ 縲新6迢ｬ螳ｶ螳壼宛縲題ｧ定牡謇区惻菫｡郤ｸ鬟取�ｼ譌･隶ｰ譬ｷ蠑� 笆ｼ笆ｼ笆ｼ */

/* 1. 縲先�ｸ蠢�鷹㍾蝪第律隶ｰ蜊｡迚�ｼ瑚ｮｩ螳�ワ荳蠑�菫｡郤ｸ */
#character-diary-list .character-data-item {
  background-color: #fdfaf2; /* 貂ｩ證悶∵沐蜥檎噪邀ｳ逋ｽ/豬�ｻ�牡�梧ｨ｡諡滉ｿ｡郤ｸ */
  border: 1px solid #eaddc7; /* 豺｡豺｡逧�ｺｸ蠑�霎ｹ郛倩牡 */
  border-left: 3px solid #d4bda5; /* 蟾ｦ萓ｧ蜉�荳譚｡遞肴ｷｱ逧�ｺｿ�悟ワ陬�ｮ｢郤ｿ */
  box-shadow: 2px 2px 6px rgba(0, 0, 0, 0.06); /* 譖ｴ譟泌柱逧�亢蠖ｱ */
  position: relative;
  padding: 20px 15px 15px 20px; /* 隹�紛蜀�ｾｹ霍晢ｼ檎ｻ吮懷ｰ丈ｸ懆･ｿ窶晉蕗蜃ｺ遨ｺ髣ｴ */
  font-family: Georgia, 'Times New Roman', 'Kaiti TC', 'STKaiti', serif; /* 菴ｿ逕ｨ譖ｴ蜈ｸ髮�噪陦ｬ郤ｿ蟄嶺ｽ� */
}

/* 2. 縲仙ｰ丈ｸ懆･ｿ縲醍畑莨ｪ蜈�ｴ�蝨ｨ蟾ｦ荳願ｧ呈ｷｻ蜉�荳荳ｪ邊ｾ閾ｴ逧�ｺｸ螟ｹ */
#character-diary-list .character-data-item::before {
  content: '�梼'; /* 霑呎弍荳荳ｪEmoji郤ｸ螟ｹ�檎ｮ蜊募処譛画譜 */
  position: absolute;
  top: -12px;
  left: 15px;
  font-size: 24px;
  transform: rotate(-25deg); /* 隶ｩ郤ｸ螟ｹ譛我ｸ荳ｪ髫乗э逧�ｧ貞ｺｦ */
  opacity: 0.8;
}

/* 3. 縲先�ｸ蠢�鷹㍾鄂ｮMarkdown蜀�ｮｹ逧�ｭ嶺ｽ難ｼ檎｡ｮ菫晏ｮ�ｻｬ扈ｧ謇ｿ菫｡郤ｸ逧�ｭ嶺ｽ� */
#character-diary-list .character-data-item .content,
#character-diary-list .character-data-item .content h1,
#character-diary-list .character-data-item .content h2,
#character-diary-list .character-data-item .content h3 {
  font-family: inherit; /* 蠑ｺ蛻ｶ扈ｧ謇ｿ辷ｶ蜈�ｴ�逧�ｭ嶺ｽ� */
  color: #4a443b; /* 菴ｿ逕ｨ豺ｱ譽戊牡譁�ｭ暦ｼ梧峩譛芽ｴｨ諢� */
}

#character-diary-list .character-data-item .content p {
  margin: 0 0 12px 0;
}

/* 4. 蟆�律譛溽ｧｻ蜉ｨ蛻ｰ蜿ｳ荳願ｧ抵ｼ悟ワ菫｡郤ｸ逧�誠谺ｾ譌･譛� */
#character-diary-list .character-data-item .meta {
  position: absolute;
  top: 10px;
  right: 12px;
  font-size: 11px;
  color: #ae9c82; /* 蛹ｹ驟堺ｿ｡郤ｸ鬟取�ｼ逧�律譛滄｢懆牡 */
  font-style: italic; /* 譁應ｽ捺峩譛画焔蜀呎─ */
  border-top: none;
  padding-top: 0;
}

/* 5. 鄒主喧蛻�髯､謖蛾聴�瑚ｮｩ螳�峩陞榊�菫｡郤ｸ鬟取�ｼ */
#character-diary-list .character-data-item .diary-delete-btn {
  background-color: transparent;
  color: #c9bbae;
  font-size: 22px;
  transition: all 0.2s ease;
}

#character-diary-list .character-data-item .diary-delete-btn:hover {
  background-color: #e44d44;
  color: white;
  transform: scale(1.1);
}

/* 笆ｲ笆ｲ笆ｲ 譬ｷ蠑乗ｷｻ蜉�扈捺據 笆ｲ笆ｲ笆ｲ */

/* 笆ｼ笆ｼ笆ｼ 縲仙�譁ｰ縲題ｧ定牡謇区惻蜈ｨAPP鄒主喧譬ｷ蠑� 笆ｼ笆ｼ笆ｼ */

/* --- 1. 雍ｭ迚ｩ霓ｦ譬ｷ蠑� --- */
.character-cart-item {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 12px 15px;
  border-bottom: 1px solid #f0f0f0;
}
.character-cart-item:last-child {
  border-bottom: none;
}
.cart-item-icon {
  width: 40px;
  height: 40px;
  flex-shrink: 0;
  background-color: #f0f2f5;
  border-radius: 8px;
  display: flex;
  justify-content: center;
  align-items: center;
  color: var(--text-secondary);
}
.cart-item-info {
  flex-grow: 1;
}
.cart-item-info .title {
  font-weight: 500;
}
.cart-item-info .store {
  font-size: 12px;
  color: var(--text-secondary);
}
.cart-item-price {
  font-weight: 600;
  font-size: 15px;
}

/* --- 2. 豬剰ｧ亥勣蜴�彰譬ｷ蠑� --- */
.character-browser-item {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 14px 15px;
  border-bottom: 1px solid #f0f0f0;
  cursor: pointer;
  transition: background-color 0.2s;
}
.character-browser-item:hover {
  background-color: #f9f9f9;
}
.browser-item-icon {
  font-size: 20px;
  color: var(--text-secondary);
}

/* --- 3. 體ｶ陦御ｺ､譏捺�扈��ｷ蠑� --- */
.character-bank-transaction {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 14px 15px;
  border-bottom: 1px solid #f0f0f0;
}
.transaction-details {
  display: flex;
  align-items: center;
  gap: 12px;
}
.transaction-icon {
  width: 36px;
  height: 36px;
  border-radius: 50%;
  display: flex;
  justify-content: center;
  align-items: center;
  font-size: 18px;
  color: white;
}

/* --- 4. 陦悟勘霓ｨ霑ｹ (譌ｶ髣ｴ郤ｿ) 譬ｷ蠑� --- */
.character-trajectory-list {
  padding: 20px 15px 20px 30px; /* 蟾ｦ萓ｧ逡吝�譌ｶ髣ｴ郤ｿ逧�ｩｺ髣ｴ */
}
.character-trajectory-item {
  position: relative;
  padding-bottom: 25px;
}
/* 譌ｶ髣ｴ霓ｴ逧�ｫ也ｺｿ */
.character-trajectory-item::before {
  content: '';
  position: absolute;
  top: 5px;
  left: -18px;
  width: 2px;
  height: 100%;
  background-color: #e0e0e0;
}
.character-trajectory-item:last-child::before {
  display: none; /* 譛蜷惹ｸ荳ｪ譚｡逶ｮ豐｡譛臥ｺｿ */
}
/* 譌ｶ髣ｴ霓ｴ逧�怕轤ｹ */
.character-trajectory-item::after {
  content: '';
  position: absolute;
  top: 5px;
  left: -23px;
  width: 12px;
  height: 12px;
  border-radius: 50%;
  background-color: var(--accent-color);
  border: 2px solid white;
  box-shadow: 0 0 0 2px var(--accent-color);
}
.trajectory-item-content .meta {
  margin-top: 4px; /* 隶ｩ譌ｶ髣ｴ蜥悟慍轤ｹ遖ｻ譬�｢倩ｿ台ｸ轤ｹ */
}

/* --- 5. APP菴ｿ逕ｨ隶ｰ蠖� (霑帛ｺｦ譚｡) 譬ｷ蠑� --- */
.character-app-usage-item {
  padding: 15px;
  border-bottom: 1px solid #f0f0f0;
}
.app-usage-header {
  display: flex;
  justify-content: space-between;
  margin-bottom: 8px;
  font-size: 14px;
}
.app-usage-header .name {
  font-weight: 500;
}
.app-usage-header .duration {
  color: var(--text-secondary);
}
.app-usage-bar-container {
  width: 100%;
  height: 6px;
  background-color: #e9ecef;
  border-radius: 3px;
  overflow: hidden;
}
.app-usage-bar {
  height: 100%;
  background-color: var(--accent-color);
  border-radius: 3px;
  transition: width 0.5s ease-in-out;
}
/* 笆ｼ笆ｼ笆ｼ 縲仙�譁ｰ縲大錘蜿ｰ豢ｻ蜉ｨ隶ｾ鄂ｮ逡碁擇譬ｷ蠑� 笆ｼ笆ｼ笆ｼ */
.char-list-item {
  display: flex;
  align-items: center;
  padding: 8px 5px;
  border-bottom: 1px solid #eee;
}
.char-list-item:last-child {
  border-bottom: none;
}
.char-list-item input[type='checkbox'] {
  margin-right: 10px;
  width: 18px;
  height: 18px;
}
.char-list-item .char-name {
  flex-grow: 1;
}
.char-list-item .char-freq-badge {
  font-size: 11px;
  font-weight: bold;
  padding: 3px 8px;
  border-radius: 10px;
  color: white;
}
.char-freq-badge.low {
  background-color: #28a745;
}
.char-freq-badge.medium {
  background-color: #fd7e14;
}
.char-freq-badge.high {
  background-color: #dc3545;
}
/* 笆ｲ笆ｲ笆ｲ 譁ｰCSS邊倩ｴｴ扈捺據 笆ｲ笆ｲ笆ｲ */
/* 笆ｼ笆ｼ笆ｼ 謚願ｿ吩ｸ謨ｴ蝮怜�譁ｰ逧ГSS�檎ｲ倩ｴｴ蛻ｰ <style> 逧�忰蟆ｾ 笆ｼ笆ｼ笆ｼ */

/* === 縲仙�譁ｰ縲題ｧ�｢鷹夊ｯ晏庄隗�喧逡碁擇譬ｷ蠑� === */

/* 1. 蜿ｯ隗�喧逡碁擇逧�ｻ螳ｹ蝎ｨ�檎｡ｮ菫晏ｮ��隕�尠謨ｴ荳ｪ螻丞ｹ� */
#visual-call-interface {
  width: 100%;
  height: 100%;
  position: relative; /* 隶ｩ蜀�Κ蜈�ｴ�蜿ｯ莉･逶ｸ蟇ｹ莠主ｮ�ｮ壻ｽ� */
  overflow: hidden; /* 髦ｲ豁｢蜀�ｮｹ貅｢蜃ｺ */
  background-color: #1c1c1e; /* 豺ｱ濶ｲ閭梧勹 */
  display: flex; /* 菴ｿ逕ｨflex蟶�ｱ�梧婿萓ｿ蜀�ｮｹ謗貞� */
  flex-direction: column;
}

/* 2. 隗�｢題レ譎ｯ螻ゑｼ檎畑莠取叛鄂ｮ螟ｧ蟆丞崟 */
.video-background {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: 1; /* 遑ｮ菫晏ｮ�惠譛蠎募ｱ� */
}

/* 3. 螟ｧ蟆丞崟逧�夂畑螳ｹ蝎ｨ譬ｷ蠑� */
.video-container {
  position: absolute;
  background-color: #000;
  overflow: hidden;
  transition: all 0.3s ease-in-out; /* 荳ｺ蛻�困髟懷､ｴ豺ｻ蜉�蜉ｨ逕ｻ */
}
.video-container img {
  width: 100%;
  height: 100%;
  object-fit: cover; /* 菫晁ｯ∝崟迚�｡ｫ貊｡螳ｹ蝎ｨ荳比ｸ榊序蠖｢ */
}

/* 4. 螟ｧ蝗ｾ譬ｷ蠑� (鮟倩ｮ､蜊�貊｡蜈ｨ螻�) */
#video-main-view {
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
}

/* 5. 蟆丞崟譬ｷ蠑� (逕ｻ荳ｭ逕ｻ) */
#video-pip-view {
  top: 60px; /* 霍晉ｦｻ鬘ｶ驛ｨ荳谿ｵ霍晉ｦｻ */
  right: 15px;
  width: 100px; /* 蟆冗ｪ怜ｮｽ蠎ｦ */
  height: 178px; /* 蟆冗ｪ鈴ｫ伜ｺｦ (菫晄戟遶門ｱ乗ｯ比ｾ�) */
  border-radius: 10px;
  border: 2px solid rgba(255, 255, 255, 0.3);
  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
  cursor: pointer; /* 謠千､ｺ逕ｨ謌ｷ蜿ｯ莉･轤ｹ蜃ｻ */
}

/* 6. 閨雁､ｩ豌疲ｳ｡蛹ｺ蝓� (隕�尠蝨ｨ隗�｢台ｹ倶ｸ�) */
#video-call-messages-visual {
  position: relative;
  z-index: 5; /* 螻らｺｧ豈碑ｧ�｢鷹ｫ� */
  flex-grow: 1; /* 蜊�謐ｮ髯､莠�｡ｶ驛ｨ蜥悟ｺ暮Κ譬丈ｹ句､也噪謇譛臥ｩｺ髣ｴ */
  padding: 15px;
  overflow-y: auto; /* 蜀�ｮｹ螟壻ｺ�庄莉･貊壼勘 */
  display: flex;
  flex-direction: column;
  gap: 15px;
  /* 蜈ｳ髞ｮ�壻ｸｺ莠�ｸ崎ｮｩ貊壼勘譚｡蠖ｱ蜩咲ｾ手ｧゑｼ梧滑螳�嚼阯乗脂 */
  scrollbar-width: none; /* Firefox */
  -ms-overflow-style: none; /* IE 10+ */
}
#video-call-messages-visual::-webkit-scrollbar {
  display: none; /* Chrome, Safari, Opera*/
}

/* 笆ｼ笆ｼ笆ｼ 逕ｨ霑吶蝉ｸ蟆丞摎縲台ｻ｣遐�ｼ梧崛謐｢謗画立逧�ｰ疲ｳ｡譬ｷ蠑擾ｼ悟ｮ樒鴫縲先裏讓｡邉翫第譜譫� 笆ｼ笆ｼ笆ｼ */

/* 7. 縲先裏讓｡邉翫鷹ｫ俶ｸ�乗�閨雁､ｩ豌疲ｳ｡ */
.visual-call-bubble {
  padding: 8px 12px;
  border-radius: 18px;
  max-width: 80%;
  line-height: 1.5;
  word-break: break-word;
  color: white;

  /* 笘� 譬ｸ蠢�ｿｮ謾ｹ�壼ｽｻ蠎慕ｧｻ髯､ backdrop-filter (讓｡邉�) 謨域棡 */

  /* 笘� 譬ｸ蠢�ｿｮ謾ｹ�壽署萓帑ｸ荳ｪ邂蜊慕噪蜊企乗�鮟題牡閭梧勹�御ｻ･陦ｬ謇俶枚蟄� */
  background-color: rgba(0, 0, 0, 0.3); /* 霑呎弍荳荳ｪ蜈ｳ髞ｮ蛟ｼ�悟庄莉･蝨ｨ 0.2 (譖ｴ騾�) 蛻ｰ 0.4 (譖ｴ豺ｱ) 荵矩龍蠕ｮ隹� */

  /* 笘� 譬ｸ蠢�ｿｮ謾ｹ�壻ｽｿ逕ｨ譖ｴ貂�匆逧�ｾｹ譯�擂螳壻ｹ画ｰ疲ｳ｡霓ｮ蟒� */
  border: 1px solid rgba(255, 255, 255, 0.25);

  /* 笘� 譬ｸ蠢�ｿｮ謾ｹ�壼ｼｺ蛹匁枚蟄鈴亢蠖ｱ�檎｡ｮ菫晏惠莉ｻ菴墓ｸ�匆閭梧勹荳矩�扈晏ｯｹ蜿ｯ隸ｻ */
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.9);
}

.visual-call-bubble.user {
  align-self: flex-end;
  /* 笘� 譬ｸ蠢�ｿｮ謾ｹ�夂畑謌ｷ豌疲ｳ｡荵滉ｽｿ逕ｨ譌�讓｡邉顔噪蜊企乗�閭梧勹 */
  background-color: rgba(40, 160, 70, 0.3); /* 菴ｿ逕ｨ荳荳ｪ譖ｴ豺ｱ逧�ｻｿ濶ｲ譚･菫晁ｯ∝ｯｹ豈泌ｺｦ */
  border-color: rgba(255, 255, 255, 0.3);
}

/* 笆ｲ笆ｲ笆ｲ 譖ｿ謐｢扈捺據 笆ｲ笆ｲ笆ｲ */

.visual-call-bubble.ai {
  align-self: flex-start; /* AI逧�書險髱�蟾ｦ */
}

/* 8. 鬘ｶ驛ｨ蜥悟ｺ暮Κ譬冗噪螻らｺｧ隕∵怙鬮� */
#visual-call-interface .video-call-top-bar,
#visual-call-interface .video-call-controls {
  z-index: 10;
}

/* 9. 譁ｰ蠅樒噪謗ｧ蛻ｶ謖蛾聴蝗ｾ譬� (菴ｿ逕ｨSVG) */
.control-btn.reroll-btn {
  background-color: rgba(255, 255, 255, 0.2);
  background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="23 4 23 10 17 10"></polyline><path d="M20.49 15a9 9 0 1 1-2.12-9.36L23 10"></path></svg>');
  background-size: 50%;
}
.control-btn.switch-camera-btn {
  background-color: rgba(255, 255, 255, 0.2);
  background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M11 4H4a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2v-7"></path><path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path></svg>');
  background-size: 50%;
}

/* 10. 謖よ妙謖蛾聴髴隕∽ｸ荳ｪ譁ｰID譚･蛹ｺ蛻� */
#hang-up-btn-visual {
  /* 譬ｷ蠑冗ｻｧ謇ｿ閾ｪ .hangup-btn�梧裏髴鬚晏､匁ｷｻ蜉� */
}

/* 笆ｲ笆ｲ笆ｲ 譁ｰCSS邊倩ｴｴ扈捺據 笆ｲ笆ｲ笆ｲ */
/* 笆ｼ笆ｼ笆ｼ 縲先怙扈井ｿｮ螟咲沿縲台ｸ也阜荵ｦ騾画叫蝎ｨ蛻苓｡ｨ譬ｷ蠑� 笆ｼ笆ｼ笆ｼ */

/* 1. 蛻�ｱｻ譁�ｻｶ螟ｹ陦梧�ｷ蠑擾ｼ夂畑gap蛻帛ｻｺ蝗ｺ螳夐龍霍晢ｼ瑚ｶ�ｨｳ螳� */
.wb-category-header {
  display: flex;
  align-items: center;
  gap: 8px; /* 邂ｭ螟ｴ縲∝､埼画｡�∵枚蟄嶺ｹ矩龍逧�崋螳夐龍霍� */
  padding: 10px 12px;
  cursor: pointer;
  background-color: #f0f2f5;
  font-weight: 600;
  overflow: hidden; /* 髦ｲ豁｢莉ｻ菴墓э螟� */
}

/* 2. 蛻�ｱｻ譁�ｻｶ螟ｹ驥檎噪譁�ｭ玲�ｷ蠑擾ｼ壼宵雍溯ｴ｣謌ｪ譁ｭ�御ｸ崎ｴ溯ｴ｣蟶�ｱ */
.wb-category-header > span:last-of-type {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

/* 3. 縲先�ｸ蠢�ｿｮ螟阪台ｸｺ蛻�ｱｻ譁�ｻｶ螟ｹ蜥御ｹｦ逶ｮ驥檎噪螟埼画｡�懆ｧ｣扈鯛晏�螻譬ｷ蠑擾ｼ� */
.wb-category-header input[type='checkbox'],
.wb-book-container input[type='checkbox'] {
  width: auto !important; /* 隶ｩ螳�△螟崎�蟾ｱ逧�､ｩ辟ｶ螟ｧ蟆擾ｼ�!important遑ｮ菫晄怙鬮倅ｼ伜�郤ｧ */
  flex-shrink: 0; /* 髦ｲ豁｢螳�｢ｫ蜴狗ｼｩ */
}

/* 4. 蜈ｷ菴謎ｹｦ逶ｮ陦檎噪譬ｷ蠑擾ｼ壼ｼｺ蛻ｶ莉主ｷｦ霎ｹ蠑蟋区賜蛻暦ｼ瑚ｧ｣蜀ｳiOS髣ｮ鬚� */
.wb-book-container label {
  display: flex;
  align-items: center;
  justify-content: flex-start; /* 蠑ｺ蛻ｶ謇譛牙�螳ｹ莉主ｷｦ霎ｹ蠑蟋具ｼ�*/
  padding: 8px 12px;
  gap: 10px; /* 螟埼画｡�柱譁�ｭ礼噪髣ｴ霍� */
  overflow: hidden;
}

/* 5. 蜈ｷ菴謎ｹｦ逶ｮ逧�枚蟄玲�ｷ蠑� */
.wb-book-container label .wb-book-name {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  text-align: left;
}

/* 6. 螟憺龍讓｡蠑城る� */
#phone-screen.dark-mode .wb-category-header {
  background-color: #2c2c2e;
}

/* 7. 蟆冗ｮｭ螟ｴ逧��ｷ蠑擾ｼ井ｿ晄戟荳榊序�� */
.wb-category-header .arrow {
  font-size: 12px;
  transition: transform 0.2s ease;
}
.wb-category-header.collapsed .arrow {
  transform: rotate(-90deg);
}

/* 8. 荵ｦ邀榊ｮｹ蝎ｨ逧��ｷ蠑擾ｼ井ｿ晄戟荳榊序�� */
.wb-book-container {
  padding-left: 20px;
  max-height: 1000px;
  overflow: hidden;
  transition: max-height 0.3s ease-in-out;
}
.wb-book-container.collapsed {
  max-height: 0;
}

/* 笆ｲ笆ｲ笆ｲ 邊倩ｴｴ扈捺據 笆ｲ笆ｲ笆ｲ */
/* 笆ｼ笆ｼ笆ｼ 縲仙�譁ｰ縲大ｭ嶺ｽ馴｢�ｮｾ蜉溯�譬ｷ蠑� 笆ｼ笆ｼ笆ｼ */

#font-preset-container {
  width: 100%;
  display: flex;
  flex-direction: column;
  gap: 15px; /* 蜊｡讒ｽ荵矩龍逧�龍霍� */
}

.font-preset-slot {
  border: 1px solid var(--border-color);
  border-radius: 12px;
  padding: 15px;
  display: flex;
  flex-direction: column;
  gap: 12px;
}

#phone-screen.dark-mode .font-preset-slot {
  border-color: #38383a;
}

.font-preset-slot.empty {
  justify-content: center;
  align-items: center;
  min-height: 80px;
  border-style: dashed;
}

.font-preview-text {
  font-size: 22px;
  padding: 10px;
  border-radius: 8px;
  text-align: center;
  min-height: 30px;
  transition: font-family 0.3s ease;
}

#phone-screen.dark-mode .font-preview-text {
  background-color: #2c2c2e;
  color: #fff;
}

.font-preset-info {
  font-size: 14px;
  color: var(--text-secondary);
  font-weight: 500;
}

.font-preset-actions {
  display: flex;
  gap: 10px;
  width: 100%;
}

.preset-btn {
  flex: 1;
  padding: 10px;
  border: none;
  border-radius: 8px;
  font-size: 14px;
  font-weight: 600;
  cursor: pointer;
  background-color: var(--accent-color);
  color: white;
}

.preset-btn.secondary {
  background-color: #e9ecef;
  color: var(--text-primary);
  border: 1px solid var(--border-color);
}
#phone-screen.dark-mode .preset-btn.secondary {
  background-color: #3e3e42;
  border-color: #545458;
}

.preset-btn.delete {
  background-color: #ffdde5;
  color: #ff3b30;
  border: 1px solid #ffc2d1;
  max-width: 80px; /* 隶ｩ蛻�髯､謖蛾聴遯�ｸ轤ｹ */
  flex: 0 0 auto;
}
/* 笆ｲ笆ｲ笆ｲ 譁ｰ譬ｷ蠑冗ｲ倩ｴｴ扈捺據 笆ｲ笆ｲ笆ｲ */
/* 縲千ｾ主喧 V2縲題ｮｩ蜷主床豢ｻ蜉ｨ隶ｾ鄂ｮ逧�潔髓ｮ譖ｴ蝨�ｶｦ縲∵峩遶倶ｽ� */
#background-activity-details .form-button-secondary {
  border-radius: 20px; /* 螟ｧ蟷�｢槫刈蝨�ｧ抵ｼ悟ｽ｢謌占Ω蝗雁ｽ｢迥ｶ */
  padding-top: 10px; /* 蠅槫刈鬘ｶ驛ｨ蜀�ｾｹ霍晢ｼ瑚ｮｩ謖蛾聴譖ｴ鬮� */
  padding-bottom: 10px; /* 蠅槫刈蠎暮Κ蜀�ｾｹ霍晢ｼ瑚ｮｩ謖蛾聴譖ｴ鬮� */
  font-weight: 500; /* 蟄嶺ｽ鍋ｨ榊ｾｮ蜉�邊嶺ｸ轤ｹ */
  transition: all 0.2s ease; /* 豺ｻ蜉�蟷ｳ貊醍噪霑�ｸ｡謨域棡 */
}

/* 荳ｺ謖蛾聴豺ｻ蜉�荳荳ｪ蠕ｮ螯咏噪轤ｹ蜃ｻ謨域棡 */
#background-activity-details .form-button-secondary:active {
  transform: scale(0.96); /* 轤ｹ蜃ｻ譌ｶ霓ｻ蠕ｮ郛ｩ蟆� */
  opacity: 0.8; /* 轤ｹ蜃ｻ譌ｶ遞榊ｾｮ蜿俶ｷ｡ */
}
/* 笆ｼ笆ｼ笆ｼ 縲仙�譁ｰ縲腺GM謳懃ｴ｢扈捺棡蠑ｹ遯玲�ｷ蠑� 笆ｼ笆ｼ笆ｼ */

/* 笆ｼ笆ｼ笆ｼ 蝨ｨ霑咎㈹豺ｻ蜉�荳矩擇霑呎ｮｵ譁ｰ譬ｷ蠑� 笆ｼ笆ｼ笆ｼ */
#music-search-results-modal .modal-content {
  z-index: 220; /* 霑吩ｸｪ蛟ｼ豈疲眺謾ｾ蛻苓｡ｨ逧� 210 隕�ｫ� */
}
/* 笆ｲ笆ｲ笆ｲ 豺ｻ蜉�扈捺據 笆ｲ笆ｲ笆ｲ */

.search-result-item {
  display: flex;
  flex-direction: column;
  padding: 12px 18px;
  border-bottom: 1px solid var(--border-color);
  cursor: pointer;
  transition: background-color 0.2s;
}

/* 笆ｼ笆ｼ笆ｼ 縲仙�譁ｰ縲腺GM謳懃ｴ｢扈捺棡蠑ｹ遯玲�ｷ蠑� 笆ｼ笆ｼ笆ｼ */

.search-result-item {
  display: flex;
  flex-direction: column;
  padding: 12px 18px;
  border-bottom: 1px solid var(--border-color);
  cursor: pointer;
  transition: background-color 0.2s;
}

.search-result-item:hover {
  background-color: rgba(0, 0, 0, 0.1);
}

#phone-screen.dark-mode .search-result-item:hover {
  background-color: rgba(255, 255, 255, 0.1);
}

.search-result-item .title {
  font-weight: 500;
  font-size: 15px;
  color: var(--text-primary);
}

.search-result-item .artist {
  font-size: 12px;
  color: var(--text-secondary);
  margin-top: 4px;
}

.search-result-item .source {
  font-size: 10px;
  color: var(--accent-color);
  background-color: rgba(0, 123, 255, 0.1);
  padding: 2px 6px;
  border-radius: 4px;
  font-weight: bold;
  margin-left: 8px;
}
/* 笆ｲ笆ｲ笆ｲ 譁ｰ蠅曚SS扈捺據 笆ｲ笆ｲ笆ｲ */
/* 笆ｼ笆ｼ笆ｼ 縲仙�譁ｰ縲腺GM謳懃ｴ｢貅宣画叫蠑ｹ遯玲�ｷ蠑� 笆ｼ笆ｼ笆ｼ */
#music-source-selector-modal .modal-body label {
  font-size: 16px;
  display: flex;
  align-items: center;
  gap: 10px;
}
#music-source-selector-modal .modal-body input[type='radio'] {
  width: 18px;
  height: 18px;
}
/* 笆ｲ笆ｲ笆ｲ 譁ｰ蠅曚SS扈捺據 笆ｲ笆ｲ笆ｲ */
/* 笆ｼ笆ｼ笆ｼ 逕ｨ霑呎紛蝮励仙ｸ�ｱ蠕ｮ隹�沿縲第�ｷ蠑擾ｼ梧崛謐｢謗我ｸ贋ｸ谺｡逧�立譬ｷ蠑� 笆ｼ笆ｼ笆ｼ */

/* 1. 髣ｪ辜∝勘逕ｻ (菫晄戟荳榊序) */
@keyframes flash-char {
  0%,
  100% {
    opacity: 1;
    transform: scale(1);
    box-shadow: 0 0 3px rgba(255, 192, 203, 0);
  }
  50% {
    opacity: 0.8;
    transform: scale(1.08);
    box-shadow: 0 0 12px rgba(255, 192, 203, 0.9);
  }
}
@keyframes flash-user {
  0%,
  100% {
    opacity: 1;
    transform: scale(1);
    box-shadow: 0 0 3px rgba(173, 216, 230, 0);
  }
  50% {
    opacity: 0.8;
    transform: scale(1.08);
    box-shadow: 0 0 12px rgba(173, 216, 230, 0.9);
  }
}

/* 2. 縲先�ｸ蠢�ｿｮ謾ｹ縲題ｰ�紛螟ｴ蜒丞ｮｹ蝎ｨ逧�ｸ玖ｾｹ霍� */
#music-avatars-container {
  display: flex;
  justify-content: center;
  align-items: center;
  margin-bottom: 8px; /* <<<< 莉� 25px 蜃丞ｰ丞芦 8px�瑚ｮｩ螳�柱荳矩擇逧�枚蟄玲峩霑� */
  position: relative;
  z-index: 5;
}

/* 3. 蜊穂ｸｪ螟ｴ蜒乗�ｷ蠑� (菫晄戟荳榊序) */
#music-avatars-container img {
  width: 35px;
  height: 35px;
  border-radius: 50%;
  object-fit: cover;
  border: 2px solid rgba(255, 255, 255, 0.8);
  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
}

/* 4. 蛻�ｼ髣ｪ辜∝勘逕ｻ (菫晄戟荳榊序) */
#music-avatars-container.flashing #music-char-avatar {
  animation: flash-char 2.2s infinite ease-in-out;
}
#music-avatars-container.flashing #music-user-avatar {
  animation: flash-user 2.2s infinite ease-in-out 0.3s;
}

/* 5. 蠢�鳩蝗ｾ譬ｷ蠑� (菫晄戟荳榊序) */
#heartbeat-line {
  width: 80px;
  height: 30px;
  overflow: visible;
  margin: 0 -15px;
  opacity: 0;
  transition: opacity 0.5s;
}
#music-avatars-container.flashing #heartbeat-line {
  opacity: 1;
}
.heartbeat-path {
  stroke: #ffc0cb;
  stroke-width: 1.5;
  fill: none;
  stroke-dasharray: 100;
  stroke-dashoffset: 100;
  animation: draw-line 2.2s infinite linear;
  filter: drop-shadow(0 0 3px #ffc0cb);
}
.heartbeat-heart {
  display: none;
}
@keyframes draw-line {
  to {
    stroke-dashoffset: 0;
  }
}

/* 6. 縲先�ｸ蠢�ｿｮ謾ｹ縲題ｰ�紛窶應ｸ襍ｷ蜷ｬ莠�晄枚蟄礼噪譬ｷ蠑丞柱霎ｹ霍� */
#music-time-counter {
  margin-bottom: 20px; /* <<<< 邇ｰ蝨ｨ逕ｱ螳�擂雍溯ｴ｣蜥御ｸ矩擇逧�ｰ�擇諡牙ｼ霍晉ｦｻ */
  font-size: 11px;
  color: #666; /* 鬚懆牡遞榊ｾｮ蜉�豺ｱ荳轤ｹ */
  text-align: center;
}

/* 7. 蜚ｱ迚�雷霓ｬ蜉ｨ逕ｻ (菫晄戟荳榊序) */
@keyframes spin-record {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

/* 8. 蟆�擇蜥梧ｭ瑚ｯ咲噪蛻�困螳ｹ蝎ｨ (菫晄戟荳榊序) */
#music-display-area {
  width: 192px;
  height: 192px;
  margin-bottom: 15px;
  cursor: pointer;
  -webkit-tap-highlight-color: transparent;
  transition: transform 0.3s ease;
}
#music-display-area:active {
  transform: scale(0.98);
}

/* 9. 豁梧峇蟆�擇 (菫晄戟荳榊序) */
#music-album-cover {
  width: 100%;
  height: 100%;
  object-fit: cover;
  border-radius: 50%;
  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
  display: block;
}
#music-album-cover.rotating {
  animation: spin-record 10s linear infinite;
}
#music-album-cover.paused {
  animation-play-state: paused;
}

/* 10. 蜈ｶ莉匁�ｷ蠑� (菫晄戟荳榊序) */
#music-lyrics-container {
  display: none;
}
#music-display-area.show-lyrics #music-album-cover {
  display: none;
}
#music-display-area.show-lyrics #music-lyrics-container {
  display: block;
}
#music-player-song-title {
  margin-bottom: 2px;
}
#music-player-artist {
  margin-bottom: 10px;
}
.music-player-window {
  min-height: 480px;
}

/* 笆ｲ笆ｲ笆ｲ 蟶�ｱ蠕ｮ隹�沿譬ｷ蠑冗ｲ倩ｴｴ扈捺據 笆ｲ笆ｲ笆ｲ */
/* 笆ｼ笆ｼ笆ｼ 縲先怙扈井ｿｮ螟咲沿縲第署蜊�頗邏｢逶ｸ蜈ｳ蠑ｹ遯礼噪螻らｺｧ 笆ｼ笆ｼ笆ｼ */
#music-source-selector-modal,
#custom-modal-overlay {
  z-index: 250 !important; /* 霑吩ｸｪ蛟ｼ蠢�｡ｻ鬮倅ｺ取眺謾ｾ蛻苓｡ｨ(210)��!important遑ｮ菫晏ｮ�凶譛画怙鬮倅ｼ伜�郤ｧ */
}
/* 笆ｲ笆ｲ笆ｲ 邊倩ｴｴ扈捺據 笆ｲ笆ｲ笆ｲ */
/* 笆ｼ笆ｼ笆ｼ 豁･鬪､ 1�壽滑霑吩ｸ謨ｴ蝮怜�譁ｰ逧ГSS�檎ｲ倩ｴｴ蛻ｰ <style> 逧�忰蟆ｾ 笆ｼ笆ｼ笆ｼ */

/* --- 1. 髫占酪譌ｧ逧�ｸｻ螻丞ｹ募�邏� --- */
/* 謌台ｻｬ荳榊�髴隕∵立逧�煤螻乗慮髓溷柱蝗ｾ譬�ｽ第�ｼ莠�ｼ梧眠逧�ｸ�ｱ莨壼ｮ悟�蜿紋ｻ｣螳�ｻｬ */
#home-screen #clock-container,
#home-screen .app-grid {
  display: none !important;
}

/* --- 2. 縲先�ｸ蠢�鷹㍾譁ｰ螳壻ｹ我ｸｻ螻丞ｹ募ｸ�ｱ --- */
/* 
   霑吝ｰ�滑菴�逧�ｸｻ螻丞ｹ穂ｻ惹ｸ荳ｪ邂蜊慕噪蝙ら峩蛻苓｡ｨ�悟序謌蝉ｸ荳ｪ謦第ｻ｡蜈ｨ螻上�
   菴ｿ逕ｨFlexbox蟶�ｱ逧�ｼｺ螟ｧ螳ｹ蝎ｨ�御ｸｺ譁ｰ逧�懈｡碁擇蠑鞘晏ｸ�ｱ謇謎ｸ句渕遑縲�
*/
/* --- 2. 縲先�ｸ蠢�鷹㍾譁ｰ螳壻ｹ我ｸｻ螻丞ｹ募ｸ�ｱ --- */
#home-screen {
  /* 菴ｿ逕ｨ荳荳ｪ貍ゆｺｮ逧�ｺｿ諤ｧ貂仙序菴應ｸｺ鮟倩ｮ､閭梧勹�悟ｽ鍋┯菴�蜿ｯ莉･蝨ｨ窶懷､冶ｧりｮｾ鄂ｮ窶晞㈹髫乗慮謐｢謗牙ｮ� */
  background: linear-gradient(135deg, #6dd5fa, #2980b9);
  background-size: cover;
  background-position: center;

  /* 騾る�iPhone蛻俶ｵｷ蜥悟ｺ暮Κ螳牙�蛹ｺ */
  padding-top: calc(20px + env(safe-area-inset-top));
  padding-bottom: calc(20px + env(safe-area-inset-bottom));

  /* 笆ｼ笆ｼ笆ｼ 蝨ｨ霑咎㈹豺ｻ蜉�荳矩擇霑吩ｸ､陦� 笆ｼ笆ｼ笆ｼ */
  padding-left: 0;
  padding-right: 0;
  /* 笆ｲ笆ｲ笆ｲ 豺ｻ蜉�扈捺據 笆ｲ笆ｲ笆ｲ */

  /* 菴ｿ逕ｨFlexbox隶ｩ蜀�ｮｹ蛹ｺ蜥轡ock譬丈ｸ贋ｸ句�遖ｻ */
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  align-items: center;
  height: 100%; /* 遑ｮ菫晏ｮ�酎貊｡螻丞ｹ� */
}

/* --- 3. 荳ｭ髣ｴ荳ｻ隕∝�螳ｹ蛹ｺ (荳ｪ莠ｺ襍�侭蜊｡ + 蟆冗ｻ�ｻｶ + App蝗ｾ譬�) --- */
#main-content-area {
  width: 100%;
  display: flex;
  flex-direction: column;
  gap: 30px; /* 蜊｡迚�柱荳区婿蝗ｾ譬�噪髣ｴ霍� */
  align-items: center;
  margin-top: 20px; /* 霍晉ｦｻ螻丞ｹ暮｡ｶ驛ｨ荳轤ｹ霍晉ｦｻ */
}

/* --- 4. 荳ｪ莠ｺ襍�侭蜊｡迚� (霑呎弍隗�ｧ画�ｸ蠢�) --- */

/* 4a. 蜊｡迚�､門ｱょｮｹ蝎ｨ�夊ｿ呎弍謇譛牙�驛ｨ蜈�ｴ�螳壻ｽ咲噪窶憺爆轤ｹ窶� */
#profile-widget {
  position: relative; /* 蜈ｳ髞ｮ�夊ｮｩ蜀�Κ逧�､ｴ蜒丞柱莨ｪ蜈�ｴ�蜿ｯ莉･逶ｸ蟇ｹ莠主ｮ�ｿ幄｡檎ｻ晏ｯｹ螳壻ｽ� */
  width: 100%;
  max-width: 380px;
  flex-shrink: 0;
}

/* 4b. 閭梧勹螟ｴ蝗ｾ�壼宵扈咎｡ｶ驛ｨ隶ｾ鄂ｮ蝨�ｧ� */
#profile-banner-img {
  display: block;
  width: 100%;
  height: 150px;
  object-fit: cover;
  border-radius: 24px 24px 0 0; /* 蜿ｪ扈咎｡ｶ驛ｨ隶ｾ鄂ｮ蝨�ｧ� */
  position: relative;
  z-index: 1; /* 螻らｺｧ1�壼惠譛荳区婿 */
}

/* 4c. 螟ｴ蜒丞ｮｹ蝎ｨ�夂ｲｾ遑ｮ螳壻ｽ搾ｼ御ｽｿ蜈ｶ荳ｭ蠢�ｺｿ荳主､ｴ蝗ｾ蠎暮Κ蟇ｹ鮨� */
#profile-widget .profile-avatar-container {
  position: absolute;
  top: 80px; /* 莉朱｡ｶ驛ｨ蜷台ｸ句￥遘ｻ�瑚ｮｩ螳�ｸ蜊雁惠螟ｴ蝗ｾ荳奇ｼ御ｸ蜊雁惠荳矩擇 */
  left: 50%;
  transform: translateX(-50%);
  width: 80px;
  height: 80px;
  border-radius: 50%;
  background-color: white; /* 逋ｽ濶ｲ閭梧勹譚ｿ�瑚ｮｩ螟ｴ蜒乗峩遯∝� */
  padding: 4px; /* 逋ｽ濶ｲ霎ｹ譯�噪謨域棡 */
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
  z-index: 3; /* 螻らｺｧ3�壽怙鬮伜ｱゑｼ悟視菴丈ｸ蛻� */
}

#profile-avatar-img {
  width: 100%;
  height: 100%;
  border-radius: 50%;
  object-fit: cover;
}

/* 4d. 逋ｽ濶ｲ菫｡諱ｯ蜊｡迚�ｼ壻ｽｿ逕ｨ雍溷､冶ｾｹ霍晏ｮ樒鴫譌�郛晄蕎謗･ */
#profile-widget .profile-info {
  /* 縲蝉ｿｮ謾ｹ蜷弱醍區濶ｲ蛻ｰ騾乗�逧�ｸ仙序閭梧勹�悟ｹｶ蜉�荳贋ｸ螻よ沐蜥檎噪髦ｴ蠖ｱ */
  background: linear-gradient(to bottom, rgba(255, 255, 255, 0.85) 20%, rgba(255, 255, 255, 0));
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
  border-radius: 24px;

  /* 譬ｸ蠢�ｭ疲ｳ包ｼ壻ｽｿ逕ｨ雍溷､冶ｾｹ霍晢ｼ悟ｰ�今迚�髄荳顔ｧｻ蜉ｨ�御ｸ主､ｴ蝗ｾ蜥悟､ｴ蜒城㍾蜿� */
  margin-top: -24px;

  /* 蜷梧慮�御ｸｺ荳顔ｧｻ逧�､ｴ蜒冗蕗蜃ｺ邊ｾ遑ｮ逧�ｩｺ髣ｴ�碁∩蜈肴枚蟄怜視菴丞､ｴ蜒� */
  padding-top: 54px; /* 螟ｴ蜒丞濠蠕�(40px) + 鬚晏､夜龍霍�(14px) */

  min-height: 120px;
  box-sizing: border-box;
  display: flex;
  flex-direction: column;
  justify-content: center;
  padding-left: 15px;
  padding-right: 15px;
  padding-bottom: 15px;
  text-align: center;
  color: #1c1c1e;
  position: relative;
  z-index: 2; /* 螻らｺｧ2�壼惠螟ｴ蝗ｾ荵倶ｸ奇ｼ御ｽ�惠螟ｴ蜒丈ｹ倶ｸ� */
}

/* 4e. 荳ｪ莠ｺ襍�侭蜀�Κ逧�枚蟄玲�ｷ蠑� */
#profile-username {
  font-size: 18px;
  font-weight: 600;
  margin: 0 0 2px 0;
}
#profile-sub-username {
  font-size: 13px;
  color: #8a8a8a;
  margin: 0 0 10px 0;
}
#profile-bio {
  font-size: 14px;
  margin: 0 0 12px 0;
  color: #333;
}
#profile-location {
  font-size: 12px;
  color: #8a8a8a;
  margin: 0 auto;
  display: inline-flex;
  align-items: center;
  gap: 4px;
  background-color: rgba(0, 0, 0, 0.05);
  padding: 3px 9px;
  border-radius: 10px;
}

/* --- 5. 譯碁擇蠑丞ｸ�ｱ (蟆冗ｻ�ｻｶ + App蝗ｾ譬�) --- */
#desktop-layout {
  display: grid; /* 菴ｿ逕ｨGrid蟶�ｱ�瑚ｽｻ譚ｾ螳樒鴫荳､蛻� */
  grid-template-columns: 1fr 1.1fr; /* 蟾ｦ遯�承螳ｽ逧�ｸ､蛻� */
  gap: 20px;
  width: 100%;
  align-items: start;
}
#desktop-widget-column {
  display: flex;
  flex-direction: row;
  justify-content: space-between; /* 縲先�ｸ蠢�ｿｮ謾ｹ縲大ｰ� space-around 謾ｹ荳ｺ space-between */
  align-items: start;
  width: 100%;
}

/* 蜿ｳ萓ｧApp蝗ｾ譬�ｮｹ蝎ｨ */
#desktop-app-container {
  display: grid;
  grid-template-columns: 1fr 1fr; /* 荳､蛻怜崟譬� */
  gap: 25px;
  align-content: start;
}
.desktop-app-icon {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 8px;
  cursor: pointer;
  text-align: center;
}
.icon-bg-desktop {
  width: 55px;
  height: 55px;
  border-radius: 14px;
  background-color: #f0f2f5;
  justify-content: center;
  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
  transition: transform 0.2s ease;
  overflow: hidden;
}
.icon-bg-desktop img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  border-radius: 0;
}
.desktop-app-icon .label {
  color: #333;
  font-size: 13px;
  font-weight: 500;
}
.desktop-app-icon:active .icon-bg-desktop {
  transform: scale(0.9);
}

/* --- 6. 蠎暮Κ Dock 譬� --- */
#desktop-dock {
  background-color: rgba(255, 255, 255, 0.15); /* 邇ｻ迺�供諤∬レ譎ｯ */
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  border-radius: 20px;
  padding: 15px 25px;
  display: flex;
  justify-content: center;
  gap: 30px;
  width: fit-content; /* 螳ｽ蠎ｦ閾ｪ騾ょｺ泌�螳ｹ */
  flex-shrink: 0;
}

/* --- 7. 縲先�ｸ蠢�粥閭ｽ縲台ｸｺ蜿ｯ郛冶ｾ大�邏�豺ｻ蜉�隗�ｧ牙渚鬥� --- */
.editable-text,
.editable-image {
  cursor: pointer;
  transition: all 0.2s ease-in-out;
}

/* 鮠�譬�ぎ蛛懈慮�梧仞遉ｺ荳荳ｪ蜊企乗�逧�劒郤ｿ螟匁｡�ｼ悟ｹｶ霓ｻ蠕ｮ蜿俶囓�梧署遉ｺ逕ｨ謌ｷ霑咎㈹蜿ｯ莉･轤ｹ */
.editable-text:hover,
.editable-image:hover {
  outline: 2px dashed rgba(0, 0, 0, 0.4);
  opacity: 0.85;
  border-radius: 4px; /* 隶ｩ螟匁｡�ｹ滓怏荳轤ｹ蝨�ｧ� */
}

/* --- 8. 縲宣煤螻丞�螳ｹ縲題ｮｩ髞∝ｱ丞柱荳ｻ螻丞ｹ募庄莉･蝣�匠 --- */
#lock-screen,
#home-screen {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
}
#lock-screen {
  z-index: 999; /* 遑ｮ菫晞煤螻丞惠譛荳雁ｱ� */
}
/* 笆ｼ笆ｼ笆ｼ 霑呎弍譁ｰ蠅樒噪譯碁擇蟆冗ｻ�ｻｶ譬ｷ蠑� 笆ｼ笆ｼ笆ｼ */

/* 蜊穂ｸｪ蟆冗ｻ�ｻｶ逧�ｻ螳ｹ蝎ｨ */
.custom-widget-container {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 8px; /* 蜷�ｸｪ蜈�ｴ�荵矩龍逧�桙逶ｴ髣ｴ霍� */
}

.widget-bubble {
  position: relative;
  background-color: rgba(255, 255, 255, 0.9);
  color: #333;
  padding: 8px 12px;
  border-radius: 20px; /* 縲先�ｸ蠢�ｿｮ謾ｹ縲大｢槫刈蝨�ｧ抵ｼ悟ｮ樒鴫閭ｶ蝗頑─ */
  font-size: 13px;
  font-weight: 500;
  /* 縲先�ｸ蠢�ｿｮ謾ｹ縲醍ｧｻ髯､ min-width�瑚ｮｩ螳ｽ蠎ｦ閾ｪ騾ょｺ泌�螳ｹ */
  text-align: center;
  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
}

/* 逕ｨ莨ｪ蜈�ｴ�扈呎ｰ疲ｳ｡蜉�荳荳ｪ蟆丞ｰｾ蟾ｴ�梧欠蜷台ｸ矩擇逧�怕蠖｢蝗ｾ迚� */
.widget-bubble::after {
  content: '';
  position: absolute;
  bottom: -6px; /* 蟆ｾ蟾ｴ蝨ｨ豌疲ｳ｡荳区婿 */
  left: 50%;
  transform: translateX(-50%);
  border-width: 6px 6px 0;
  border-style: solid;
  border-color: rgba(255, 255, 255, 0.9) transparent transparent transparent;
}

.widget-circle-uploader {
  width: 65px; /* 莉� 80px 郛ｩ蟆� */
  height: 65px; /* 莉� 80px 郛ｩ蟆� */
  border-radius: 50%;
  border: 2px solid rgba(255, 255, 255, 0.5);
  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.15);
  padding: 3px;
  background-color: transparent; /* 縲先�ｸ蠢�ｿｮ謾ｹ縲大ｰ�レ譎ｯ濶ｲ謾ｹ荳ｺ騾乗� */
  box-sizing: border-box;
}

/* 霑呎弍譖ｿ謐｢蜷守噪隨ｬ莠悟摎 */
.widget-circle-uploader img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  border-radius: 50%; /* 縲先�ｸ蠢�題ｮｩ蝗ｾ迚�ｹ溷序謌仙怕蠖｢�悟ｮ檎ｾ朱ょｺ泌�霎ｹ霍� */
}

/* 荳区婿逧�乗�譁�ｭ怜玄蝓� */
.widget-subtext {
  background: transparent;
  border: none;
  color: #333;
  text-shadow: 0 1px 3px rgba(0, 0, 0, 0.5); /* 蜉�荳轤ｹ譁�ｭ鈴亢蠖ｱ譖ｴ貂�匆 */
  font-size: 13px;
  font-weight: 500;
  text-align: center;
}

/* 笆ｲ笆ｲ笆ｲ 譁ｰ蠅樊�ｷ蠑冗ｻ捺據 笆ｲ笆ｲ笆ｲ */
/* 笆ｼ笆ｼ笆ｼ 縲新3譛扈育ｾ主喧迚医台ｸｻ螻丞ｹ慕ｾ主喧鬚�ｮｾ蜉溯�譬ｷ蠑� 笆ｼ笆ｼ笆ｼ */
.preset-manager-container {
  width: 100%;
  margin-top: 20px;
  padding-top: 20px;
  border-top: 1px solid var(--border-color);
}
#phone-screen.dark-mode .preset-manager-container {
  border-top-color: #3a3a3c;
}
.preset-manager-container .form-group {
  display: flex;
  flex-direction: column;
  gap: 10px;
}
.preset-manager-controls {
  display: grid;
  grid-template-columns: 1fr 1fr; /* 縲先�ｸ蠢��2x2 鄂第�ｼ蟶�ｱ */
  gap: 12px; /* 謖蛾聴髣ｴ霍� */
  width: 100%;
}
.preset-btn-capsule {
  padding: 12px 15px; /* 蠅槫刈蝙ら峩蜀�ｾｹ霍晢ｼ瑚ｮｩ謖蛾聴譖ｴ鬮俶峩蜿ｯ辷ｱ */
  border: none;
  border-radius: 25px; /* 譖ｴ螟ｧ逧�怕隗抵ｼ瑚Ω蝗頑─譖ｴ蠑ｺ */
  font-size: 14px;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.2s ease;
  box-shadow: 0 3px 6px rgba(0, 0, 0, 0.08); /* 蠅槫刈荳轤ｹ遶倶ｽ馴亢蠖ｱ */
}
.preset-btn-capsule:active {
  transform: scale(0.96);
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
}
.preset-btn-capsule:disabled {
  opacity: 0.5;
  cursor: not-allowed;
  box-shadow: none;
  background-color: #e9ecef !important; /* 遖∫畑譌ｶ扈滉ｸ逕ｨ轣ｰ濶ｲ */
  color: #adb5bd !important;
  border-color: #dee2e6 !important;
}
#phone-screen.dark-mode .preset-btn-capsule:disabled {
  background-color: #3a3a3c !important;
  color: #545458 !important;
}
.preset-btn-apply {
  background-color: var(--accent-color); /* 蠎皮畑謖蛾聴菴ｿ逕ｨ荳ｻ鬚倩牡 */
  color: white;
  grid-column: 1 / -1; /* 縲先�ｸ蠢�題ｮｩ蠎皮畑謖蛾聴迢ｬ蜊�荳陦鯉ｼ梧峩遯∝� */
}
.preset-btn-save {
  background-color: #4cd964; /* 菫晏ｭ倡畑扈ｿ濶ｲ�御ｻ｣陦ｨ蛻帛ｻｺ */
  color: white;
}
.preset-btn-secondary {
  background-color: #f8f9fa;
  color: var(--text-primary);
  border: 1px solid var(--border-color);
}
#phone-screen.dark-mode .preset-btn-secondary {
  background-color: #3a3a3c;
  border-color: #545458;
}
.preset-btn-delete {
  background-color: #ffdde5;
  color: #ff3b30;
}
#phone-screen.dark-mode .preset-btn-delete {
  background-color: #5c2b2b;
  color: #ff8a80;
}
/* 笆ｲ笆ｲ笆ｲ 譬ｷ蠑冗ｲ倩ｴｴ扈捺據 笆ｲ笆ｲ笆ｲ */

/* 笆ｼ笆ｼ笆ｼ 縲新6譛扈井ｿｮ螟咲沿縲大､憺龍讓｡蠑冗ｻ域栫騾る� (蟾ｲ菫ｮ螟肴園譛蛾｡ｵ髱｢騾る�髣ｮ鬚�) 笆ｼ笆ｼ笆ｼ */

/* 譬ｸ蠢�ｼ壼ｽ� #phone-screen 諡･譛� .dark-mode 邀ｻ譌ｶ�梧ｿ豢ｻ莉･荳区園譛画�ｷ蠑� */

/* 1. 蜈ｨ螻驥肴眠螳壻ｹ蛾｢懆牡蜿倬㍼ */
#phone-screen.dark-mode {
  --secondary-bg: #1c1c1e;
  --border-color: #38383a;
  --text-primary: #ffffff;
  --text-secondary: #8e8e93;
  --status-bar-text-color: #ffffff;
}

/* 2. 縲仙渕遑縲台ｸｺ謇譛牙ｱ丞ｹ募柱荳ｻ隕∝ｮｹ蝎ｨ隶ｾ鄂ｮ蝓ｺ遑豺ｱ濶ｲ閭梧勹 */
#phone-screen.dark-mode,
#phone-screen.dark-mode .screen,
#phone-screen.dark-mode #chat-list,
#phone-screen.dark-mode #world-book-list,
#phone-screen.dark-mode .list-container,
#phone-screen.dark-mode .form-container,
#phone-screen.dark-mode #chat-messages {
  background-color: #000000 !important;
}

/* 3. 縲蝉ｸｻ螻丞ｹ輔台ｸ灘ｱ樊�ｷ蠑� (莉手｢ｫ蛻�髯､逧�ｻ｣遐∽ｸｭ諱｢螟榊ｹｶ謨ｴ蜷�) */
#phone-screen.dark-mode #home-screen {
  background: #111827; /* 豺ｱ闢晁牡閭梧勹 */
}
#phone-screen.dark-mode #desktop-dock {
  background-color: rgba(55, 65, 81, 0.5); /* Dock譬乗ｷｱ轣ｰ濶ｲ邇ｻ迺�譜譫� */
}
#phone-screen.dark-mode .desktop-app-icon .label,
#phone-screen.dark-mode .widget-subtext {
  color: #e5e7eb; /* 譯碁擇譁�ｭ怜序荳ｺ豬��濶ｲ */
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.7); /* 蜉�蠑ｺ髦ｴ蠖ｱ */
}
#phone-screen.dark-mode #profile-widget .profile-info {
  background: linear-gradient(to bottom, rgba(28, 28, 30, 0.85) 20%, rgba(28, 28, 30, 0)); /* 菫｡諱ｯ蜊｡迚�ｷｱ轣ｰ濶ｲ貂仙序 */
  color: #f9fafb;
}
#phone-screen.dark-mode #profile-username,
#phone-screen.dark-mode #profile-bio,
#phone-screen.dark-mode #profile-location span {
  color: #f9fafb; /* 菫｡諱ｯ蜊｡迚�ｸｻ譁�ｭ礼區濶ｲ */
}
#phone-screen.dark-mode #profile-sub-username,
#phone-screen.dark-mode #profile-location {
  color: #9ca3af; /* 菫｡諱ｯ蜊｡迚�ｬ｡隕∵枚蟄礼�濶ｲ */
}
#phone-screen.dark-mode #profile-location {
  background-color: rgba(255, 255, 255, 0.1); /* 蝨ｰ轤ｹ閭梧勹蜿倅ｺｮ */
}
#phone-screen.dark-mode .widget-bubble {
  background-color: rgba(55, 65, 81, 0.9); /* 蟆冗ｻ�ｻｶ豌疲ｳ｡豺ｱ轣ｰ濶ｲ */
  color: #e5e7eb; /* 蟆冗ｻ�ｻｶ譁�ｭ玲ｵ��濶ｲ */
}
#phone-screen.dark-mode .widget-bubble::after {
  border-top-color: rgba(55, 65, 81, 0.9); /* 蟆丞ｰｾ蟾ｴ鬚懆牡蜷梧ｭ･ */
}

/* 4. 縲蝉ｿｮ螟阪鷹る�謇譛蛾｡ｵ髱｢逧�､ｴ驛ｨHeader */
#phone-screen.dark-mode .header,
#phone-screen.dark-mode .qzone-header {
  background-color: rgba(28, 28, 30, 0.85) !important;
  border-bottom-color: var(--border-color) !important;
  color: var(--text-primary) !important;
}

/* 5. 縲蝉ｿｮ螟阪鷹る�謇譛蛾夂畑扈�ｻｶ (蠑ｹ遯励∬ｾ灘�譯�ｭ�) */
#phone-screen.dark-mode #chat-input-area,
#phone-screen.dark-mode #chat-list-bottom-nav {
  background-color: rgba(28, 28, 30, 0.85);
  border-top-color: var(--border-color);
}
#phone-screen.dark-mode #chat-input {
  background-color: var(--secondary-bg);
  color: var(--text-primary);
}
#phone-screen.dark-mode .modal-content,
#phone-screen.dark-mode #custom-modal {
  background-color: #2c2c2e;
}
#phone-screen.dark-mode .modal-header,
#phone-screen.dark-mode .modal-footer,
#phone-screen.dark-mode .custom-modal-footer {
  border-color: var(--border-color);
}
#phone-screen.dark-mode .form-group input,
#phone-screen.dark-mode .form-group select,
#phone-screen.dark-mode .form-group textarea {
  background-color: var(--secondary-bg);
  color: var(--text-primary);
  border-color: var(--border-color);
}
#phone-screen.dark-mode .list-item,
#phone-screen.dark-mode .chat-list-item-swipe-container:not(:last-child) {
  border-bottom-color: var(--border-color);
}
#phone-screen.dark-mode .list-item:hover,
#phone-screen.dark-mode .chat-list-item:hover {
  background-color: #2c2c2e;
}

/* 6. 縲占ｧ｣蜀ｳ縲大ｭ嶺ｽ馴｢�ｮｾ & 螟冶ｧりｮｾ鄂ｮ鬘ｵ髱｢豺ｱ蠎ｦ騾る� */
#phone-screen.dark-mode #font-settings-screen,
#phone-screen.dark-mode #wallpaper-screen {
  background-color: #000000;
}
#phone-screen.dark-mode .font-preset-slot,
#phone-screen.dark-mode #font-preview,
#phone-screen.dark-mode #wallpaper-preview {
  background-color: var(--secondary-bg);
  border-color: var(--border-color);
}
#phone-screen.dark-mode .preset-btn.secondary {
  background-color: #3e3e42;
  border-color: #545458;
}

/* 7. 縲占ｧ｣蜀ｳ縲鯛懈衍謇区惻窶晏粥閭ｽ謇譛牙�驛ｨ鬘ｵ髱｢豺ｱ蠎ｦ騾る� */
#phone-screen.dark-mode #character-phone-container {
  background-color: #000000;
}
#phone-screen.dark-mode .character-phone-frame {
  background-color: #111;
}
#phone-screen.dark-mode .character-phone-inner-screen,
#phone-screen.dark-mode .character-phone-page {
  background-color: #000000;
}
#phone-screen.dark-mode .character-phone-header {
  background-color: rgba(28, 28, 30, 0.85) !important;
  border-bottom: 1px solid #38383a !important;
}
#phone-screen.dark-mode #character-app-grid .label {
  color: #e5e7eb;
}
#phone-screen.dark-mode .character-chat-list .chat-list-item:hover {
  background-color: #1c1c1e;
}
#phone-screen.dark-mode #character-chat-history-messages {
  background-color: #0e0e0e !important;
}
#phone-screen.dark-mode .character-chat-bubble.received {
  background-color: #2c2c2e;
}
#phone-screen.dark-mode .character-data-item,
#phone-screen.dark-mode .character-bank-transaction,
#phone-screen.dark-mode .character-cart-item,
#phone-screen.dark-mode .character-browser-item {
  background-color: #1c1c1e;
  border-color: #38383a;
}
#phone-screen.dark-mode .character-data-item .title,
#phone-screen.dark-mode .character-data-item .content,
#phone-screen.dark-mode .cart-item-price {
  color: var(--text-primary);
}
#phone-screen.dark-mode .character-bank-balance-card {
  background: linear-gradient(135deg, #3a3a3c, #1c1c1e);
}
#phone-screen.dark-mode #character-diary-list .character-data-item {
  background-color: #1a1510;
  border-color: #4a443b;
  border-left-color: #8c7d6b;
}
#phone-screen.dark-mode #character-select-item .name {
  color: #80cbc4 !important; /* 譟泌柱逧�搨濶ｲ */
}

/* 8. 縲先眠蠅槭台ｿｮ螟崎♀螟ｩ蛻苓｡ｨ蛻�ｻ���｢倡噪閭梧勹濶ｲ */
#phone-screen.dark-mode .chat-group-header {
  background-color: #1c1c1e;
}
#phone-screen.dark-mode .chat-list-item-content.pinned {
  background-color: #3a3a3c;
}

/* 笆ｲ笆ｲ笆ｲ CSS 莉｣遐∫ｲ倩ｴｴ扈捺據 笆ｲ笆ｲ笆ｲ */
/* 笆ｼ笆ｼ笆ｼ 豁･鬪､ 1.1�壼ｰ�ｿ呎紛蝮励千ｻ域栫菫ｮ螟咲沿縲舛SS邊倩ｴｴ蛻ｰ <style> 逧�忰蟆ｾ 笆ｼ笆ｼ笆ｼ */

/* 譬ｸ蠢�ｿｮ螟搾ｼ壻ｽｿ逕ｨ !important 蠑ｺ蛻ｶ謠仙合莨伜�郤ｧ�瑚ｦ�尠謗画園譛画坤荵ｱ逧��閨疲�ｷ蠑� */

/* 1. 荳ｺ謇譛蛾怙隕�る�逧�ｱ丞ｹ募ｼｺ蛻ｶ隶ｾ鄂ｮ郤ｯ鮟題レ譎ｯ */
#phone-screen.dark-mode #wallpaper-screen,
#phone-screen.dark-mode #font-settings-screen,
#phone-screen.dark-mode #api-settings-screen,
#phone-screen.dark-mode #character-selection-screen,
#phone-screen.dark-mode #world-book-screen,
#phone-screen.dark-mode #world-book-editor-screen,
#phone-screen.dark-mode .form-container, /* 遑ｮ菫晄園譛芽｡ｨ蜊募ｮｹ蝎ｨ荵滄る� */
#phone-screen.dark-mode .list-container {
  /* 遑ｮ菫晄園譛牙�陦ｨ螳ｹ蝎ｨ荵滄る� */
  background-color: #000000 !important;
}

/* 2. 荳ｺ窶懈衍謇区惻窶晏�驛ｨ逧�園譛蛾｡ｵ髱｢蠑ｺ蛻ｶ隶ｾ鄂ｮ郤ｯ鮟題レ譎ｯ */
#phone-screen.dark-mode .character-phone-inner-screen,
#phone-screen.dark-mode .character-phone-page {
  background-color: #000000 !important;
}
#phone-screen.dark-mode #character-chat-history-messages {
  background-color: #0e0e0e !important; /* 閨雁､ｩ隶ｰ蠖慕畑豺ｱ轣ｰ濶ｲ */
}

/* 3. 菫ｮ螟埼｡ｵ髱｢蜀�Κ扈�ｻｶ逧�レ譎ｯ濶ｲ */
#phone-screen.dark-mode #font-preview,
#phone-screen.dark-mode #wallpaper-preview {
  background-color: #1c1c1e !important;
  border-color: #38383a !important;
}

/* 4. 菫ｮ螟坂懈衍謇区惻窶晞㈹蟇ｹ譁ｹ逧�♀螟ｩ豌疲ｳ｡鬚懆牡 */
#phone-screen.dark-mode .character-chat-bubble.received {
  background-color: #2c2c2e !important;
}
/* 笆ｼ笆ｼ笆ｼ 縲先怙扈井ｿｮ螟咲沿縲第署蜊�園譛牙ｼｹ遯礼噪螻らｺｧ 笆ｼ笆ｼ笆ｼ */
#music-source-selector-modal,
#music-search-results-modal {
  z-index: 250 !important; /* 霑吩ｸｪ蛟ｼ鬮倅ｺ取眺謾ｾ蛻苓｡ｨ(210)��!important遑ｮ菫晏ｮ�凶譛画怙鬮倅ｼ伜�郤ｧ */
}
/* 笆ｲ笆ｲ笆ｲ 邊倩ｴｴ扈捺據 笆ｲ笆ｲ笆ｲ */
/* 笆ｼ笆ｼ笆ｼ 謚願ｿ吩ｸ謨ｴ蝮怜�譁ｰ逧ГSS�檎ｲ倩ｴｴ蛻ｰ <style> 逧�忰蟆ｾ 笆ｼ笆ｼ笆ｼ */

/* 縲仙�譁ｰ鄒主喧迚医鷹夂畑謫堺ｽ懆除蜊墓潔髓ｮ */
#preset-actions-modal .custom-modal-footer button {
  width: 100%;
  border: none; /* 遘ｻ髯､霎ｹ譯� */
  border-radius: 20px; /* 笘��笘� 菫ｮ謾ｹ霑咎㈹�∵滑 12px 謾ｹ謌蝉ｺ� 20px 笘��笘� */
  padding: 14px;
  font-size: 16px; /* 蟄嶺ｽ鍋ｨ榊ｾｮ郛ｩ蟆丈ｸ轤ｹ�梧峩邊ｾ閾ｴ */
  font-weight: 500;
  margin-bottom: 8px; /* 謖蛾聴荵矩龍逧�桙逶ｴ髣ｴ霍� */
  background-color: #f0f0f0; /* 扈滉ｸ逧�ｵ��濶ｲ閭梧勹 */
  color: var(--text-primary);
  transition: background-color 0.2s, transform 0.1s; /* 豺ｻ蜉�蜉ｨ逕ｻ */
}

/* 鮠�譬�ぎ蛛懷柱轤ｹ蜃ｻ謨域棡 */
#preset-actions-modal .custom-modal-footer button:hover {
  background-color: #e0e0e0;
}
#preset-actions-modal .custom-modal-footer button:active {
  transform: scale(0.98); /* 轤ｹ蜃ｻ譌ｶ霓ｻ蠕ｮ郛ｩ蟆� */
}

/* 蜊慕峡鄒主喧窶懷唖髯､窶晄潔髓ｮ */
#preset-actions-modal .custom-modal-footer button.btn-danger {
  background-color: #ffe5e5;
  color: #ff3b30;
}
#preset-actions-modal .custom-modal-footer button.btn-danger:hover {
  background-color: #ffcccc;
}

/* 鄒主喧窶懷叙豸遺晄潔髓ｮ */
#preset-actions-modal .custom-modal-footer button:last-child {
  background-color: #e9ecef;
  margin-top: 4px; /* 蜥御ｸ企擇逧�潔髓ｮ遞榊ｾｮ諡牙ｼ荳轤ｹ霍晉ｦｻ */
}
#preset-actions-modal .custom-modal-footer button:last-child:hover {
  background-color: #dcdfe3;
}

/* 遘ｻ髯､謖蛾聴荵矩龍逧��蜑ｲ郤ｿ */
#preset-actions-modal .custom-modal-footer button {
  border-bottom: none !important;
}

/* 笆ｲ笆ｲ笆ｲ 邊倩ｴｴ扈捺據 笆ｲ笆ｲ笆ｲ */
/* 笆ｼ笆ｼ笆ｼ 謚願ｿ吩ｸ謨ｴ蝮怜�譁ｰ逧ГSS�檎ｲ倩ｴｴ蛻ｰ <style> 逧�忰蟆ｾ 笆ｼ笆ｼ笆ｼ */

/* 縲先�ｸ蠢�ｿｮ豁｣縲第署蜊�夂畑謫堺ｽ懆除蜊慕噪螻らｺｧ�檎｡ｮ菫晏ｮ��隕�尠謦ｭ謾ｾ蛻苓｡ｨ */
#preset-actions-modal {
  z-index: 220; /* 霑吩ｸｪ蛟ｼ豈疲眺謾ｾ蛻苓｡ｨ(210)譖ｴ鬮假ｼ悟ｰｱ荳堺ｼ夊｢ｫ謖｡菴丈ｺ� */
}

/* 笆ｲ笆ｲ笆ｲ 邊倩ｴｴ扈捺據 笆ｲ笆ｲ笆ｲ */
/* --- 窶懈衍謇区惻窶晄ぎ蛛懷唖髯､謖蛾聴譬ｷ蠑� 蠑蟋� --- */

/* 1. 隶ｩ窶懈衍謇区惻窶晏粥閭ｽ驥檎噪謇譛牙�陦ｨ鬘ｹ驛ｽ謌蝉ｸｺ蜿ｯ莉･螳壻ｽ榊唖髯､謖蛾聴逧�ｮｹ蝎ｨ */
.character-data-item,
.character-cart-item,
.character-browser-item,
.character-bank-transaction,
.character-trajectory-item,
.character-app-usage-item,
.character-chat-bubble-container,
.character-album-item {
  position: relative; /* 霑呎弍隶ｩ謖蛾聴蜿ｯ莉･蝓ｺ莠主ｮ�擂螳壻ｽ咲噪蜈ｳ髞ｮ */
}

/* 2. 鄒主喧蛻�髯､謖蛾聴�悟ｹｶ蟆�ｮ�ｮ壻ｽ榊芦蜿ｳ荳願ｧ抵ｼ碁ｻ倩ｮ､髫占酪 */
.item-delete-btn,
.message-delete-btn {
  position: absolute;
  top: 8px; /* 霍晉ｦｻ鬘ｶ驛ｨ8蜒冗ｴ� */
  right: 8px; /* 霍晉ｦｻ蜿ｳ萓ｧ8蜒冗ｴ� */
  width: 24px;
  height: 24px;
  border-radius: 50%; /* 蝨�ｽ｢謖蛾聴 */
  background-color: rgba(0, 0, 0, 0.4); /* 蜊企乗�鮟題牡閭梧勹�梧峩鄒手ｧ� */
  color: white;
  border: none;
  display: flex; /* 菴ｿ逕ｨflex蟶�ｱ隶ｩ蜿牙捷"ﾃ�"螳檎ｾ主ｱ�ｸｭ */
  align-items: center;
  justify-content: center;
  font-size: 16px;
  line-height: 1;
  cursor: pointer; /* 鮠�譬�叛荳雁悉譌ｶ譏ｾ遉ｺ蟆乗焔蝗ｾ譬� */
  z-index: 10; /* 遑ｮ菫晄潔髓ｮ蝨ｨ譛荳雁ｱ� */

  /* 譬ｸ蠢�ｼ夐ｻ倩ｮ､迥ｶ諤∽ｸ矩嚼阯乗潔髓ｮ */
  opacity: 0;
  visibility: hidden;
  transform: scale(0.8); /* 驟榊粋蜉ｨ逕ｻ�瑚ｮｩ蜃ｺ邇ｰ謨域棡譖ｴ閾ｪ辟ｶ */
  transition: opacity 0.2s ease-in-out, transform 0.2s ease-in-out;
}

/* 3. 蠖馴ｼ�譬�ぎ蛛懷惠莉ｻ菴穂ｸ荳ｪ蛻苓｡ｨ鬘ｹ荳頑慮�梧仞遉ｺ螳��驛ｨ逧�唖髯､謖蛾聴 */
.character-data-item:hover .item-delete-btn,
.character-cart-item:hover .item-delete-btn,
.character-browser-item:hover .item-delete-btn,
.character-bank-transaction:hover .item-delete-btn,
.character-trajectory-item:hover .item-delete-btn,
.character-app-usage-item:hover .item-delete-btn,
.character-chat-bubble-container:hover .message-delete-btn,
.character-album-item:hover .item-delete-btn {
  opacity: 1; /* 蜿伜ｾ怜ｮ悟�蜿ｯ隗� */
  visibility: visible;
  transform: scale(1); /* 諱｢螟肴ｭ｣蟶ｸ螟ｧ蟆� */
}

/* --- 窶懈衍謇区惻窶晄ぎ蛛懷唖髯､謖蛾聴譬ｷ蠑� 扈捺據 --- */

/* 笆ｼ笆ｼ笆ｼ 縲仙�譁ｰ縲題ｧ定牡謇区惻蠕ｮ菫｡豸域�蛻�髯､謖蛾聴譬ｷ蠑� 笆ｼ笆ｼ笆ｼ */
.character-chat-bubble-container {
  position: relative; /* 隶ｩ蛻�髯､謖蛾聴蜿ｯ莉･逶ｸ蟇ｹ莠主ｮ�ｮ壻ｽ� */
}

.message-delete-btn {
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  width: 22px;
  height: 22px;
  background-color: rgba(0, 0, 0, 0.1);
  color: #555;
  border-radius: 50%;
  border: none;
  cursor: pointer;
  font-size: 16px;
  line-height: 22px;
  text-align: center;
  opacity: 0; /* 鮟倩ｮ､髫占酪 */
  transition: all 0.2s ease;
}

.character-chat-bubble-container:hover .message-delete-btn {
  opacity: 1; /* 鮠�譬�ぎ蛛懈慮譏ｾ遉ｺ */
}

.message-delete-btn:hover {
  background-color: #ff3b30;
  color: white;
}

/* 譬ｹ謐ｮ豸域�譏ｯ蟾ｦ譏ｯ蜿ｳ�瑚ｰ�紛蛻�髯､謖蛾聴逧�ｽ咲ｽｮ */
.character-chat-bubble-container.sent .message-delete-btn {
  left: -28px;
}
.character-chat-bubble-container.received .message-delete-btn {
  right: -28px;
}
/* 笆ｲ笆ｲ笆ｲ 譁ｰ蠅樊�ｷ蠑冗ｻ捺據 笆ｲ笆ｲ笆ｲ */

/* 笆ｲ笆ｲ笆ｲ CSS 邊倩ｴｴ扈捺據 笆ｲ笆ｲ笆ｲ */

/* 笆ｼ笆ｼ笆ｼ 縲仙�譁ｰ豺ｻ蜉�縲大ｼｺ蛻ｶ菫ｮ豁｣謇譛芽ｮｾ鄂ｮ鬘ｵ髱｢逧�ｺ暮Κ螳牙�蛹ｺ 笆ｼ笆ｼ笆ｼ */
#font-settings-screen .form-container,
#wallpaper-screen .form-container,
#api-settings-screen .form-container,
#css-editor-screen .form-container {
  padding-bottom: calc(20px + env(safe-area-inset-bottom));
}
/* 笆ｲ笆ｲ笆ｲ 豺ｻ蜉�扈捺據 笆ｲ笆ｲ笆ｲ */

/* 笆ｼ笆ｼ笆ｼ 縲仙�譁ｰ縲訴OS鬟取�ｼ逧�ｻ大勘蠑蜈ｳ譬ｷ蠑� 笆ｼ笆ｼ笆ｼ */

.toggle-switch-label {
  display: flex;
  align-items: center;
  justify-content: space-between; /* 隶ｩ譁�ｭ怜柱蠑蜈ｳ荳､遶ｯ蟇ｹ鮨� */
  cursor: pointer;
  user-select: none;
  width: 100%;
  padding: 10px 0; /* 蠅槫刈荳轤ｹ荳贋ｸ矩龍霍� */
}

.toggle-switch-text {
  font-weight: 500;
  color: var(--text-primary);
}

/* 髫占酪蜴溷ｧ狗噪 checkbox */
.toggle-switch-label input[type='checkbox'] {
  opacity: 0;
  width: 0;
  height: 0;
  position: absolute;
}

/* 蠑蜈ｳ逧�ｽｨ驕� */
.toggle-switch-slider {
  position: relative;
  display: inline-block;
  width: 51px;
  height: 31px;
  background-color: #e9e9eb;
  border-radius: 34px;
  transition: background-color 0.2s;
  flex-shrink: 0; /* 髦ｲ豁｢陲ｫ蜴狗ｼｩ */
}

/* 蠑蜈ｳ逧�ｻ大摎 (驍｣荳ｪ逋ｽ濶ｲ蝨�せ) */
.toggle-switch-slider::before {
  content: '';
  position: absolute;
  height: 27px;
  width: 27px;
  left: 2px;
  bottom: 2px;
  background-color: white;
  border-radius: 50%;
  transition: transform 0.2s;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.15);
}

/* 蠖� checkbox 陲ｫ騾我ｸｭ譌ｶ�梧隼蜿倩ｽｨ驕鍋噪鬚懆牡 */
.toggle-switch-label input:checked + .toggle-switch-slider {
  background-color: #34c759; /* iOS 鬟取�ｼ逧�ｻｿ濶ｲ */
}

/* 蠖� checkbox 陲ｫ騾我ｸｭ譌ｶ�檎ｧｻ蜉ｨ貊大摎 */
.toggle-switch-label input:checked + .toggle-switch-slider::before {
  transform: translateX(20px);
}

/* 笆ｲ笆ｲ笆ｲ 譁ｰ譬ｷ蠑冗ｲ倩ｴｴ扈捺據 笆ｲ笆ｲ笆ｲ */
/* 笆ｼ笆ｼ笆ｼ 霑呎弍荳ｺ菴�譁ｰ蠅樒噪鬚懆牡譬ｷ蠑� 笆ｼ笆ｼ笆ｼ */

/* 1. 謚頑慮髣ｴ逧�｢懆牡蠑ｺ蛻ｶ隶ｾ鄂ｮ荳ｺ鮟題牡 */
#status-bar-time {
  color: #000000 !important; /* !important 遑ｮ菫晏ｮ�ｼ伜�郤ｧ譛鬮� */
}

/* 2. 謚顔鳩豎�螳ｹ蝎ｨ蜀�噪謇譛我ｸ懆･ｿ�亥崟譬�ｾｹ譯�∫鳩驥乗擅縲∫卆蛻�ｯ疲枚蟄暦ｼ蛾�隶ｾ鄂ｮ荳ｺ扈ｿ濶ｲ */
#status-bar-battery {
  color: #4caf50 !important; /* 霑呎弍荳荳ｪ蠕亥･ｽ逵狗噪扈ｿ濶ｲ */
}

/* 笆ｲ笆ｲ笆ｲ 譁ｰ蠅樊�ｷ蠑冗ｻ捺據 笆ｲ笆ｲ笆ｲ */
/* 笆ｼ笆ｼ笆ｼ 霑呎弍豁･鬪､1髴隕∫ｲ倩ｴｴ逧�眠譬ｷ蠑� 笆ｼ笆ｼ笆ｼ */

/* 隶ｩ豈丈ｸ譚｡隸�ｮｺ驛ｽ蜿俶�蜿ｯ轤ｹ蜃ｻ逧� */
.comment-item {
  cursor: pointer; /* 鮠�譬�ぎ蛛懈慮譏ｾ遉ｺ荳ｺ蟆乗焔蠖｢迥ｶ */
  transition: background-color 0.2s; /* 豺ｻ蜉�荳荳ｪ蟷ｳ貊醍噪閭梧勹濶ｲ霑�ｸ｡蜉ｨ逕ｻ */
  border-radius: 4px; /* 扈吩ｸ轤ｹ轤ｹ蝨�ｧ抵ｼ梧峩螂ｽ逵� */
  padding: 2px 5px; /* 蠅槫刈荳轤ｹ蜀�ｾｹ霍晢ｼ瑚ｮｩ轤ｹ蜃ｻ蛹ｺ蝓滓峩螟ｧ */
  margin: 0 -5px; /* 謚贋ｸ企擇逧��霎ｹ霍晄慣豸域脂�御ｿ晄戟蟇ｹ鮨� */
}
.comment-item:hover {
  background-color: #f0f2f5; /* 鮠�譬�叛荳雁悉譌ｶ�檎ｻ吩ｸ荳ｪ豺｡豺｡逧�レ譎ｯ濶ｲ */
}
#phone-screen.dark-mode .comment-item:hover {
  background-color: #2c2c2e; /* 螟憺龍讓｡蠑丈ｸ狗噪謔ｬ蛛憺｢懆牡 */
}

/* 窶懷屓螟坂晁ｿ吩ｸ､荳ｪ蟄礼噪譬ｷ蠑� */
.comment-item .reply-text {
  color: var(--text-secondary);
  margin: 0 4px; /* 蜥御ｸ､霎ｹ逧�錐蟄玲級蠑荳轤ｹ霍晉ｦｻ */
}

/* 陲ｫ蝗槫､崎�噪蜷榊ｭ玲�ｷ蠑� */
.comment-item .reply-target-name {
  font-weight: 600;
  color: var(--accent-color);
  cursor: pointer;
  margin-right: 5px;
}
/* 笆ｼ笆ｼ笆ｼ 縲仙�譁ｰ縲題♀螟ｩ隶ｰ蠖墓頗邏｢蜉溯�譬ｷ蠑� 笆ｼ笆ｼ笆ｼ */

/* 謳懃ｴ｢扈捺棡蛻苓｡ｨ */
#chat-search-results-list {
  flex-grow: 1; /* 蜊�謐ｮ蜑ｩ菴呎園譛臥ｩｺ髣ｴ */
  overflow-y: auto; /* 蜀�ｮｹ螟壻ｺ�庄莉･貊壼勘 */
}

/* 蜊墓擅謳懃ｴ｢扈捺棡逧��ｷ蠑� */
.search-result-item {
  padding: 12px 15px;
  border-bottom: 1px solid var(--border-color);
  cursor: pointer;
  display: flex;
  gap: 12px; /* 螟ｴ蜒丞柱蜀�ｮｹ逧�龍霍� */
  align-items: flex-start;
}
.search-result-item:hover {
  background-color: #f5f5f5;
}
#phone-screen.dark-mode .search-result-item:hover {
  background-color: #2c2c2e;
}

/* 扈捺棡荳ｭ逧�､ｴ蜒� */
.search-result-item .avatar {
  width: 36px;
  height: 36px;
  border-radius: 50%;
  flex-shrink: 0;
}

/* 扈捺棡蜿ｳ萓ｧ菫｡諱ｯ�亥錐蟄励∵慮髣ｴ縲∝�螳ｹ�� */
.search-result-info {
  display: flex;
  flex-direction: column;
  gap: 4px; /* 菫｡諱ｯ蜀�Κ逧�桙逶ｴ髣ｴ霍� */
  overflow: hidden; /* 髦ｲ豁｢蜀�ｮｹ霑�柄貅｢蜃ｺ */
}

/* 蜷榊ｭ怜柱譌ｶ髣ｴ逧�ｮｹ蝎ｨ */
.search-result-meta {
  display: flex;
  justify-content: space-between;
  align-items: center;
  font-size: 12px;
  color: var(--text-secondary);
}

.search-result-meta .name {
  font-weight: 600;
  color: var(--text-primary);
  font-size: 14px;
}

/* 豸域�蜀�ｮｹ */
.search-result-content {
  font-size: 14px;
  line-height: 1.5;
  word-break: break-all; /* 遑ｮ菫晞柄譁�悽閭ｽ謐｢陦� */
}

/* 縲先�ｸ蠢�大�髞ｮ隸埼ｫ倅ｺｮ譬ｷ蠑� */
.highlight {
  background-color: #ffde5c; /* 莠ｮ鮟�牡閭梧勹 */
  color: #5d4037; /* 豺ｱ譽戊牡譁�ｭ暦ｼ悟ｯｹ豈疲峩貂�匆 */
  font-weight: bold;
  padding: 1px 3px;
  border-radius: 3px;
}

/* 霍ｳ霓ｬ蜷取ｶ域�逧�略辜∝勘逕ｻ */
@keyframes flash-highlight {
  0% {
    background-color: transparent;
  }
  25% {
    background-color: rgba(255, 222, 92, 0.7);
  }
  100% {
    background-color: transparent;
  }
}
.message-bubble.flash {
  animation: flash-highlight 1.5s ease-out;
}
/* 笆ｲ笆ｲ笆ｲ 譁ｰ譬ｷ蠑冗ｲ倩ｴｴ扈捺據 笆ｲ笆ｲ笆ｲ */
/* 笆ｼ笆ｼ笆ｼ 縲先怙扈井ｿｮ螟阪題ｧ｣蜀ｳ謳懃ｴ｢扈捺棡逵倶ｸ崎ｧ∫噪髣ｮ鬚� 笆ｼ笆ｼ笆ｼ */
#chat-search-screen .form-container {
  padding-bottom: 20px; /* 扈吝ｺ暮Κ荳轤ｹ遨ｺ髣ｴ */
}

#search-results-list {
  flex-grow: 1; /* 譬ｸ蠢�ｼ夊ｮｩ扈捺棡蛻苓｡ｨ蜊�謐ｮ謇譛牙黄菴咏噪蝙ら峩遨ｺ髣ｴ */
  overflow-y: auto; /* 譬ｸ蠢�ｼ壼ｦよ棡扈捺棡螟ｪ螟夲ｼ瑚ｮｩ螳��蟾ｱ蜃ｺ邇ｰ貊壼勘譚｡ */
  min-height: 0; /* 荳荳ｪ逾槫･�噪CSS螻樊ｧ�檎畑莠手ｧ｣蜀ｳflex蟶�ｱ荳狗噪貅｢蜃ｺ髣ｮ鬚� */
  border-top: 1px solid var(--border-color); /* 蝨ｨ扈捺棡蜥梧潔髓ｮ荵矩龍蜉�荳譚｡蛻�牡郤ｿ�梧峩鄒手ｧ� */
  margin-top: 15px; /* 蜥御ｸ企擇逧�潔髓ｮ諡牙ｼ霍晉ｦｻ */
  padding-top: 10px; /* 蛻苓｡ｨ鬘ｶ驛ｨ逧��霎ｹ霍� */
}
/* 笆ｲ笆ｲ笆ｲ 菫ｮ螟咲ｻ捺據 笆ｲ笆ｲ笆ｲ */
/* 笆ｼ笆ｼ笆ｼ 謚願ｿ呎ｮｵ譁ｰ譬ｷ蠑冗ｲ倩ｴｴ蛻ｰ <style> 逧�忰蟆ｾ 笆ｼ笆ｼ笆ｼ */

/* 扈滉ｸ譬ｷ蠑擾ｼ瑚ｮｩ蝗ｾ譬�柱譁�ｭ玲潔髓ｮ蟇ｹ鮨� */
#music-playlist-panel .playlist-header .panel-btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
}

/* 笆ｼ笆ｼ笆ｼ 逕ｨ霑吝摎譁ｰ莉｣遐∵崛謐｢譌ｧ逧�档蝨ｾ譯ｶ譬ｷ蠑� 笆ｼ笆ｼ笆ｼ */

/* 隶ｾ鄂ｮ蝙�慇譯ｶ蝗ｾ譬�噪鮟倩ｮ､譬ｷ蠑� */
#delete-expired-songs-btn svg {
  color: inherit; /* 譬ｸ蠢�ｿｮ謾ｹ1: 蟷ｳ譌ｶ鬚懆牡扈ｧ謇ｿ辷ｶ蜈�ｴ��悟柱"譛ｬ蝨ｰ"遲画枚蟄鈴｢懆牡荳譬ｷ�御ｿ晄戟菴手ｰ� */
  transition: color 0.2s, transform 0.2s; /* 豺ｻ蜉�transform霑�ｸ｡謨域棡 */
  transform: translateY(3px); /* 譬ｸ蠢�ｿｮ謾ｹ2: 隶ｩ蝗ｾ譬�紛菴謎ｸ狗ｧｻ3蜒冗ｴ��瑚ｧ�ｧ我ｸ頑峩蟇ｹ鮨� */
}

/* 隶ｾ鄂ｮ鮠�譬�ぎ蛛�/轤ｹ蜃ｻ譌ｶ逧��ｷ蠑� */
#delete-expired-songs-btn:hover svg,
#delete-expired-songs-btn:active svg {
  color: #ff3b30; /* 譬ｸ蠢�ｿｮ謾ｹ3: 鮠�譬�叛荳雁悉謌也せ蜃ｻ譌ｶ�梧燕蜿倅ｸｺ驢堤岼逧�ｺ｢濶ｲ */
}

/* 笆ｲ笆ｲ笆ｲ 譖ｿ謐｢扈捺據 笆ｲ笆ｲ笆ｲ */
/* 笆ｼ笆ｼ笆ｼ 謚願ｿ吩ｸ謨ｴ蝮怜�譁ｰ逧ГSS�檎ｲ倩ｴｴ蛻ｰ <style> 逧�忰蟆ｾ 笆ｼ笆ｼ笆ｼ */

/* 縲先�ｸ蠢�台ｸ馴葎荳ｺ隗定牡謇区惻驥檎噪譌･隶ｰ蛻�髯､謖蛾聴�碁㍾譁ｰ螳壻ｹ我ｽ咲ｽｮ */
#character-diary-list .character-data-item .item-delete-btn {
  top: auto; /* 隗｣髯､鬘ｶ驛ｨ逧�ｮ壻ｽ� */
  right: auto; /* 隗｣髯､蜿ｳ萓ｧ逧�ｮ壻ｽ� */
  bottom: 8px; /* 螳壻ｽ榊芦霍晉ｦｻ蠎暮Κ8蜒冗ｴ� */
  left: 8px; /* 螳壻ｽ榊芦霍晉ｦｻ蟾ｦ萓ｧ8蜒冗ｴ� */
  opacity: 0; /* 菫晄戟鮟倩ｮ､髫占酪 */
  transition: opacity 0.2s ease; /* 菫晄戟豺｡蜈･豺｡蜃ｺ蜉ｨ逕ｻ */
}

/* 縲千ｾ主喧縲鷹ｼ�譬�ぎ蛛懷惠謨ｴ蠑�譌･隶ｰ蜊｡迚�ｸ頑慮�梧燕譏ｾ遉ｺ霑吩ｸｪ謖蛾聴 */
#character-diary-list .character-data-item:hover .item-delete-btn {
  opacity: 1;
}

/* 笆ｲ笆ｲ笆ｲ 邊倩ｴｴ扈捺據 笆ｲ笆ｲ笆ｲ */
/* 笆ｼ笆ｼ笆ｼ 縲仙�譁ｰ縲大ｿ�｣ｰ蜉溯�譬ｷ蠑� 笆ｼ笆ｼ笆ｼ */

/* 1. 霍ｳ蜉ｨ逧�ｿ�勘逕ｻ */
@keyframes heartbeat {
  0% {
    transform: scale(1);
  }
  50% {
    transform: scale(1.2);
  }
  100% {
    transform: scale(1);
  }
}
#char-heart-btn svg {
  animation: heartbeat 1.5s infinite ease-in-out;
}

/* 2. 蠢�｣ｰ髱｢譚ｿ荳ｻ蜀�ｮｹ譬ｷ蠑� (蟾ｲ菫ｮ螟�) */
#inner-voice-avatar-wrapper::after {
  content: '';
  position: absolute;
  top: -3px;
  left: -3px;
  right: -3px;
  bottom: -3px;
  border: 1.5px solid transparent; /* 鮟倩ｮ､譏ｯ騾乗�霎ｹ譯�ｼ檎恚荳崎ｧ� */
  border-radius: 50%;
  pointer-events: none;
  transition: border-color 0.2s ease-in-out; /* 豺ｻ蜉�蟷ｳ貊題ｿ�ｸ｡ */
}
/* 縲先�ｸ蠢�台ｻ�ｽ捺ｲ｡譛牙､ｴ蜒乗｡�慮(.has-border)�梧燕譏ｾ遉ｺ郤｢郤ｿ */
#inner-voice-avatar-wrapper.has-border::after {
  border-color: #ff8a80; /* 菴�諠ｳ隕∫噪郤｢濶ｲ霓ｮ蟒鍋ｺｿ */
}

#inner-voice-content-area p {
  white-space: pre-wrap; /* 隶ｩ謐｢陦檎ｬｦ蜥檎ｩｺ譬ｼ逕滓譜 */
  word-break: break-word; /* 髦ｲ豁｢髟ｿ蜊戊ｯ肴ｺ｢蜃ｺ */
}

/* 3. 蜴�彰隶ｰ蠖暮擇譚ｿ譬ｷ蠑� */
.inner-voice-history-item {
  background-color: #fff;
  margin: 10px;
  padding: 12px;
  border-radius: 8px;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.08);
}
.history-item-timestamp {
  font-size: 11px;
  color: #999;
  border-bottom: 1px solid #eee;
  padding-bottom: 8px;
  margin-bottom: 8px;
}
.history-item-content p {
  margin: 0 0 8px 0;
  font-size: 13px;
  line-height: 1.5;
  color: #444;
}
.history-item-content strong {
  font-size: 12px;
}
/* 笆ｲ笆ｲ笆ｲ 蠢�｣ｰ蜉溯�譬ｷ蠑冗ｻ捺據 笆ｲ笆ｲ笆ｲ */
/* 縲仙�譁ｰ縲大ｿ�｣ｰ蜴�彰隶ｰ蠖募黒譚｡蛻�髯､謖蛾聴譬ｷ蠑� */
.inner-voice-history-item {
  position: relative; /* 隶ｩ蛻�髯､謖蛾聴蜿ｯ莉･逶ｸ蟇ｹ莠主ｮ�ｮ壻ｽ� */
}

.history-item-delete-btn {
  position: absolute;
  top: 8px;
  right: 8px;
  width: 24px;
  height: 24px;
  border-radius: 50%;
  background-color: #f0f0f0;
  color: #888;
  border: none;
  cursor: pointer;
  font-size: 18px;
  line-height: 24px;
  text-align: center;
  transition: all 0.2s ease;
}

.history-item-delete-btn:hover {
  background-color: #ff3b30;
  color: white;
}
/* 笆ｼ笆ｼ笆ｼ 蝨ｨ霑咎㈹蠑蟋句､榊宛�壹蝉ｸｻ鬚倩牡迚医大庄辷ｱ蝨�ｶｦ謖蛾聴譬ｷ蠑� 笆ｼ笆ｼ笆ｼ */

/* --- 1. 蜀肴ｬ｡隶ｾ鄂ｮ騾夂畑逧�懷庄辷ｱ蝓ｺ遑窶� --- */
#save-theme-btn,
#save-as-new-theme-btn,
#export-theme-btn,
#import-theme-btn,
#rename-theme-btn,
#delete-theme-btn {
  border: none;
  border-radius: 25px; /* 蜿ｯ辷ｱ逧�Ω蝗雁ｽ｢迥ｶ */
  padding: 12px 18px;
  font-weight: 600;
  cursor: pointer;
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.08);
  transition: all 0.2s ease-in-out;
  margin-top: 5px !important;
}

/* --- 2. 蜿ｯ辷ｱ逧�懈潔荳銀晄譜譫� --- */
#save-theme-btn:active,
#save-as-new-theme-btn:active,
#export-theme-btn:active,
#import-theme-btn:active,
#rename-theme-btn:active,
#delete-theme-btn:active {
  transform: scale(0.97);
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}

/* --- 3. 縲先�ｸ蠢�ｿｮ謾ｹ縲台ｸｺ荳榊酔蜉溯�逧�潔髓ｮ隶ｾ鄂ｮ驟榊･鈴｢懆牡 --- */

/* 窶應ｿ晏ｭ倪� 蜥� 窶懷嘗蟄倅ｸｺ窶晢ｼ壻ｽｿ逕ｨ蜈ｨ螻荳ｻ鬚倩牡�� */
#save-theme-btn,
#save-as-new-theme-btn {
  background-color: var(--accent-color); /* 霑吝ｰｱ譏ｯ菴�逧�ｸｻ鬚倩牡�� */
  color: white;
}

/* 窶懷ｯｼ蜃ｺ窶昴≫懷ｯｼ蜈･窶昴≫憺㍾蜻ｽ蜷坂晢ｼ壻ｽｿ逕ｨ譟泌柱逧�ｬ｡隕∵�ｷ蠑� */
#export-theme-btn,
#import-theme-btn,
#rename-theme-btn {
  background-color: #f0f2f5; /* 豺｡豺｡逧��濶ｲ閭梧勹 */
  color: var(--accent-color); /* 譁�ｭ嶺ｽｿ逕ｨ荳ｻ鬚倩牡 */
  border: 1px solid var(--accent-color); /* 蜀榊刈荳荳ｪ荳ｻ鬚倩牡逧�ｾｹ譯�ｼ梧峩邊ｾ閾ｴ */
}

/* 窶懷唖髯､窶晄潔髓ｮ�夊ｿ俶弍逕ｨ蜿ｯ辷ｱ逧�ｲ臥ｺ｢濶ｲ譚･謠宣��碁亟豁｢隸ｯ隗ｦ */
#delete-theme-btn {
  background-color: #ffdde5; /* 豺｡豺｡逧�ｨｱ闃ｱ邊芽レ譎ｯ */
  color: #ff3b30; /* 譁�ｭ礼畑驢堤岼逧�ｺ｢濶ｲ */
  border: 1px solid #ffc2d1;
}

/* --- 4. 鮠�譬�叛蛻ｰ荳榊酔謖蛾聴荳頑慮逧�｢懆牡蜿伜喧 --- */
#save-theme-btn:hover,
#save-as-new-theme-btn:hover {
  opacity: 0.85; /* 荳ｻ鬚倩牡謖蛾聴蜿俶ｷ｡荳轤ｹ轤ｹ */
}

#export-theme-btn:hover,
#import-theme-btn:hover,
#rename-theme-btn:hover {
  background-color: #e9ecef; /* 谺｡隕∵潔髓ｮ閭梧勹蜉�豺ｱ荳轤ｹ轤ｹ */
}

#delete-theme-btn:hover {
  background-color: #ffc2d1; /* 蛻�髯､謖蛾聴閭梧勹蜉�豺ｱ荳轤ｹ轤ｹ */
}

/* 笆ｲ笆ｲ笆ｲ 螟榊宛蛻ｰ霑咎㈹扈捺據 笆ｲ笆ｲ笆ｲ */
/* 笆ｼ笆ｼ笆ｼ 隸ｷ蟆�ｿ呎ｮｵ譁ｰCSS邊倩ｴｴ蛻ｰ <style> 逧�忰蟆ｾ 笆ｼ笆ｼ笆ｼ */
.action-icon.summon-npc svg {
  stroke-width: 1.5; /* 隶ｩ蝗ｾ譬�ｺｿ譚｡遞榊ｾｮ邊嶺ｸ轤ｹ�梧峩貂�匆 */
}
/* 笆ｲ笆ｲ笆ｲ 譁ｰCSS邊倩ｴｴ扈捺據 笆ｲ笆ｲ笆ｲ */
/* 笆ｼ笆ｼ笆ｼ 隸ｷ逕ｨ荳矩擇霑吶蝉ｸ謨ｴ蝮怜ｸｦ譛芽ｯｦ扈�ｳｨ驥翫醍噪莉｣遐�ｼ悟ｮ梧紛譖ｿ謐｢謗我ｽ�譌ｧ逧�ｾｮ蜊壻ｸｻ鬘ｵ蟶�ｱCSS 笆ｼ笆ｼ笆ｼ */

/* 1. 荳ｪ莠ｺ荳ｻ鬘ｵ逧�ｻ壼勘螳ｹ蝎ｨ (菫晄戟荳榊序) */
#weibo-profile-page {
  flex-grow: 1;
  overflow-y: auto;
  background-color: #f0f2f5;
}

/* 2. 螟ｴ驛ｨ螳ｹ蝎ｨ�夊ｴ溯ｴ｣閭梧勹蝗ｾ�悟ｹｶ荳ｺ荳区婿蜀�ｮｹ逡吝�遨ｺ髣ｴ */
.weibo-profile-header {
  position: relative;
  height: 240px;
  /* 
      笘��笘� 謇句勘隹�紛蛹ｺ�壼ｾｮ蜊壼�螳ｹ荳惹ｸ頑婿蛹ｺ蝓溽噪縲蝉ｸ贋ｸ矩龍霍昴� 笘��笘�
      霑吩ｸｪ蛟ｼ蜀ｳ螳壻ｺ�ｽ�逧�ｬｬ荳譚｡蠕ｮ蜊夲ｼ悟柱荳頑婿荳ｪ莠ｺ菫｡諱ｯ蛹ｺ蝓溽噪霍晉ｦｻ縲�
      - 謨ｰ蛟ｼ雜雁､ｧ�碁龍霍晁ｶ雁､ｧ�悟ｾｮ蜊壼�螳ｹ遖ｻ蠕苓ｶ願ｿ懊�
      - 謨ｰ蛟ｼ雜雁ｰ擾ｼ碁龍霍晁ｶ雁ｰ擾ｼ悟ｾｮ蜊壼�螳ｹ遖ｻ蠕苓ｶ願ｿ代�
      謌大ｷｲ蟆�ｮ�ｻ� 90px 蜃丞ｰ丞芦莠� 20px�御ｽ�蜿ｯ莉･譬ｹ謐ｮ蝟懷･ｽ蜀榊ｾｮ隹��
    */
  margin-bottom: -5px; /* 笘� 菫ｮ謾ｹ霑咎㈹ 笘� */
}

/* 3. 閭梧勹蝗ｾ譬ｷ蠑� (菫晄戟荳榊序) */
.weibo-background {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  object-fit: cover;
}

/* 4. 螟ｴ蜒丞ｮｹ蝎ｨ�壼ｮ樒鴫謔ｬ豬ｮ謨域棡逧��ｸ蠢� */
.weibo-avatar-container {
  position: absolute;
  z-index: 3;
  width: 80px;
  height: 80px;
  border: 3px solid white;
  border-radius: 50%;
  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
  transform: none;

  /* 笘��笘� 謇句勘隹�紛蛹ｺ1: 螟ｴ蜒丈ｽ咲ｽｮ (蟾ｦ蜿ｳ + 荳贋ｸ�) 笘��笘� */

  /* --- 蟾ｦ蜿ｳ菴咲ｽｮ --- */
  /* 謨ｰ蛟ｼ雜雁､ｧ�瑚ｶ雁ｾ蜿ｳ縲よ焚蛟ｼ雜雁ｰ擾ｼ瑚ｶ雁ｾ蟾ｦ縲�*/
  left: 15px; /* 笘� 菫ｮ謾ｹ霑咎㈹ */

  /* --- 荳贋ｸ倶ｽ咲ｽｮ --- */
  /* 謨ｰ蛟ｼ雜雁ｰ� (豈泌ｦ� -50px), 雜雁ｾ荳九よ焚蛟ｼ雜雁､ｧ (豈泌ｦ� -30px), 雜雁ｾ荳翫�*/
  bottom: 50px; /* 笘� 菫ｮ謾ｹ霑咎㈹ */
}

.weibo-avatar {
  width: 100%;
  height: 100%;
  border-radius: 50%;
  object-fit: cover;
}

/* 5. 譏ｵ遘ｰ蜥瑚′荳壻ｿ｡諱ｯ */
/* 笘��笘� 謇句勘隹�紛蛹ｺ2: 譏ｵ遘ｰ菴咲ｽｮ (蟾ｦ蜿ｳ + 荳贋ｸ�) 笘��笘� */
.weibo-nickname {
  position: absolute;
  z-index: 2;
  color: #1f1f1f;
  text-shadow: none;
  font-size: 18px;
  font-weight: 600;

  /* --- 蟾ｦ蜿ｳ菴咲ｽｮ --- */
  /* 謨ｰ蛟ｼ雜雁､ｧ�瑚ｶ雁ｾ蜿ｳ縲よ焚蛟ｼ雜雁ｰ擾ｼ瑚ｶ雁ｾ蟾ｦ縲�*/
  left: 35px; /* 笘� 菫ｮ謾ｹ霑咎㈹ */

  /* --- 荳贋ｸ倶ｽ咲ｽｮ --- */
  /* 謨ｰ蛟ｼ雜雁ｰ� (豈泌ｦ� -60px), 雜雁ｾ荳九よ焚蛟ｼ雜雁､ｧ (豈泌ｦ� -50px), 雜雁ｾ荳翫�*/
  bottom: 30px; /* 笘� 菫ｮ謾ｹ霑咎㈹ */
}

/* 笆ｼ笆ｼ笆ｼ 逕ｨ霑吝摎譁ｰCSS譖ｿ謐｢謗画立逧� 笆ｼ笆ｼ笆ｼ */
#weibo-user-profession-display {
  position: absolute;
  left: 35px; /* 菫ｮ謾ｹ�壻ｻ� left 謾ｹ荳ｺ right�瑚ｮｩ螳�擒蜿ｳ蟇ｹ鮨� */
  bottom: -5px; /* 菫ｮ謾ｹ�夊ｰ�紛蝙ら峩菴咲ｽｮ�悟惠螟ｴ蜒丈ｸ区婿 */
  z-index: 2;
  font-size: 13px;
  color: #8a8a8a;
  text-shadow: none;
  text-align: right; /* 譁ｰ蠅橸ｼ夊ｮｩ譁�ｭ玲悽霄ｫ荵滄擒蜿ｳ蟇ｹ鮨撰ｼ梧峩鄒手ｧ� */
  cursor: pointer; /* 譁ｰ蠅橸ｼ夐ｼ�譬�叛荳雁悉譌ｶ譏ｾ遉ｺ荳ｺ蟆乗焔蠖｢迥ｶ */
}

/* 6. 蜈ｳ豕ｨ/邊我ｸ�/蠕ｮ蜊壽焚謐ｮ */
/* 笘��笘� 謇句勘隹�紛蛹ｺ3: 蜈ｳ豕ｨ/邊我ｸ�/蠕ｮ蜊� 菴咲ｽｮ (蟾ｦ蜿ｳ + 荳贋ｸ�) 笘��笘� */
.weibo-stats {
  position: absolute;
  z-index: 2;
  display: flex;
  gap: 20px;

  /* --- 蟾ｦ蜿ｳ菴咲ｽｮ --- */
  /* 謨ｰ蛟ｼ雜雁､ｧ�瑚ｶ雁ｾ蜿ｳ縲よ焚蛟ｼ雜雁ｰ擾ｼ瑚ｶ雁ｾ蟾ｦ縲�*/
  left: 35px; /* 笘� 菫ｮ謾ｹ霑咎㈹ */

  /* --- 荳贋ｸ倶ｽ咲ｽｮ --- */
  /* 謨ｰ蛟ｼ雜雁ｰ� (豈泌ｦ� -90px), 霑呵｡梧焚謐ｮ雜雁ｾ荳九よ焚蛟ｼ雜雁､ｧ (豈泌ｦ� -70px), 雜雁ｾ荳翫�*/
  bottom: 15px; /* 笘� 菫ｮ謾ｹ霑咎㈹ */
}

/* 7. 蜊穂ｸｪ謨ｰ謐ｮ鬘ｹ譬ｷ蠑� (菫晄戟荳榊序) */
.weibo-stat-item {
  display: flex;
  flex-direction: row;
  align-items: baseline;
  gap: 5px;
}
.weibo-stat-number {
  font-size: 14px;
  font-weight: 600;
  color: #333;
  text-shadow: none;
}
.weibo-stat-label {
  font-size: 13px;
  color: #888;
  text-shadow: none;
}

/* 8. 蠕ｮ蜊哥eed蛻苓｡ｨ (菫晄戟荳榊序) */
#my-weibo-feed-list {
  padding-top: 15px;
}

/* 笆ｲ笆ｲ笆ｲ 蠕ｮ蜊壽�ｷ蠑乗崛謐｢扈捺據 笆ｲ笆ｲ笆ｲ */

/* 笆ｼ笆ｼ笆ｼ 縲仙�譁ｰ縲大ｾｮ蜊夐｡ｵ髱｢譯�楔蜥悟ｺ暮Κ蟇ｼ闊ｪ譬ｷ蠑� 笆ｼ笆ｼ笆ｼ */
#weibo-screen {
  display: flex;
  flex-direction: column;
}
.weibo-view {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  display: none; /* 鮟倩ｮ､髫占酪謇譛蛾｡ｵ髱｢ */
  flex-direction: column;
  background-color: #f0f2f5;
}
.weibo-view.active {
  display: flex; /* 蜿ｪ譏ｾ遉ｺ豼豢ｻ逧�｡ｵ髱｢ */
}
/* 笆ｼ笆ｼ笆ｼ 縲仙ｸ�ｱ扈滉ｸ菫ｮ螟咲沿縲醍畑霑吝摎莉｣遐∝ｮ梧紛譖ｿ謐｢謗我ｽ�譌ｧ逧� #weibo-bottom-nav 譬ｷ蠑� 笆ｼ笆ｼ笆ｼ */
#weibo-bottom-nav {
  /* --- 譬ｸ蠢�ｿｮ謾ｹ --- */
  position: absolute; /* 1. 謾ｹ荳ｺ扈晏ｯｹ螳壻ｽ搾ｼ瑚ｮｩ螳�ｵｮ蜉ｨ襍ｷ譚･ */
  bottom: 0; /* 2. 蝗ｺ螳壼惠蠎暮Κ */
  left: 0; /* 3. 蟾ｦ萓ｧ蟇ｹ鮨� */
  width: 100%; /* 4. 螳ｽ蠎ｦ謦第ｻ｡ */

  /* --- 蜈ｶ莉匁�ｷ蠑丈ｿ晄戟荳榊序 --- */
  z-index: 15;
  display: flex;
  border-top: 1px solid var(--border-color);
  background-color: rgba(247, 247, 247, 0.9);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  padding-bottom: env(safe-area-inset-bottom);
}
/* 笆ｲ笆ｲ笆ｲ 譖ｿ謐｢扈捺據 笆ｲ笆ｲ笆ｲ */

.weibo-nav-item {
  flex: 1;
  text-align: center;
  padding: 12px 0;
  font-size: 14px;
  color: var(--text-secondary);
  cursor: pointer;
}
.weibo-nav-item.active {
  color: var(--accent-color);
  font-weight: 600;
}
/* 笆ｲ笆ｲ笆ｲ 蠕ｮ蜊壽｡�楔譬ｷ蠑冗ｻ捺據 笆ｲ笆ｲ笆ｲ */

/* 笆ｼ笆ｼ笆ｼ 縲仙�譁ｰ縲大ｾｮ蜊壼�豕ｨ蛻苓｡ｨ蠑ｹ遯玲�ｷ蠑� 笆ｼ笆ｼ笆ｼ */
#weibo-following-list-container {
  height: 100%;
  overflow-y: auto; /* 縲先�ｸ蠢�大�螳ｹ雜��譌ｶ譏ｾ遉ｺ蝙ら峩貊壼勘譚｡ */
}
.weibo-following-item {
  display: flex;
  align-items: center;
  padding: 10px 15px;
  border-bottom: 1px solid #f0f0f0;
}
.weibo-following-item:last-child {
  border-bottom: none;
}
.weibo-following-avatar {
  width: 40px;
  height: 40px;
  border-radius: 50%;
  margin-right: 12px;
  object-fit: cover;
}
.weibo-following-name {
  font-weight: 500;
  color: var(--text-primary);
}
/* 笆ｲ笆ｲ笆ｲ 蜈ｳ豕ｨ蛻苓｡ｨ譬ｷ蠑冗ｻ捺據 笆ｲ笆ｲ笆ｲ */

/* 笆ｼ笆ｼ笆ｼ 縲仙�譁ｰ縲題ｮｩ荳ｪ莠ｺ荳ｻ鬘ｵ蜿ｯ郛冶ｾ醍噪蜈�ｴ�譛臥せ蜃ｻ謇句漢 笆ｼ笆ｼ笆ｼ */
#weibo-avatar-img,
#weibo-nickname,
#weibo-posts-item, /* 謌台ｻｬ隶ｩ謨ｴ荳ｪ窶懷ｾｮ蜊壺晏玄蝓溷庄轤ｹ蜃ｻ */
#weibo-fans-item,  /* 謨ｴ荳ｪ窶懃ｲ我ｸ昶晏玄蝓溷庄轤ｹ蜃ｻ */
#weibo-background-img /* 閭梧勹蝗ｾ荵溷庄轤ｹ蜃ｻ */ {
  cursor: pointer;
  transition: opacity 0.2s;
}
#weibo-avatar-img:hover,
#weibo-nickname:hover,
#weibo-posts-item:hover,
#weibo-fans-item:hover,
#weibo-background-img:hover {
  opacity: 0.8; /* 鮠�譬�叛荳雁悉譌ｶ蜿俶ｷ｡荳轤ｹ�檎ｻ咏畑謌ｷ蜿埼ｦ� */
}
/* 笆ｲ笆ｲ笆ｲ 轤ｹ蜃ｻ謇句漢譬ｷ蠑冗ｻ捺據 笆ｲ笆ｲ笆ｲ */
/* 笆ｼ笆ｼ笆ｼ 隸ｷ逕ｨ霑吝摎譁ｰ莉｣遐∵崛謐｢譌ｧ逧� #weibo-page-container 譬ｷ蠑� 笆ｼ笆ｼ笆ｼ */
#weibo-page-container {
  flex-grow: 1;
  position: relative;
  overflow: hidden;
  /* 譬ｸ蠢�ｿｮ謾ｹ�壻ｸｺ扈晏ｯｹ螳壻ｽ咲噪蟇ｼ闊ｪ譬城｢�蕗蜃ｺ遨ｺ髣ｴ�碁亟豁｢蜀�ｮｹ陲ｫ驕ｮ謖｡ */
  /* 50px 譏ｯ蟇ｼ闊ｪ譬冗噪螟ｧ閾ｴ鬮伜ｺｦ�憩nv() 逕ｨ莠朱る�iPhone蠎暮Κ逧�ｰ城ｻ第擅 */
  padding-bottom: calc(50px + env(safe-area-inset-bottom));
  box-sizing: border-box; /* 遑ｮ菫晏�霎ｹ霍晁｢ｫ豁｣遑ｮ隶｡邂怜惠蜀� */
}
/* 笆ｲ笆ｲ笆ｲ 譖ｿ謐｢扈捺據 笆ｲ笆ｲ笆ｲ */

/* 笆ｲ笆ｲ笆ｲ 譖ｿ謐｢扈捺據 笆ｲ笆ｲ笆ｲ */

/* 遑ｮ菫昜ｸｪ莠ｺ荳ｻ鬘ｵ逧��螳ｹ蜿ｯ莉･貊壼勘 */
#weibo-profile-page {
  overflow-y: auto;
  height: 100%;
}
/* 笆ｲ笆ｲ笆ｲ 菫ｮ螟垢SS扈捺據 笆ｲ笆ｲ笆ｲ */

/* 笆ｲ笆ｲ笆ｲ 菫ｮ螟垢SS扈捺據 笆ｲ笆ｲ笆ｲ */
/* 笆ｼ笆ｼ笆ｼ 縲先怙扈井ｿｮ螟阪第署蜊�ｾｮ蜊壼�豕ｨ蛻苓｡ｨ蠑ｹ遯礼噪螻らｺｧ 笆ｼ笆ｼ笆ｼ */
#weibo-following-modal {
  z-index: 1001; /* 遑ｮ菫晏ｮ��隕�尠蝨ｨ蜈ｶ莉夜｡ｵ髱｢荵倶ｸ� */
}
/* 笆ｲ笆ｲ笆ｲ 菫ｮ螟咲ｻ捺據 笆ｲ笆ｲ笆ｲ */
/* 笆ｼ笆ｼ笆ｼ 謚願ｿ吩ｸ謨ｴ蝮怜�譁ｰ逧�ｾｮ蜊壼ｸ門ｭ先�ｷ蠑擾ｼ檎ｲ倩ｴｴ蛻ｰ <style> 譬�ｭｾ逧�怙譛ｫ蟆ｾ 笆ｼ笆ｼ笆ｼ */

/* 笆ｼ笆ｼ笆ｼ 謚願ｿ吩ｸ謨ｴ蝮怜�譁ｰ逧�ｾｮ蜊壼ｸ門ｭ先�ｷ蠑擾ｼ檎ｲ倩ｴｴ蛻ｰ <style> 譬�ｭｾ逧�怙譛ｫ蟆ｾ 笆ｼ笆ｼ笆ｼ */

/* === 蠕ｮ蜊壼ｸ門ｭ蝉ｸ灘ｱ樊�ｷ蠑� (蟾ｲ蜥悟勘諤∝�遖ｻ) === */
/* === 蠕ｮ蜊壼ｸ門ｭ蝉ｸ灘ｱ樊�ｷ蠑� (蝨�ｧ貞今迚�沿) === */
.weibo-post-item {
  background-color: var(--secondary-bg);
  border-radius: 12px; /* 笘� 菫ｮ謾ｹ霑咎㈹�悟｢槫刈蝨�ｧ抵ｼ瑚ｮｩ螳�序蠕怜怕豸ｦ蜿ｯ辷ｱ */
  padding: 15px;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.06); /* 笘� 譁ｰ蠅樊沐蜥檎噪髦ｴ蠖ｱ�瑚是騾�蜊｡迚�ぎ豬ｮ諢� */
  /* 笘� 譌ｧ逧� border-bottom 蛻�牡郤ｿ蟾ｲ扈剰｢ｫ遘ｻ髯､莠�ｼ檎鴫蝨ｨ逕ｱ辷ｶ螳ｹ蝎ｨ逧� gap 螻樊ｧ雍溯ｴ｣髣ｴ霍� */
}
.weibo-post-item:last-child {
  /* 霑吩ｸｪ隗��邇ｰ蝨ｨ荵滉ｸ埼怙隕∽ｺ�ｼ御ｽ�ｿ晉蕗逹荵滓ｲ｡蜈ｳ邉ｻ */
  border-bottom: none;
}

.weibo-post-header {
  display: flex;
  align-items: center;
  gap: 10px;
  margin-bottom: 12px;
}

.weibo-post-avatar {
  width: 40px;
  height: 40px;
  border-radius: 50%;
  object-fit: cover;
}

.weibo-post-info {
  display: flex;
  flex-direction: column;
}

.weibo-post-nickname {
  font-weight: 600;
  font-size: 15px;
  color: var(--text-primary);
}

.weibo-post-timestamp {
  font-size: 12px;
  color: var(--text-secondary);
}

.weibo-post-content {
  font-size: 15px; /* 蠕ｮ蜊壽ｭ｣譁�ｭ嶺ｽ鍋ｨ榊､ｧ */
  line-height: 1.7;
  color: #333;
  white-space: pre-wrap;
  word-break: break-word;
  margin-bottom: 10px;
}

.weibo-post-image {
  width: 100%;
  max-height: 400px;
  object-fit: cover;
  border-radius: 8px;
  margin-bottom: 10px;
}

.weibo-post-footer {
  border-top: 1px solid #f0f0f0;
  padding-top: 8px;
  margin-top: 10px;
}

.weibo-post-actions {
  display: flex;
  justify-content: space-around; /* 荳我ｸｪ謖蛾聴蝮��遨ｺ髣ｴ */
  margin-bottom: 10px;
}

.weibo-action-btn {
  display: flex;
  align-items: center;
  gap: 6px;
  color: var(--text-secondary);
  cursor: pointer;
  font-size: 14px;
}
.weibo-action-btn.liked {
  color: #ff5252; /* 轤ｹ襍槫錘蜿倡ｺ｢ */
}
.weibo-action-btn svg {
  width: 20px;
  height: 20px;
}

.weibo-comments-container {
  padding: 10px;
  background-color: #f7f7f7;
  border-radius: 8px;
  font-size: 13px;
  display: flex;
  flex-direction: column;
  gap: 8px;
  margin-bottom: 10px;
}

.weibo-comment-item .weibo-commenter-name {
  font-weight: 600;
  color: var(--accent-color);
}
.weibo-comment-item .weibo-comment-reply-tag {
  color: var(--text-secondary);
  margin: 0 4px;
}

.weibo-comment-input-area {
  display: flex;
  gap: 8px;
}

.weibo-comment-input {
  flex-grow: 1;
  border: none;
  background-color: #f0f2f5;
  border-radius: 14px;
  padding: 8px 12px;
  font-size: 13px;
}

.weibo-comment-send-btn {
  background-color: var(--accent-color);
  color: white;
  border: none;
  border-radius: 14px;
  padding: 0 15px;
  font-size: 13px;
  cursor: pointer;
}
/* 笆ｲ笆ｲ笆ｲ 蠕ｮ蜊壻ｸ灘ｱ樊�ｷ蠑冗ｻ捺據 笆ｲ笆ｲ笆ｲ */
/* 笆ｲ笆ｲ笆ｲ 邊倩ｴｴ扈捺據 笆ｲ笆ｲ笆ｲ */
/* 笆ｼ笆ｼ笆ｼ 謚願ｿ呎ｮｵ譁ｰ譬ｷ蠑冗ｲ倩ｴｴ蛻ｰ <style> 逧�忰蟆ｾ 笆ｼ笆ｼ笆ｼ */

/* 蜊墓擅隸�ｮｺ逧�ｮｹ蝎ｨ�檎鴫蝨ｨ髴隕∫嶌蟇ｹ螳壻ｽ搾ｼ悟ｹｶ荳ｺ蛻�髯､謖蛾聴逡吝�遨ｺ髣ｴ */
.weibo-comment-item {
  position: relative;
  padding-right: 25px;
}

/* 隸�ｮｺ蛻�髯､謖蛾聴逧��ｷ蠑� */
.comment-delete-btn {
  position: absolute;
  top: 50%;
  right: 0;
  transform: translateY(-50%);
  width: 22px;
  height: 22px;
  line-height: 22px;
  text-align: center;
  border-radius: 50%;
  color: var(--text-secondary);
  background-color: transparent; /* 閭梧勹騾乗� */
  border: none; /* 譌�霎ｹ譯� */
  font-size: 20px; /* 謾ｾ螟ｧ"ﾃ�"蜿ｷ */
  cursor: pointer;
  transition: all 0.2s ease;
  opacity: 0; /* 鮟倩ｮ､髫占酪 */
}

/* 鮠�譬�ぎ蛛懷惠謨ｴ譚｡隸�ｮｺ荳頑慮�梧燕譏ｾ遉ｺ蛻�髯､謖蛾聴 */
.weibo-comment-item:hover .comment-delete-btn {
  opacity: 1;
}

/* 鮠�譬�ぎ蛛懷惠蛻�髯､謖蛾聴荳頑慮�檎ｻ吩ｸ轤ｹ蜿埼ｦ域譜譫� */
.comment-delete-btn:hover {
  background-color: #f0f0f0;
  color: #ff3b30; /* 蜿倡ｺ｢濶ｲ */
}

#phone-screen.dark-mode .comment-delete-btn:hover {
  background-color: #3a3a3c; /* 螟憺龍讓｡蠑丈ｸ狗噪謔ｬ蛛懆レ譎ｯ濶ｲ */
}
/* 笆ｲ笆ｲ笆ｲ 譁ｰ譬ｷ蠑冗ｲ倩ｴｴ扈捺據 笆ｲ笆ｲ笆ｲ */
/* 笆ｼ笆ｼ笆ｼ 謚願ｿ吩ｸ謨ｴ蝮怜�譁ｰ逧�ｾｮ蜊夂Ο謳懈�ｷ蠑擾ｼ檎ｲ倩ｴｴ蛻ｰ <style> 譬�ｭｾ逧�怙譛ｫ蟆ｾ 笆ｼ笆ｼ笆ｼ */

/* === 蠕ｮ蜊夂Ο謳懷�陦ｨ譬ｷ蠑� === */
#weibo-hot-search-list {
  background-color: var(--secondary-bg);
}

.hot-search-item {
  display: flex;
  align-items: center;
  padding: 12px 15px;
  border-bottom: 1px solid var(--border-color);
  cursor: pointer;
  transition: background-color 0.2s;
}

.hot-search-item:hover {
  background-color: #f5f5f5;
}
#phone-screen.dark-mode .hot-search-item:hover {
  background-color: #2c2c2e;
}

.hot-search-rank {
  width: 30px;
  font-size: 16px;
  font-weight: bold;
  color: var(--text-secondary);
  text-align: center;
  flex-shrink: 0;
}
/* 蜑堺ｸ牙錐逕ｨ荳榊酔逧�｢懆牡遯∝�譏ｾ遉ｺ */
.hot-search-item[data-rank='1'] .hot-search-rank {
  color: #f44336;
}
.hot-search-item[data-rank='2'] .hot-search-rank {
  color: #ff9800;
}
.hot-search-item[data-rank='3'] .hot-search-rank {
  color: #ffc107;
}

.hot-search-content {
  flex-grow: 1;
  display: flex;
  align-items: center;
  gap: 8px;
  overflow: hidden;
}

.hot-search-topic {
  font-size: 15px;
  font-weight: 500;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.hot-search-tag {
  font-size: 10px;
  color: white;
  padding: 2px 6px;
  border-radius: 4px;
  flex-shrink: 0;
}
.hot-search-tag.hot {
  background-color: #f44336;
}
.hot-search-tag.new {
  background-color: #ff9800;
}
.hot-search-tag.rec {
  background-color: #2196f3;
}

/* 笆ｲ笆ｲ笆ｲ 蠕ｮ蜊夂Ο謳懈�ｷ蠑冗ｲ倩ｴｴ扈捺據 笆ｲ笆ｲ笆ｲ */
/* 笆ｼ笆ｼ笆ｼ 謚願ｿ吩ｸ謨ｴ蝮怜�譁ｰ逧ГSS�檎ｲ倩ｴｴ蛻ｰ <style> 譬�ｭｾ逧�怙譛ｫ蟆ｾ 笆ｼ笆ｼ笆ｼ */

/* 1. 隶ｩ蟶門ｭ仙､ｴ驛ｨ謌蝉ｸｺ蛻�髯､謖蛾聴逧�ｮ壻ｽ榊盾閠�せ */
.weibo-post-header {
  position: relative; /* 蜈ｳ髞ｮ�� */
}

/* 2. 蛻�髯､謖蛾聴逧��ｷ蠑� */
.weibo-post-delete-btn {
  position: absolute; /* 扈晏ｯｹ螳壻ｽ搾ｼ瑚ｮｩ螳�ｵｮ蜉ｨ襍ｷ譚･ */
  top: 10px; /* 霍晉ｦｻ鬘ｶ驛ｨ10蜒冗ｴ� */
  right: 15px; /* 霍晉ｦｻ蜿ｳ萓ｧ15蜒冗ｴ� */
  width: 26px;
  height: 26px;
  background-color: rgba(0, 0, 0, 0.08); /* 蜊企乗�逧�レ譎ｯ */
  color: var(--text-secondary); /* 菴ｿ逕ｨ蜈ｨ螻逧�ｬ｡隕∵枚蟄鈴｢懆牡 */
  border: none;
  border-radius: 50%; /* 蝨�ｽ｢ */
  font-size: 20px; /* "ﾃ�"蜿ｷ逧�､ｧ蟆� */
  line-height: 26px; /* 隶ｩ"ﾃ�"蜿ｷ蝙ら峩螻�ｸｭ */
  text-align: center;
  cursor: pointer;
  transition: all 0.2s ease; /* 豺ｻ蜉�蟷ｳ貊醍噪蜉ｨ逕ｻ謨域棡 */
}

/* 鮠�譬�叛荳雁悉譌ｶ�悟序謌宣�逶ｮ逧�ｺ｢濶ｲ */
.weibo-post-delete-btn:hover {
  background-color: #ff3b30;
  color: white;
  transform: scale(1.1); /* 霓ｻ蠕ｮ謾ｾ螟ｧ */
}

/* 笆ｲ笆ｲ笆ｲ 邊倩ｴｴ扈捺據 笆ｲ笆ｲ笆ｲ */
/* 笆ｼ笆ｼ笆ｼ 縲仙ｾｮ蜊壼ｸ�ｱ扈域栫菫ｮ螟阪醍悄豁｣隗｣蜀ｳ謇譛蛾｡ｵ髱｢貊壼勘荳榊芦蠎慕噪髣ｮ鬚� 笆ｼ笆ｼ笆ｼ */

/* 1. 螟門ｱょｮｹ蝎ｨ荳榊�髴隕≫懷椨蟄絶晢ｼ悟ｮ�噪莉ｻ蜉｡蜿ｪ譏ｯ謦大ｼ遨ｺ髣ｴ */
#weibo-page-container {
  flex-grow: 1;
  position: relative;
  overflow: hidden; /* 菫晄戟荳榊序 */
}

/* 2. 縲先�ｸ蠢�第滑窶懷椨蟄絶晏刈蛻ｰ逵滓ｭ｣貊壼勘逧��陦ｨ閾ｪ蟾ｱ霄ｫ荳奇ｼ� */
#weibo-profile-page,
#weibo-following-feed-list,
#weibo-hot-search-list,
#weibo-plaza-feed-list,
#weibo-hottopic-feed-list {
  flex-grow: 1;
  overflow-y: auto;

  /* 
       鬲疲ｳ募ｰｱ蝨ｨ霑咎㈹�∵�莉ｬ荳ｺ豈丈ｸｪ蛻苓｡ｨ逧�ｺ暮Κ��
       驛ｽ蜉�荳贋ｸ荳ｪ蜥悟ｯｼ闊ｪ譬丈ｸ譬ｷ鬮倡噪蜀�ｾｹ霍晢ｼ遺懷椨蟄絶晢ｼ峨�
       霑呎�ｷ蛻苓｡ｨ貊壼勘蛻ｰ蠎墓慮�梧怙蜷惹ｸ譚｡隸�ｮｺ蟆ｱ莨夊｢ｫ霑吩ｸｪ蜀�ｾｹ霍晏髄荳頑耳��
       豁｣螂ｽ譏ｾ遉ｺ蝨ｨ蠎暮Κ蟇ｼ闊ｪ譬冗噪荳頑婿�御ｸ堺ｼ壼�陲ｫ謖｡菴丈ｺ�ｼ�
    */
  padding-bottom: calc(50px + env(safe-area-inset-bottom));
  box-sizing: border-box; /* 遑ｮ菫晏�霎ｹ霍晁｢ｫ豁｣遑ｮ隶｡邂� */
}

/* 笆ｲ笆ｲ笆ｲ 菫ｮ螟咲ｻ捺據 笆ｲ笆ｲ笆ｲ */

/* 笆ｼ笆ｼ笆ｼ 謚願ｿ呎ｮｵ譁ｰ譬ｷ蠑冗ｲ倩ｴｴ蛻ｰ <style> 逧�忰蟆ｾ 笆ｼ笆ｼ笆ｼ */
#post-visibility-groups label {
  display: block;
  padding: 5px 0;
}
#post-visibility-groups input {
  margin-right: 8px;
}
/* 笆ｲ笆ｲ笆ｲ 譁ｰ譬ｷ蠑冗ｲ倩ｴｴ扈捺據 笆ｲ笆ｲ笆ｲ */
/* 笆ｼ笆ｼ笆ｼ 縲仙ｾｮ蜊壼ｸ�ｱ扈域栫菫ｮ螟阪題ｧ｣蜀ｳ謇譛蛾｡ｵ髱｢貊壼勘荳榊芦蠎慕噪髣ｮ鬚� 笆ｼ笆ｼ笆ｼ */

/* 1. 遘ｻ髯､螟門ｱょｮｹ蝎ｨ荳企漠隸ｯ逧�､壻ｽ吮懷椨蟄絶� */
#weibo-page-container {
  padding-bottom: 0 !important;
}

/* 2. 縲先�ｸ蠢�第滑窶懷椨蟄絶晢ｼ�adding-bottom�牙刈蛻ｰ逵滓ｭ｣貊壼勘逧��陦ｨ閾ｪ蟾ｱ霄ｫ荳奇ｼ�*/
#weibo-profile-page,
#weibo-following-feed-list,
#weibo-hot-search-list,
#weibo-plaza-feed-list,
#weibo-hottopic-feed-list {
  /* 
       鬲疲ｳ募ｰｱ蝨ｨ霑咎㈹�∵�莉ｬ荳ｺ豈丈ｸｪ蛻苓｡ｨ逧�ｺ暮Κ��
       驛ｽ蜉�荳贋ｸ荳ｪ蜥悟ｯｼ闊ｪ譬丈ｸ譬ｷ鬮倡噪蜀�ｾｹ霍晢ｼ遺懷椨蟄絶晢ｼ峨�
       calc(50px + env(safe-area-inset-bottom)) 莨夊�蜉ｨ隶｡邂怜ｯｼ闊ｪ譬城ｫ伜ｺｦ蜥景Phone蠎暮Κ螳牙�蛹ｺ鬮伜ｺｦ縲�
    */
  padding-bottom: calc(50px + env(safe-area-inset-bottom)) !important;
  box-sizing: border-box; /* 遑ｮ菫晏�霎ｹ霍晁｢ｫ豁｣遑ｮ隶｡邂� */
}
/* 笆ｼ笆ｼ笆ｼ 縲宣琉鬚�1菫ｮ螟阪大ｾｮ蜊夂ｼ冶ｾ題ｵ�侭謖蛾聴蠑ｺ蛻ｶ譏ｾ遉ｺ 笆ｼ笆ｼ笆ｼ */
/* 隸ｷ蟆�ｿ呎ｮｵ莉｣遐∫ｲ倩ｴｴ蛻ｰ <style> 譬�ｭｾ逧�怙譛ｫ蟆ｾ */
#edit-weibo-profile-btn {
  display: flex !important; /* 蠑ｺ蛻ｶ譏ｾ遉ｺ荳ｺflex螳ｹ蝎ｨ */
  align-items: center;
  justify-content: center;
  color: var(--accent-color) !important; /* 蠑ｺ蛻ｶ菴ｿ逕ｨ荳ｻ鬚倩牡 */
}
#edit-weibo-profile-btn svg {
  stroke: currentColor !important; /* 遑ｮ菫抓VG蝗ｾ譬�ｻｧ謇ｿ荳企擇逧�｢懆牡 */
}
/* 笆ｲ笆ｲ笆ｲ 菫ｮ螟咲ｻ捺據 笆ｲ笆ｲ笆ｲ */
/* 笆ｼ笆ｼ笆ｼ 謚願ｿ吩ｸ謨ｴ蝮怜�譁ｰ逧ГSS�檎ｲ倩ｴｴ蛻ｰ <style> 逧�忰蟆ｾ 笆ｼ笆ｼ笆ｼ */

/* 1. 隶ｩ蜈ｳ豕ｨ蛻苓｡ｨ逧�ｯ丈ｸ陦碁�閭ｽ螳ｹ郤ｳ譁ｰ謖蛾聴 */
.weibo-following-item {
  align-items: center; /* 遑ｮ菫晏､ｴ蜒上∝錐蟄怜柱謖蛾聴蝙ら峩螻�ｸｭ蟇ｹ鮨� */
}

/* 2. 霑呎弍菴�譁ｰ蠅樒噪窶懈桃菴懌晄潔髓ｮ逧��ｷ蠑� */
.weibo-action-trigger-btn {
  margin-left: auto; /* 譬ｸ蠢�ｼ夊ｮｩ謖蛾聴閾ｪ蜉ｨ髱�蛻ｰ譛蜿ｳ霎ｹ */
  padding: 5px 8px;
  cursor: pointer;
  border-radius: 50%; /* 蝨�ｽ｢謖蛾聴�梧峩鄒手ｧ� */
  transition: background-color 0.2s;
}
.weibo-action-trigger-btn:hover {
  background-color: #e0e0e0;
}
#phone-screen.dark-mode .weibo-action-trigger-btn:hover {
  background-color: #3a3a3c;
}
.weibo-action-trigger-btn svg {
  width: 20px;
  height: 20px;
  stroke: var(--text-secondary); /* 蝗ｾ譬�｢懆牡霍滄囂荳ｻ鬚� */
  display: block; /* 隗｣蜀ｳ荳莠帛ｯｹ鮨宣琉鬚� */
}

/* 3. 荳ｺ謫堺ｽ懷ｼｹ遯鈴㈹逧�黒騾画潔髓ｮ鄒主喧荳荳� */
#weibo-action-type-select label {
  display: block;
  padding: 8px;
  border-radius: 6px;
  transition: background-color 0.2s;
}
#weibo-action-type-select label:hover {
  background-color: #f0f2f5;
}
#phone-screen.dark-mode #weibo-action-type-select label:hover {
  background-color: #2c2c2e;
}

/* 笆ｲ笆ｲ笆ｲ 譁ｰ蠅曚SS邊倩ｴｴ扈捺據 笆ｲ笆ｲ笆ｲ */
/* 笆ｼ笆ｼ笆ｼ 縲仙ｼｹ遯怜ｱらｺｧ菫ｮ螟阪醍ｲ倩ｴｴ霑呎ｮｵ莉｣遐∝芦譬ｷ蠑乗忰蟆ｾ 笆ｼ笆ｼ笆ｼ */
#weibo-action-modal {
  z-index: 1002; /* 霑吩ｸｪ蛟ｼ豈泌�豕ｨ蛻苓｡ｨ(1001)譖ｴ鬮假ｼ悟ｰｱ荳堺ｼ夊｢ｫ逶紋ｽ丈ｺ� */
}
/* 笆ｼ笆ｼ笆ｼ 縲仙�譁ｰ縲題ｮｺ蝮�/蟆冗ｻ�粥閭ｽ譬ｷ蠑� 笆ｼ笆ｼ笆ｼ */

/* 1. 蟆冗ｻ��陦ｨ蜊｡迚��ｷ蠑� */
.forum-group-item {
  background-color: var(--secondary-bg);
  border-radius: 12px;
  padding: 15px;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
  cursor: pointer;
  transition: transform 0.2s, box-shadow 0.2s;
  display: flex;
  flex-direction: column;
  align-items: center;
  text-align: center;
}
.forum-group-item:hover {
  transform: translateY(-5px);
  box-shadow: 0 6px 15px rgba(0, 0, 0, 0.12);
}
.forum-group-icon {
  font-size: 28px;
  margin-bottom: 10px;
}
.forum-group-name {
  font-weight: 600;
  font-size: 15px;
  margin-bottom: 5px;
}
.forum-group-desc {
  font-size: 12px;
  color: var(--text-secondary);
}

/* 2. 蟶門ｭ仙�陦ｨ鬘ｹ譬ｷ蠑� */
.forum-post-item {
  padding: 15px;
  border-bottom: 1px solid var(--border-color);
  cursor: pointer;
}
.forum-post-item:hover {
  background-color: #f5f5f5;
}
#phone-screen.dark-mode .forum-post-item:hover {
  background-color: #2c2c2e;
}
.post-item-title {
  font-weight: 500;
  font-size: 16px;
  margin-bottom: 8px;
}
.post-item-meta {
  font-size: 12px;
  color: var(--text-secondary);
  display: flex;
  justify-content: space-between;
}

/* 笆ｼ笆ｼ笆ｼ 隸ｷ逕ｨ霑吝摎譁ｰ莉｣遐∵崛謐｢譌ｧ逧� #post-detail-content 譬ｷ蠑� 笆ｼ笆ｼ笆ｼ */
#post-detail-content {
  flex-grow: 1; /* 譬ｸ蠢�ｼ夊ｮｩ螳�頃謐ｮ謇譛牙庄逕ｨ逧�桙逶ｴ遨ｺ髣ｴ */
  overflow-y: auto; /* 譬ｸ蠢�ｼ壼ｦよ棡蜀�ｮｹ雜���悟�蜈∬ｮｸ閾ｪ霄ｫ貊壼勘 */
  display: flex;
  flex-direction: column;
  padding: 20px; /* 菫晉蕗闊帝ら噪蜀�ｾｹ霍� */
  /* 荳榊�髴隕∽ｸｺ扈晏ｯｹ螳壻ｽ咲噪霎灘�譯�蕗蜃ｺ鬚晏､也噪padding-bottom */
}
/* 笆ｲ笆ｲ笆ｲ 譖ｿ謐｢扈捺據 笆ｲ笆ｲ笆ｲ */
.post-detail-header h1 {
  font-size: 22px;
  margin: 0 0 10px 0;
}
.post-detail-meta {
  font-size: 13px;
  color: var(--text-secondary);
  margin-bottom: 20px;
}
.post-detail-body {
  font-size: 16px;
  line-height: 1.7;
  white-space: pre-wrap;
  word-break: break-word;
  padding-bottom: 20px;
  border-bottom: 1px solid var(--border-color);
}
.post-comments-section {
  padding-top: 20px;
}
.post-comments-section h3 {
  font-size: 16px;
  margin: 0 0 15px 0;
  border-left: 3px solid var(--accent-color);
  padding-left: 10px;
}
.post-comment-item {
  padding: 12px 0;
  border-bottom: 1px solid #f0f0f0;
}
#phone-screen.dark-mode .post-comment-item {
  border-bottom-color: #2c2c2e;
}
.comment-author {
  font-weight: 600;
  color: var(--accent-color);
  margin-bottom: 5px;
}
.comment-content {
  font-size: 14px;
  line-height: 1.6;
}

/* 4. 蟶門ｭ宣｡ｵ蠎暮Κ霎灘�譯� */
/* 笆ｼ笆ｼ笆ｼ 隸ｷ逕ｨ霑吝摎譁ｰ莉｣遐∵崛謐｢譌ｧ逧� #post-comment-input-area 譬ｷ蠑� 笆ｼ笆ｼ笆ｼ */
#post-comment-input-area {
  /* 
      謌台ｻｬ遘ｻ髯､莠� position: absolute; 蜥檎嶌蜈ｳ逧� bottom, left 螻樊ｧ��
      隶ｩ螳�ｻ惹ｸ荳ｪ窶懈ｵｮ蜉ｨ螻や晏序蝗樔ｸ荳ｪ豁｣蟶ｸ逧�摎郤ｧ蜈�ｴ��瑚�辟ｶ蝨ｰ謗貞惠蜀�ｮｹ荳区婿縲�
      蜈ｶ莉也噪譬ｷ蠑丈ｼ壻ｻ� .chat-input-area 邀ｻ扈ｧ謇ｿ�梧裏髴諡�ｿ��
    */
  width: 100%;
  box-sizing: border-box;
}
/* 笆ｲ笆ｲ笆ｲ 譖ｿ謐｢扈捺據 笆ｲ笆ｲ笆ｲ */

/* 笆ｲ笆ｲ笆ｲ 隶ｺ蝮帶�ｷ蠑冗ｻ捺據 笆ｲ笆ｲ笆ｲ */
/* 笆ｼ笆ｼ笆ｼ 隸ｷ蟆�ｿ呎ｮｵ縲仙�譁ｰ縲醍噪隶ｺ蝮帷ｾ主喧CSS�檎ｲ倩ｴｴ蛻ｰ<style>譬�ｭｾ逧�忰蟆ｾ 笆ｼ笆ｼ笆ｼ */

/* 1. 鄒主喧蟶門ｭ占ｯｦ諠�｡ｵ蠎暮Κ逧�ｯ�ｮｺ霎灘�蛹ｺ蝓� */
#post-comment-input-area {
  padding: 10px 15px; /* 蠅槫刈蜀�ｾｹ霍晢ｼ瑚ｮｩ螳�ｸ崎ｴｴ霎ｹ */
  background-color: rgba(247, 247, 247, 0.9);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  border-top: 1px solid var(--border-color);
  /* 騾る�iPhone蠎暮Κ螳牙�蛹ｺ */
  padding-bottom: calc(10px + env(safe-area-inset-bottom));
}

/* 2. 縲先�ｸ蠢�醍ｾ主喧隸�ｮｺ霎灘�譯�悽霄ｫ */
#post-comment-input-area #post-comment-input {
  background-color: #f0f2f5; /* 豬��濶ｲ閭梧勹�梧峩譛牙ｱよｬ｡諢� */
  border: none;
  border-radius: 18px; /* 蝨�ｧ抵ｼ梧峩譟泌柱 */
  padding: 10px 15px;
  font-size: 14px;
  resize: none; /* 遖∵ｭ｢逕ｨ謌ｷ諡匁郷螟ｧ蟆� */
}

/* 螟憺龍讓｡蠑城る� */
#phone-screen.dark-mode #post-comment-input-area #post-comment-input {
  background-color: #2c2c2e;
}

/* 3. 鄒主喧蜿鷹∵潔髓ｮ */
#post-comment-input-area #send-post-comment-btn {
  height: 36px;
  border-radius: 18px; /* 蜥瑚ｾ灘�譯�ｿ晄戟荳閾ｴ逧�怕隗� */
  padding: 0 20px;
}

/* 4. 縲先眠蠅槭羨I逕滓�隸�ｮｺ謖蛾聴逧��ｷ蠑� */
.generate-comments-container {
  padding: 10px 20px 0 20px;
  border-bottom: 8px solid #f0f2f5;
}

#phone-screen.dark-mode .generate-comments-container {
  border-bottom-color: #000;
}

#generate-forum-comments-btn {
  width: 100%;
  padding: 10px;
  border: none;
  border-radius: 8px;
  background-color: #e9f5ff;
  color: var(--accent-color);
  font-weight: 500;
  cursor: pointer;
  transition: background-color 0.2s;
}

#generate-forum-comments-btn:hover {
  background-color: #d4eaff;
}
/* 笆ｲ笆ｲ笆ｲ 隶ｺ蝮帷ｾ主喧CSS邊倩ｴｴ扈捺據 笆ｲ笆ｲ笆ｲ */
/* 笆ｼ笆ｼ笆ｼ 縲仙�譁ｰ縲題ｮｺ蝮帛ｸ門ｭ�/隸�ｮｺ螟ｴ蜒丈ｸ取･ｼ螻よ�ｷ蠑� 笆ｼ笆ｼ笆ｼ */

/* 1. 蟶門ｭ蝉ｽ懆�玄蝓滂ｼ壻ｽｿ逕ｨflex蟶�ｱ隶ｩ螟ｴ蜒丞柱蜷榊ｭ怜ｹｶ謗� */
#post-detail-content .post-detail-header {
  display: flex;
  align-items: center;
  gap: 12px; /* 螟ｴ蜒丞柱蜿ｳ萓ｧ菫｡諱ｯ逧�龍霍� */
  padding-bottom: 20px;
  border-bottom: 1px solid var(--border-color);
  margin-bottom: 20px;
}

/* 2. 蟶門ｭ蝉ｽ懆�噪螟ｴ蜒乗�ｷ蠑� */
.post-author-avatar {
  width: 45px;
  height: 45px;
  border-radius: 50%;
  object-fit: cover;
  flex-shrink: 0; /* 髦ｲ豁｢陲ｫ蜴狗ｼｩ */
}

/* 3. 蛹�｣ｹ菴懆�錐蟄怜柱譌ｶ髣ｴ逧�ｮｹ蝎ｨ */
.post-author-info {
  display: flex;
  flex-direction: column;
}

/* 4. 遘ｻ髯､譌ｧ逧���｢伜柱meta螟冶ｾｹ霍晢ｼ悟屏荳ｺflex蟶�ｱ莨壼､�炊髣ｴ霍� */
#post-detail-content .post-detail-header h1,
#post-detail-content .post-detail-meta {
  margin: 0;
}
#post-detail-content .post-detail-header h1 {
  font-size: 18px; /* 譬�｢伜庄莉･遞榊ｾｮ蟆丈ｸ轤ｹ�梧峩蜊剰ｰ� */
  margin-bottom: 4px;
}

/* 5. 隸�ｮｺ蛹ｺ豈丈ｸ譚｡隸�ｮｺ逧�ｸ�ｱ */
.post-comment-item {
  display: flex;
  gap: 10px; /* 螟ｴ蜒丞柱蜿ｳ萓ｧ蜀�ｮｹ逧�龍霍� */
  padding: 12px 0;
  border-bottom: 1px solid #f0f0f0;
}
#phone-screen.dark-mode .post-comment-item {
  border-bottom-color: #2c2c2e;
}

/* 6. 隸�ｮｺ閠�噪蟆丞､ｴ蜒� */
.comment-avatar-small {
  width: 35px;
  height: 35px;
  border-radius: 50%;
  object-fit: cover;
  flex-shrink: 0;
}

/* 7. 蛹�｣ｹ隸�ｮｺ謇譛画枚蟄怜�螳ｹ逧�ｮｹ蝎ｨ */
.comment-details {
  display: flex;
  flex-direction: column;
  flex-grow: 1;
}

/* 8. 隸�ｮｺ逧�､ｴ驛ｨ�壼桁蜷ｫ蜷榊ｭ怜柱讌ｼ螻� */
.comment-header-line {
  display: flex;
  justify-content: space-between; /* 隶ｩ蜷榊ｭ鈴擒蟾ｦ�梧･ｼ螻る擒蜿ｳ */
  align-items: center;
  margin-bottom: 5px;
}

/* 9. 隸�ｮｺ讌ｼ螻ょ捷逧��ｷ蠑� */
.comment-floor {
  font-size: 12px;
  color: var(--text-secondary);
  font-weight: 500;
}

/* 10. 遘ｻ髯､譌ｧ逧�ｯ�ｮｺ菴懆�､冶ｾｹ霍� */
.post-comment-item .comment-author {
  margin-bottom: 0;
}
/* 笆ｲ笆ｲ笆ｲ 譁ｰ譬ｷ蠑冗ｲ倩ｴｴ扈捺據 笆ｲ笆ｲ笆ｲ */
/* 笆ｼ笆ｼ笆ｼ 霑呎弍菫ｮ螟崎ｮｺ蝮幄ｯ�ｮｺ蛹ｺ螳ｽ蠎ｦ髣ｮ鬚倡噪譁ｰ蠅樔ｻ｣遐� 笆ｼ笆ｼ笆ｼ */
#post-comment-input-area #post-comment-input {
  flex-grow: 1; /* 笘��笘� 譬ｸ蠢�ｻ｣遐∝ｰｱ譏ｯ霑呵｡鯉ｼ∬ｮｩ霎灘�譯��蜉ｨ莨ｸ螻包ｼ悟頃貊｡謇譛牙庄逕ｨ螳ｽ蠎ｦ 笘��笘� */

  /* 荳矩擇霑吩ｺ帶弍鄒主喧譬ｷ蠑擾ｼ瑚ｮｩ螳�柱蜈ｶ莉冶ｾ灘�譯�｣取�ｼ扈滉ｸ�瑚ｿ呎ｬ｡豐｡譛我ｿｮ謾ｹ鬮伜ｺｦ蜩ｦ */
  border: none;
  background-color: #f0f2f5;
  border-radius: 18px;
  padding: 10px 15px;
  font-size: 14px;
  resize: none;
  box-sizing: border-box;
}

/* 螟憺龍讓｡蠑城る� */
#phone-screen.dark-mode #post-comment-input-area #post-comment-input {
  background-color: #2c2c2e;
}
/* 笆ｲ笆ｲ笆ｲ 譁ｰ蠅樔ｻ｣遐∫ｻ捺據 笆ｲ笆ｲ笆ｲ */
/* 笆ｼ笆ｼ笆ｼ 逕ｨ霑吩ｸ謨ｴ蝮怜�譁ｰ逧ГSS�梧崛謐｢謗我ｽ�譌ｧ逧�園譛牙｡皮ｽ礼煙逶ｸ蜈ｳCSS 笆ｼ笆ｼ笆ｼ */

/* 1. 蜊�蜊懃ｻ捺棡蠑ｹ遯怜�逧��ｷ蠑擾ｼ育ｺｯ譁�ｭ礼沿�� */
#tarot-result-display {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 15px;
}
.tarot-result-question {
  font-size: 14px;
  font-weight: 500;
  color: var(--text-secondary);
  background-color: #f0f2f5;
  padding: 8px 12px;
  border-radius: 8px;
  width: 95%;
  text-align: center;
}
#phone-screen.dark-mode .tarot-result-question {
  background-color: #2c2c2e;
}
.tarot-spread-container {
  width: 100%;
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  align-items: center;
  gap: 10px;
}
.tarot-card-wrapper {
  background-color: #fff;
  border: 1px solid var(--border-color);
  border-radius: 8px;
  padding: 8px;
  min-width: 120px;
  text-align: center;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
}
#phone-screen.dark-mode .tarot-card-wrapper {
  background-color: #1c1c1e;
}
.tarot-card-position {
  font-size: 12px;
  font-weight: 600;
  color: var(--accent-color);
  margin-bottom: 4px;
}
.tarot-card-name {
  font-size: 14px;
}

/* 3. 蜴�彰隶ｰ蠖墓�ｷ蠑� (菫晄戟荳榊序) */
#tarot-history-list {
  display: flex;
  flex-direction: column;
  gap: 12px;
}
.tarot-history-item {
  background-color: #f9f9f9;
  border-radius: 8px;
  padding: 12px;
  position: relative;
  border: 1px solid var(--border-color);
}
#phone-screen.dark-mode .tarot-history-item {
  background-color: #2c2c2e;
}
.tarot-history-item .question {
  font-weight: 600;
  margin-bottom: 8px;
}
.tarot-history-item .details {
  font-size: 13px;
  color: var(--text-secondary);
  white-space: pre-wrap;
}
.tarot-history-delete-btn {
  position: absolute;
  top: 5px;
  right: 5px;
  width: 24px;
  height: 24px;
  background-color: #e0e0e0;
  color: #888;
  border-radius: 50%;
  border: none;
  cursor: pointer;
  font-size: 18px;
  line-height: 24px;
  text-align: center;
}
#phone-screen.dark-mode .tarot-history-delete-btn {
  background-color: #3e3e42;
}
/* 笆ｼ笆ｼ笆ｼ 隨ｬ1豁･�壻ｻ手ｿ咎㈹蠑蟋句､榊宛譖ｿ謐｢ 笆ｼ笆ｼ笆ｼ */

#lovers-space-screen {
  background-color: #f0f2f5; /* 菫晉蕗荳荳ｪ螟�畑閭梧勹濶ｲ */
  background-size: cover; /* 閭梧勹蝗ｾ隕�尠謨ｴ荳ｪ蛹ｺ蝓� */
  background-position: center; /* 閭梧勹蝗ｾ螻�ｸｭ譏ｾ遉ｺ */
  background-repeat: no-repeat; /* 閭梧勹蝗ｾ荳埼㍾螟� */
}

/* 螟ｴ驛ｨ */
#ls-header {
  height: 220px;
  position: relative;
  /* 縲先�ｸ蠢�ｿｮ謾ｹ縲醍ｧｻ髯､莠� background-size 蜥� background-position */
  color: white;
  flex-shrink: 0;
  background-color: transparent; /* 縲先�ｸ蠢�ｿｮ謾ｹ縲題ｮｩ螟ｴ驛ｨ閭梧勹蜿倬乗��御ｻ･譏ｾ遉ｺ荳区婿逧��螻剰レ譎ｯ */
}

/* 笆ｲ笆ｲ笆ｲ 隨ｬ1豁･�壼､榊宛譖ｿ謐｢蛻ｰ霑咎㈹扈捺據 笆ｲ笆ｲ笆ｲ */

/* --- 縲先怙扈井ｿｮ螟咲沿縲台ｿｮ螟肴ュ萓｣遨ｺ髣ｴ鬘ｶ驛ｨ謖蛾聴譌�豕慕せ蜃ｻ逧�琉鬚� --- */
/* --- 縲先怙扈井ｿｮ螟咲沿縲台ｿｮ螟埼�鄂ｩ螻よ協謌ｪ轤ｹ蜃ｻ逧�琉鬚� --- */

.ls-header-overlay {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: linear-gradient(to bottom, rgba(0, 0, 0, 0.4), transparent, rgba(0, 0, 0, 0.2));

  /* 笆ｼ笆ｼ笆ｼ 譬ｸ蠢�ｿｮ螟搾ｼ夊ｮｩ霑吩ｸｪ驕ｮ鄂ｩ螻ょｯｹ鮠�譬�ｺ倶ｻｶ窶憺乗�窶晢ｼ� 笆ｼ笆ｼ笆ｼ */
  pointer-events: none;
  /* 笆ｲ笆ｲ笆ｲ 菫ｮ螟咲ｻ捺據 笆ｲ笆ｲ笆ｲ */
}

/* --- 縲仙ｷｲ菫ｮ螟阪第ュ萓｣遨ｺ髣ｴ鬘ｶ驛ｨ譬丞ｱらｺｧ髣ｮ鬚� --- */

.ls-header-top-bar {
  position: relative;
  z-index: 3; /* 笘��笘� 譬ｸ蠢�ｿｮ謾ｹ�壼ｰ�ｱらｺｧ莉� 2 謠仙合蛻ｰ 3 笘��笘� */
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 15px;
  padding-top: calc(15px + env(safe-area-inset-top));
}

#ls-char-name {
  font-size: 18px;
  font-weight: 600;
}
#ls-switch-char-btn {
  font-size: 16px;
}

.ls-header-avatars {
  position: absolute;
  bottom: 20px;
  left: 50%;
  transform: translateX(-50%);
  display: flex;
  align-items: center;
  gap: 15px;
  z-index: 2;
}
.ls-header-avatars img {
  width: 65px;
  height: 65px;
  border-radius: 50%;
  border: 2px solid white;
  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
}
.ls-header-avatars .heart-icon {
  font-size: 28px;
  color: #ff4d6d;
  text-shadow: 0 0 8px rgba(255, 255, 255, 0.8);
}

/* 笆ｼ笆ｼ笆ｼ 隸ｷ逕ｨ霑吶蝉ｸ謨ｴ蝮励大�譁ｰ逧�ｻ｣遐�ｼ悟ｮ梧紛譖ｿ謐｢譌ｧ逧� #ls-tab-bar 蜥� .ls-tab-item 譬ｷ蠑� 笆ｼ笆ｼ笆ｼ */

/* 鬘ｵ遲ｾ譬� (V2 - 謔ｬ豬ｮ謦第ｻ｡迚�) */
/* 笆ｼ笆ｼ笆ｼ 隸ｷ逕ｨ霑吝摎縲先ぎ豬ｮ閭ｶ蝗頑怙扈育沿縲台ｻ｣遐�ｼ悟ｮ梧紛譖ｿ謐｢謗我ｽ�譌ｧ逧� #ls-tab-bar 譬ｷ蠑� 笆ｼ笆ｼ笆ｼ */
#ls-tab-bar {
  display: flex;
  flex-shrink: 0;
  position: relative;
  z-index: 5;

  /* --- 譬ｸ蠢�ｿｮ謾ｹ蝨ｨ霑咎㈹ --- */
  /* 1. 菴ｿ逕ｨ margin 螳樒鴫荳贋ｸ句ｷｦ蜿ｳ逧�ｾｹ霍晢ｼ瑚是騾�謔ｬ豬ｮ諢� */
  margin: -20px 5px 10px 5px; /* 謚雁ｷｦ蜿ｳ逧� 15px 謾ｹ謌蝉ｺ� 5px */

  /* 2. 荳ｺ謇譛牙屁荳ｪ隗帝�隶ｾ鄂ｮ蝨�ｧ抵ｼ悟ｽ｢謌仙庄辷ｱ逧�Ω蝗雁ｽ｢迥ｶ */
  border-radius: 25px;

  background-color: var(--secondary-bg);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1); /* 髦ｴ蠖ｱ蜿ｯ莉･隶ｩ謔ｬ豬ｮ諢滓峩蠑ｺ */
}
/* 笆ｲ笆ｲ笆ｲ 譖ｿ謐｢扈捺據 笆ｲ笆ｲ笆ｲ */

/* 蜊穂ｸｪ鬘ｵ遲ｾ鬘ｹ逶ｮ (V2) */
.ls-tab-item {
  flex: 1;
  text-align: center;
  /* 譬ｸ蠢�ｿｮ謾ｹ�嗔adding 莉� 12px 蠅槫刈蛻ｰ 15px�瑚ｮｩ蟇ｼ闊ｪ譬上先級髟ｿ荳轤ｹ縲�(譖ｴ鬮�) */
  padding: 15px 0;
  font-weight: 500;
  color: var(--text-secondary);
  cursor: pointer;
  position: relative;
  /* 譁ｰ蠅橸ｼ壻ｸｺ蝗ｾ譬�噪郛ｩ謾ｾ蜥碁｢懆牡蜿伜喧豺ｻ蜉�蟷ｳ貊題ｿ�ｸ｡ */
  transition: color 0.2s ease;
}

/* 豼豢ｻ迥ｶ諤∫噪鬘ｵ遲ｾ (V2) */
.ls-tab-item.active {
  color: var(--accent-color);
}

/* 豼豢ｻ迥ｶ諤∫噪荳句�郤ｿ謖�､ｺ蝎ｨ (菫晄戟荳榊序) */
.ls-tab-item.active::after {
  content: '';
  position: absolute;
  bottom: 8px; /* 蠕ｮ隹�ｽ咲ｽｮ莉･騾ょｺ疲峩鬮倡噪蟇ｼ闊ｪ譬� */
  left: 50%;
  transform: translateX(-50%);
  width: 28px;
  height: 3px;
  background-color: var(--accent-color);
  border-radius: 1.5px;
}

/* 笆ｲ笆ｲ笆ｲ 譖ｿ謐｢扈捺據 笆ｲ笆ｲ笆ｲ */

/* 笆ｼ笆ｼ笆ｼ 縲仙�譁ｰ縲題ｿ呎弍荳ｺSVG蝗ｾ譬�眠蠅樒噪譬ｷ蠑擾ｼ瑚ｯｷ謚雁ｮ�ｹ溽ｲ倩ｴｴ蛻ｰ<style>驥� 笆ｼ笆ｼ笆ｼ */
.ls-tab-item svg {
  width: 24px;
  height: 24px;
  /* 荳ｺ蝗ｾ譬�噪螟ｧ蟆丞柱邊礼ｻ�序蛹匁ｷｻ蜉�蟷ｳ貊題ｿ�ｸ｡ */
  transition: all 0.2s ease-in-out;
}

/* 豼豢ｻ迥ｶ諤∫噪蝗ｾ譬�ｼ御ｼ壼序蠕玲峩邊励∵峩螟ｧ荳轤ｹ�碁撼蟶ｸ驢堤岼 */
.ls-tab-item.active svg {
  stroke-width: 2.5;
  transform: scale(1.1);
}
/* 笆ｲ笆ｲ笆ｲ 譁ｰ蠅樊�ｷ蠑冗ｻ捺據 笆ｲ笆ｲ笆ｲ */

/* 蜀�ｮｹ蛹ｺ蝓� */
#ls-content-area {
  flex-grow: 1;
  position: relative;
  overflow: hidden;
}
.ls-view {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  overflow-y: auto;
  display: none;
  padding: 15px;
  box-sizing: border-box;
}
.ls-view.active {
  display: block;
}

/* 豬ｮ蜉ｨ豺ｻ蜉�謖蛾聴 */
/* 笆ｼ笆ｼ笆ｼ 隸ｷ逕ｨ霑吝摎縲千ｻ域栫螻�ｸｭ菫ｮ螟咲沿縲台ｻ｣遐�ｼ梧崛謐｢譌ｧ逧� .ls-fab-btn 譬ｷ蠑� 笆ｼ笆ｼ笆ｼ */
/* 笆ｼ笆ｼ笆ｼ 霑呎弍SVG騾る�迚育噪譛扈井ｻ｣遐� 笆ｼ笆ｼ笆ｼ */
.ls-fab-btn {
  position: fixed;
  bottom: calc(30px + env(safe-area-inset-bottom));
  right: 30px;
  width: 50px;
  height: 50px;
  border-radius: 50%;
  background-color: var(--accent-color);
  color: white;
  border: none;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
  cursor: pointer;
  z-index: 10;

  /* 萓晉┯菴ｿ逕ｨFlexbox譚･螻�ｸｭSVG蝗ｾ譬� */
  display: flex;
  justify-content: center;
  align-items: center;

  /* 遘ｻ髯､謇譛我ｸ主ｭ嶺ｽ鍋嶌蜈ｳ逧�ｱ樊ｧ */
  /* font-size: 28px; (蟾ｲ遘ｻ髯､) */
  /* line-height: normal; (蟾ｲ遘ｻ髯､) */
}

/* (蜿ｯ騾�) 螯よ棡菴�隗牙ｾ祐VG譛臥せ蟆乗�螟ｧ�悟庄莉･蠕ｮ隹�ｮ�噪螟ｧ蟆� */
.ls-fab-btn svg {
  width: 24px;
  height: 24px;
}
/* 笆ｲ笆ｲ笆ｲ 譖ｿ謐｢扈捺據 笆ｲ笆ｲ笆ｲ */

/* 隸ｴ隸ｴ蜊｡迚� */
#ls-moments-list {
  display: flex;
  flex-direction: column;
  gap: 15px;
}
/* 隸ｴ隸ｴ蜊｡迚� */
/* ... */
.ls-moment-card {
  position: relative; /* 笘��笘� 譬ｸ蠢�ｿｮ螟搾ｼ壼ｰｱ譏ｯ蜉�荳願ｿ吩ｸ陦鯉ｼ� 笘��笘� */
  background-color: var(--secondary-bg);
  border-radius: 12px;
  padding: 15px;
  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.08);
  display: flex;
  gap: 12px;
}
/* ... */

.ls-moment-card .avatar {
  width: 40px;
  height: 40px;
  border-radius: 50%;
  flex-shrink: 0;
}
.ls-moment-card .moment-main {
  display: flex;
  flex-direction: column;
}
.ls-moment-card .author {
  font-weight: 600;
  color: var(--text-primary);
}
.ls-moment-card .content {
  margin-top: 5px;
  font-size: 15px;
  line-height: 1.6;
  white-space: pre-wrap;
  word-break: break-word;
}
.ls-moment-card .timestamp {
  margin-top: 10px;
  font-size: 12px;
  color: var(--text-secondary);
}

/* 逶ｸ蜀悟�陦ｨ */
/* 笆ｼ笆ｼ笆ｼ 逕ｨ霑吝摎譁ｰ譬ｷ蠑乗崛謐｢譌ｧ逧� #ls-album-list 笆ｼ笆ｼ笆ｼ */
#ls-album-list {
  display: grid;
  /* 譬ｸ蠢�ｿｮ謾ｹ�壻ｻ�2蛻怜序荳ｺ3蛻暦ｼ碁龍霍昜ｻ�15px郛ｩ蟆丈ｸｺ5px */
  grid-template-columns: repeat(3, 1fr);
  gap: 5px;
}
/* 笆ｲ笆ｲ笆ｲ 譖ｿ謐｢扈捺據 笆ｲ笆ｲ笆ｲ */
.ls-album-item {
  cursor: pointer;
}
.ls-album-item .cover {
  width: 100%;
  aspect-ratio: 1 / 1;
  background-color: #e9ecef;
  background-size: cover;
  background-position: center;
  border-radius: 8px;
  margin-bottom: 8px;
}
.ls-album-item .name {
  font-weight: 500;
  text-align: center;
}

/* 辣ｧ迚�ｸ贋ｼ�鬚�ｧ� */
#ls-photo-preview-container {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 10px;
  margin-bottom: 15px;
}
.ls-photo-preview-item {
  position: relative;
  aspect-ratio: 1 / 1;
}
.ls-photo-preview-item img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  border-radius: 6px;
}
.ls-photo-preview-item .remove-btn {
  position: absolute;
  top: -5px;
  right: -5px;
  width: 20px;
  height: 20px;
  background-color: #ff3b30;
  color: white;
  border-radius: 50%;
  border: none;
  line-height: 20px;
  text-align: center;
  cursor: pointer;
}

/* 諠�ｹｦ蜥悟�莠ｫ蛻苓｡ｨ */
.ls-list-item {
  background-color: var(--secondary-bg);
  border-radius: 8px;
  padding: 12px 15px;
  margin-bottom: 10px;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.06);
  cursor: pointer;
}
.ls-list-item .title {
  font-weight: 500;
  margin-bottom: 5px;
}
.ls-list-item .meta {
  font-size: 12px;
  color: var(--text-secondary);
}
.ls-share-item .share-type {
  display: inline-block;
  padding: 2px 6px;
  font-size: 10px;
  border-radius: 4px;
  margin-right: 8px;
  color: white;
}
.share-type.song {
  background-color: #28a745;
}
.share-type.movie {
  background-color: #fd7e14;
}
.share-type.book {
  background-color: #6f42c1;
}
/* 笆ｼ笆ｼ笆ｼ 謚願ｿ吩ｸ謨ｴ蝮怜�譁ｰ逧ГSS�檎ｲ倩ｴｴ蛻ｰ <style> 譬�ｭｾ逧�怙譛ｫ蟆ｾ 笆ｼ笆ｼ笆ｼ */

/* 縲先�ｸ蠢�ｿｮ螟阪題ｮｩ譬�｢倡ｻ晏ｯｹ螻�ｸｭ�御ｸ榊�蜿嶺ｸ､霎ｹ謖蛾聴謨ｰ驥丞ｽｱ蜩� */
#ls-header #ls-char-name {
  position: absolute;
  left: 50%;
  transform: translateX(-50%);
  width: 60%; /* 髯仙宛譛螟ｧ螳ｽ蠎ｦ�碁亟豁｢荳取潔髓ｮ驥榊匠 */
  text-align: center;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

/* 縲先眠蠅槭大､ｴ蜒丞柱隶｡謨ｰ蝎ｨ逧�ｻ螳ｹ蝎ｨ�瑚ｴ溯ｴ｣謨ｴ菴灘ｮ壻ｽ� */
.ls-avatar-and-counter-wrapper {
  position: absolute;
  bottom: 20px;
  left: 50%;
  transform: translateX(-50%);
  z-index: 2;
  display: flex;
  flex-direction: column; /* 隶ｩ螟ｴ蜒丞柱隶｡謨ｰ蝎ｨ蝙ら峩謗貞� */
  align-items: center; /* 豌ｴ蟷ｳ螻�ｸｭ */
  gap: 10px; /* 螟ｴ蜒丞柱隶｡謨ｰ蝎ｨ荵矩龍逧�桙逶ｴ髣ｴ霍� */
}

/* 縲蝉ｿｮ謾ｹ縲醍ｧｻ髯､譌ｧ逧�､ｴ蜒冗ｻ晏ｯｹ螳壻ｽ搾ｼ悟屏荳ｺ螳�鴫蝨ｨ陲ｫ譁ｰ螳ｹ蝎ｨ邂｡逅�ｺ� */
.ls-header-avatars {
  position: static; /* 謾ｹ荳ｺ髱呎∝ｮ壻ｽ� */
  transform: none;
  bottom: auto;
  left: auto;
  /* 蜈ｶ莉匁�ｷ蠑擾ｼ亥ｦょ､ｴ蜒丞､ｧ蟆上∬ｾｹ譯�ｭ会ｼ我ｿ晄戟荳榊序 */
}

/* 縲蝉ｿｮ謾ｹ縲醍ｧｻ髯､譌ｧ逧�ｮ｡謨ｰ蝎ｨ螳壻ｽ肴�ｷ蠑擾ｼ瑚ｮｩ螳�惠譁ｰ螳ｹ蝎ｨ驥瑚�辟ｶ謗貞� */
#ls-days-counter {
  position: static;
  margin-top: 0;
  /* 蜈ｶ莉匁�ｷ蠑擾ｼ亥ｦょｭ嶺ｽ馴｢懆牡縲�亢蠖ｱ遲会ｼ我ｿ晄戟荳榊序 */
}

/* 笆ｲ笆ｲ笆ｲ 邊倩ｴｴ扈捺據 笆ｲ笆ｲ笆ｲ */
/* 笆ｼ笆ｼ笆ｼ 隸ｷ蟆�ｿ呎ｮｵ譁ｰ譬ｷ蠑冗ｲ倩ｴｴ蛻ｰ <style> 逧�忰蟆ｾ 笆ｼ笆ｼ笆ｼ */

/* 1. 隶ｩ逶ｸ蜀碁｡ｹ逶ｮ謌蝉ｸｺ蛻�髯､謖蛾聴逧�ｮ壻ｽ榊盾閠�せ */
.ls-album-item .cover {
  position: relative; /* 蜈ｳ髞ｮ�� */
  overflow: hidden; /* 髦ｲ豁｢蛻�髯､謖蛾聴貅｢蜃ｺ蝨�ｧ� */
}

/* 2. 蛻�髯､謖蛾聴逧��ｷ蠑� */
.ls-photo-delete-btn {
  position: absolute;
  top: 5px;
  right: 5px;
  width: 24px;
  height: 24px;
  background-color: rgba(0, 0, 0, 0.6);
  color: white;
  border: none;
  border-radius: 50%;
  font-size: 18px;
  line-height: 24px; /* 遑ｮ菫� "ﾃ�" 蝙ら峩螻�ｸｭ */
  text-align: center;
  cursor: pointer;
  opacity: 0; /* 鮟倩ｮ､髫占酪 */
  transition: opacity 0.2s ease;
  z-index: 5; /* 遑ｮ菫晏惠譛荳雁ｱ� */
}

/* 3. 鮠�譬�ぎ蛛懷惠蟆�擇荳頑慮�梧仞遉ｺ蛻�髯､謖蛾聴 */
.ls-album-item .cover:hover .ls-photo-delete-btn {
  opacity: 1;
}

/* 笆ｲ笆ｲ笆ｲ 譁ｰ譬ｷ蠑冗ｲ倩ｴｴ扈捺據 笆ｲ笆ｲ笆ｲ */
/* 笆ｼ笆ｼ笆ｼ 霑呎弍荳ｺ諠�ｾ｣遨ｺ髣ｴ窶懆ｯｴ隸ｴ窶晄眠蠅樒噪譬ｷ蠑� 笆ｼ笆ｼ笆ｼ */

/* 隸ｴ隸ｴ蜊｡迚�ｺ暮Κ逧�ｺ貞勘蛹ｺ�郁ｯ�ｮｺ霎灘�縲∝唖髯､謖蛾聴遲会ｼ� */
.ls-moment-footer {
  margin-top: 12px;
  padding-top: 10px;
  border-top: 1px solid #f0f0f0; /* 蜥悟�螳ｹ蛹ｺ蛻�囈蠑 */
}

/* 隸�ｮｺ蛻苓｡ｨ逧�ｮｹ蝎ｨ */
.ls-moment-comments-container {
  display: flex;
  flex-direction: column;
  gap: 8px; /* 豈乗擅隸�ｮｺ荵矩龍逧�龍霍� */
  font-size: 14px;
  margin-bottom: 10px;
}

/* 豈丈ｸ譚｡隸�ｮｺ逧��ｷ蠑� */
.ls-comment-item {
  position: relative; /* 荳ｺ莠�ｮ壻ｽ榊唖髯､謖蛾聴 */
  padding-right: 25px; /* 扈吝唖髯､謖蛾聴逡吝�遨ｺ髣ｴ */
  line-height: 1.5;
}

.ls-comment-item .commenter-name {
  font-weight: 600;
  color: var(--accent-color); /* 菴ｿ逕ｨ荳ｻ鬚倩牡 */
  margin-right: 5px;
}

/* 隸�ｮｺ逧�唖髯､謖蛾聴 */
.ls-comment-delete-btn {
  position: absolute;
  top: 50%;
  right: 0;
  transform: translateY(-50%);
  width: 22px;
  height: 22px;
  line-height: 22px;
  text-align: center;
  border-radius: 50%;
  color: var(--text-secondary);
  font-size: 18px;
  cursor: pointer;
  opacity: 0; /* 鮟倩ｮ､髫占酪 */
  transition: all 0.2s ease;
}

/* 鮠�譬�叛荳雁悉謇肴仞遉ｺ蛻�髯､謖蛾聴 */
.ls-comment-item:hover .ls-comment-delete-btn {
  opacity: 1;
}
.ls-comment-delete-btn:hover {
  background-color: #f0f0f0;
  color: #ff3b30;
}

/* 隸�ｮｺ霎灘�蛹ｺ蝓溽噪譬ｷ蠑� */
.ls-comment-input-area {
  display: flex;
  gap: 8px;
  align-items: center;
}

.ls-comment-input-area input {
  flex-grow: 1;
  border: none;
  background-color: #f0f2f5;
  border-radius: 15px;
  padding: 8px 12px;
  font-size: 14px;
}

.ls-comment-input-area button {
  background-color: var(--accent-color);
  color: white;
  border: none;
  border-radius: 15px;
  padding: 8px 15px;
  font-size: 14px;
  cursor: pointer;
  flex-shrink: 0; /* 髦ｲ豁｢謖蛾聴陲ｫ蜴狗ｼｩ */
}

/* 隸ｴ隸ｴ蜊｡迚�悽霄ｫ逧�唖髯､謖蛾聴 */
.ls-moment-delete-btn {
  position: absolute;
  top: 10px;
  right: 10px;
  width: 24px;
  height: 24px;
  background-color: rgba(0, 0, 0, 0.08);
  color: var(--text-secondary);
  border-radius: 50%;
  border: none;
  cursor: pointer;
  font-size: 18px;
  line-height: 24px;
  text-align: center;
  opacity: 0; /* 鮟倩ｮ､髫占酪 */
  transition: all 0.2s ease;
}
.ls-moment-card:hover .ls-moment-delete-btn {
  opacity: 1; /* 鮠�譬�叛荳雁悉謇肴仞遉ｺ */
}
.ls-moment-delete-btn:hover {
  background-color: #ff3b30;
  color: white;
}

/* 笆ｲ笆ｲ笆ｲ 譁ｰ蠅樊�ｷ蠑冗ｻ捺據 笆ｲ笆ｲ笆ｲ */

/* 笆ｼ笆ｼ笆ｼ 謚願ｿ吩ｸ謨ｴ蝮怜�譁ｰ逧ГSS�檎ｲ倩ｴｴ蛻ｰ <style> 譬�ｭｾ逧�怙譛ｫ蟆ｾ 笆ｼ笆ｼ笆ｼ */

/* 笆ｼ笆ｼ笆ｼ 逕ｨ霑吝摎縲蝉ｿ｡郤ｸ鄒主喧迚医台ｻ｣遐�ｼ悟ｮ梧紛譖ｿ謐｢謗我ｸ贋ｸ迚育噪謇譛画ュ荵ｦCSS 笆ｼ笆ｼ笆ｼ */

/* --- 縲仙�譁ｰ鄒主喧迚医第ュ萓｣遨ｺ髣ｴ諠�ｹｦ蜉溯�譬ｷ蠑� --- */

/* 1. 諠�ｹｦ蛻苓｡ｨ荳ｺ遨ｺ譌ｶ逧�署遉ｺ (荳榊序) */
#ls-letters-list .ls-empty-placeholder {
  text-align: center;
  color: var(--text-secondary);
  padding: 50px 0;
}

/* 2. 蜊穂ｸｪ諠�ｹｦ蜊｡迚�噪譬ｷ蠑� (蟾ｲ菫ｮ謾ｹ) */
.ls-love-letter-item {
  background-color: var(--secondary-bg);
  border-radius: 12px;
  padding: 15px;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.07);
  cursor: pointer;
  transition: transform 0.2s, box-shadow 0.2s;
  display: flex;
  gap: 12px;
  align-items: center;
}
.ls-love-letter-item:hover {
  transform: translateY(-3px);
  box-shadow: 0 6px 12px rgba(0, 0, 0, 0.1);
}

/* 3. 諠�ｹｦ蝗ｾ譬�噪譬ｷ蠑� (荳榊序) */
.ls-love-letter-item .letter-icon {
  flex-shrink: 0;
  width: 45px;
  height: 45px;
  color: #ff8fab;
}

/* 4. 諠�ｹｦ荳ｻ隕∽ｿ｡諱ｯ蛹ｺ (蟾ｲ菫ｮ謾ｹ�悟刈蜈･螟ｴ蜒�) */
.ls-love-letter-item .letter-info {
  flex-grow: 1;
  overflow: hidden;
}
/* 縲先�ｸ蠢�ｿｮ謾ｹ縲第噺莉ｶ莠ｺ蛹ｺ蝓溽鴫蝨ｨ蛹�性螟ｴ蜒丞柱蜷榊ｭ� */
.ls-love-letter-item .letter-recipient {
  display: flex;
  align-items: center;
  gap: 8px;
  font-size: 15px;
  font-weight: 600;
  margin-bottom: 5px;
}
.ls-love-letter-item .letter-recipient .avatar {
  width: 24px;
  height: 24px;
  border-radius: 50%;
}
.ls-love-letter-item .letter-preview {
  font-size: 13px;
  color: var(--text-secondary);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

/* 5. 蜿台ｿ｡莠ｺ菫｡諱ｯ (荳榊序) */
.ls-love-letter-item .letter-sender {
  flex-shrink: 0;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 4px;
  font-size: 11px;
  color: var(--text-secondary);
}
.ls-love-letter-item .letter-sender .avatar {
  width: 30px;
  height: 30px;
  border-radius: 50%;
}

/* 6. 縲仙�譁ｰ縲第ュ荵ｦ隸ｦ諠�衍逵句勣 (菫｡郤ｸ譬ｷ蠑�) */
#ls-letter-viewer-modal {
  z-index: 1001; /* 遑ｮ菫晏惠譛荳雁ｱ� */
}
.ls-letter-viewer-content {
  background-color: #fdfaef; /* 貂ｩ鬥ｨ逧�ｱｳ鮟�牡菫｡郤ｸ閭梧勹 */
  width: 90%;
  max-width: 340px;
  height: 75%;
  border-radius: 15px;
  box-shadow: 0 8px 30px rgba(0, 0, 0, 0.15);
  display: flex;
  flex-direction: column;
  font-family: 'Kaiti', 'STKaiti', serif; /* 菴ｿ逕ｨ譖ｴ蜈ｸ髮�噪讌ｷ菴� */
}
.letter-viewer-header {
  padding: 15px;
  border-bottom: 1px dashed #e0d9c7;
  display: flex;
  align-items: center;
  gap: 10px;
  color: #5d4037;
}
.letter-viewer-header .meta-avatar {
  width: 36px;
  height: 36px;
  border-radius: 50%;
}
.letter-viewer-header .recipient-info .label {
  font-size: 13px;
  color: #a1887f;
}
.letter-viewer-header .recipient-info .name {
  font-size: 16px;
  font-weight: 600;
}
.letter-viewer-body {
  flex-grow: 1;
  padding: 20px;
  font-size: 16px;
  line-height: 2; /* 譖ｴ螟ｧ逧�｡碁ｫ假ｼ梧ｨ｡諡滓焔蜀吩ｿ｡逧��騾よ─ */
  color: #4a443b;
  overflow-y: auto;
  white-space: pre-wrap;
  word-break: break-word;
}
.letter-viewer-footer {
  padding: 15px;
  border-top: 1px dashed #e0d9c7;
  display: flex;
  justify-content: space-between;
  align-items: flex-end;
}
.letter-viewer-footer .sender-info {
  font-size: 14px;
  color: #5d4037;
  font-weight: 600;
}
.letter-viewer-footer .sender-info .timestamp {
  font-size: 11px;
  color: #a1887f;
  font-weight: normal;
}
.letter-viewer-footer .letter-actions {
  display: flex;
  gap: 10px;
}
.letter-viewer-footer .letter-actions button {
  padding: 8px 15px;
  border-radius: 15px;
  border: 1px solid #d4bda5;
  background-color: transparent;
  color: #8c7b6c;
  cursor: pointer;
  font-size: 14px;
}
.letter-viewer-footer .letter-actions button.primary {
  background-color: #ff8fab;
  color: white;
  border-color: #ff8fab;
}

/* 笆ｲ笆ｲ笆ｲ 譬ｷ蠑乗崛謐｢扈捺據 笆ｲ笆ｲ笆ｲ */
/* 笆ｼ笆ｼ笆ｼ 霑呎弍荳ｺ諠�ｹｦ譁ｰ蠅樒噪譬ｷ蠑� 笆ｼ笆ｼ笆ｼ */

/* 1. 隶ｩ諠�ｹｦ蜊｡迚�庄莉･菴應ｸｺ蛻�髯､謖蛾聴逧�ｮ壻ｽ榊盾閠�せ */
.ls-love-letter-item {
  position: relative; /* 蜈ｳ髞ｮ�� */
}

/* 2. 蛻�髯､謖蛾聴逧��ｷ蠑� */
.ls-letter-delete-btn {
  position: absolute;
  top: 10px;
  right: 10px;
  width: 24px;
  height: 24px;
  background-color: rgba(0, 0, 0, 0.1);
  color: #888;
  border: none;
  border-radius: 50%;
  font-size: 18px;
  line-height: 24px;
  text-align: center;
  cursor: pointer;
  opacity: 0; /* 鮟倩ｮ､髫占酪 */
  transition: all 0.2s ease;
  z-index: 5; /* 遑ｮ菫晏惠譛荳雁ｱ� */
}

/* 3. 鮠�譬�ぎ蛛懷惠謨ｴ蠑�蜊｡迚�ｸ頑慮�梧燕譏ｾ遉ｺ蛻�髯､謖蛾聴 */
.ls-love-letter-item:hover .ls-letter-delete-btn {
  opacity: 1;
}

/* 4. 鮠�譬�ぎ蛛懷惠蛻�髯､謖蛾聴荳頑慮�檎ｻ吩ｸ轤ｹ蜿埼ｦ域譜譫� */
.ls-letter-delete-btn:hover {
  background-color: #ff3b30;
  color: white;
}
/* 笆ｼ笆ｼ笆ｼ 謚願ｿ吩ｸ謨ｴ蝮怜�譁ｰ逧ГSS�檎ｲ倩ｴｴ蛻ｰ <style> 譬�ｭｾ逧�怙譛ｫ蟆ｾ 笆ｼ笆ｼ笆ｼ */

/* --- 縲仙�譁ｰ縲第ュ萓｣遨ｺ髣ｴ-諠�ｾ｣謠宣琉譬ｷ蠑� --- */

#ls-questions-list {
  display: flex;
  flex-direction: column;
  gap: 15px;
}

.ls-question-card {
  background-color: var(--secondary-bg);
  border-radius: 12px;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
  overflow: hidden; /* 髦ｲ豁｢蜀�Κ蜈�ｴ�貅｢蜃ｺ蝨�ｧ� */
}

.ls-question-section,
.ls-answer-section {
  padding: 15px;
  display: flex;
  gap: 12px;
  align-items: flex-start;
}

.ls-question-section {
  border-bottom: 1px dashed var(--border-color);
}

.ls-question-card .qa-avatar {
  width: 40px;
  height: 40px;
  border-radius: 50%;
  flex-shrink: 0;
}

.ls-question-card .qa-main {
  display: flex;
  flex-direction: column;
  width: 100%;
}

.ls-question-card .qa-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 8px;
}

.ls-question-card .qa-author {
  font-weight: 600;
}

.ls-question-card .qa-timestamp {
  font-size: 11px;
  color: var(--text-secondary);
}

.ls-question-card .qa-content {
  font-size: 15px;
  line-height: 1.6;
  white-space: pre-wrap;
  word-break: break-word;
}

.ls-answer-placeholder {
  padding: 20px;
  text-align: center;
}

.ls-answer-btn {
  padding: 8px 20px;
  border: 1px solid var(--accent-color);
  background-color: transparent;
  color: var(--accent-color);
  border-radius: 20px;
  cursor: pointer;
  font-weight: 500;
}

/* 笆ｲ笆ｲ笆ｲ 譁ｰ蠅曚SS扈捺據 笆ｲ笆ｲ笆ｲ */
/* 笆ｼ笆ｼ笆ｼ 縲仙�譁ｰ縲題ｿ呎弍荳ｺ窶懈ュ萓｣謠宣琉窶晄眠蠅樒噪蛻�髯､謖蛾聴譬ｷ蠑� 笆ｼ笆ｼ笆ｼ */

/* 1. 隶ｩ謠宣琉蜊｡迚�庄莉･菴應ｸｺ蛻�髯､謖蛾聴逧�ｮ壻ｽ榊盾閠�せ */
.ls-question-card {
  position: relative; /* 蜈ｳ髞ｮ�� */
}

/* 2. 蛻�髯､謖蛾聴逧��ｷ蠑� */
.ls-question-delete-btn {
  position: absolute; /* 扈晏ｯｹ螳壻ｽ搾ｼ瑚ｮｩ螳�ｵｮ蜉ｨ襍ｷ譚･ */
  top: 10px;
  right: 10px;
  width: 24px;
  height: 24px;
  background-color: rgba(0, 0, 0, 0.08); /* 蜊企乗�逧�レ譎ｯ */
  color: var(--text-secondary); /* 菴ｿ逕ｨ蜈ｨ螻逧�ｬ｡隕∵枚蟄鈴｢懆牡 */
  border: none;
  border-radius: 50%; /* 蝨�ｽ｢ */
  font-size: 18px; /* "ﾃ�"蜿ｷ逧�､ｧ蟆� */
  line-height: 24px; /* 隶ｩ"ﾃ�"蜿ｷ蝙ら峩螻�ｸｭ */
  text-align: center;
  cursor: pointer;
  opacity: 0; /* 鮟倩ｮ､髫占酪 */
  transition: all 0.2s ease; /* 豺ｻ蜉�蟷ｳ貊醍噪蜉ｨ逕ｻ謨域棡 */
  z-index: 5; /* 遑ｮ菫晏惠譛荳雁ｱ� */
}

/* 3. 鮠�譬�ぎ蛛懷惠謨ｴ蠑�蜊｡迚�ｸ頑慮�梧燕譏ｾ遉ｺ蛻�髯､謖蛾聴 */
.ls-question-card:hover .ls-question-delete-btn {
  opacity: 1;
}

/* 4. 鮠�譬�ぎ蛛懷惠蛻�髯､謖蛾聴荳頑慮�檎ｻ吩ｸ轤ｹ蜿埼ｦ域譜譫� */
.ls-question-delete-btn:hover {
  background-color: #ff3b30;
  color: white;
}
/* 笆ｲ笆ｲ笆ｲ 譁ｰ蠅樊�ｷ蠑冗ｻ捺據 笆ｲ笆ｲ笆ｲ */
/* 笆ｼ笆ｼ笆ｼ 霑呎弍荳ｺ窶懷�莠ｫ窶晏粥閭ｽ譁ｰ蠅樒噪譬ｷ蠑� 笆ｼ笆ｼ笆ｼ */

.ls-share-item .title {
  font-weight: 600; /* 譬�｢伜刈邊� */
}

/* 笆ｼ笆ｼ笆ｼ 逕ｨ霑吝摎縲仙ｷｲ菫ｮ螟肴困陦碁琉鬚倥醍噪莉｣遐�ｼ梧崛謐｢謗画立逧� .ls-share-item .summary 譬ｷ蠑� 笆ｼ笆ｼ笆ｼ */
.ls-share-item .summary {
  font-size: 14px;
  color: #666;
  margin-top: 8px;
  line-height: 1.6;
  /* --- 譬ｸ蠢�ｿｮ謾ｹ�壼�隶ｸ譁�ｭ苓�蜉ｨ謐｢陦� --- */
  white-space: normal; /* <--- 蜈∬ｮｸ謐｢陦� */
  overflow: visible; /* <--- 蜈∬ｮｸ蜀�ｮｹ貅｢蜃ｺ螳ｹ蝎ｨ�亥叉譏ｾ遉ｺ螟夊｡鯉ｼ� */
  text-overflow: clip; /* <--- 遖∫畑逵∫払蜿ｷ */
  word-break: break-word; /* <--- 髦ｲ豁｢雜�柄蜊戊ｯ肴�體ｾ謗･謦醍�ｴ蟶�ｱ */
}
/* 笆ｲ笆ｲ笆ｲ 譖ｿ謐｢扈捺據 笆ｲ笆ｲ笆ｲ */

#phone-screen.dark-mode .ls-share-item .summary {
  color: #a0a0a0;
}

/* 笆ｲ笆ｲ笆ｲ 譁ｰ蠅樊�ｷ蠑冗ｻ捺據 笆ｲ笆ｲ笆ｲ */
/* 笆ｼ笆ｼ笆ｼ 縲仙�譁ｰ縲題ｿ呎弍諠�ｾ｣遨ｺ髣ｴ荳灘ｱ樣浹荵先眺謾ｾ蝎ｨ逧ГSS譬ｷ蠑� 笆ｼ笆ｼ笆ｼ */

/* 謦ｭ謾ｾ蝎ｨ荳ｻ遯怜哨逧��鄂ｩ螻� */
#ls-music-player-overlay {
  background-color: rgba(0, 0, 0, 0.4);
  backdrop-filter: blur(5px);
  -webkit-backdrop-filter: blur(5px);
}

/* 謦ｭ謾ｾ蛻苓｡ｨ髱｢譚ｿ逧��ｷ蠑� (逶ｴ謗･螟咲畑邇ｰ譛臥噪) */
#ls-music-playlist-panel {
  /* 謌台ｻｬ逶ｴ謗･菴ｿ逕ｨ .music-playlist-panel 逧�鴫譛画�ｷ蠑擾ｼ檎怐蜴ｻ驥榊､堺ｻ｣遐� */
}

/* 笆ｲ笆ｲ笆ｲ CSS譬ｷ蠑冗ｲ倩ｴｴ扈捺據 笆ｲ笆ｲ笆ｲ */
/* 縲先眠蠅槭鷹嚼阯乗ュ萓｣遨ｺ髣ｴ謦ｭ謾ｾ蝎ｨ荳ｭ荳埼怙隕∫噪謖蛾聴 */
#ls-music-player-overlay #ls-playlist-btn,
#ls-music-player-overlay #ls-prev-btn,
#ls-music-player-overlay #ls-next-btn {
  display: none;
}

/* 縲先眠蠅槭大ｱ�ｸｭ謦ｭ謾ｾ/證ょ●謖蛾聴 */
#ls-music-player-overlay .music-controls {
  justify-content: center; /* 隶ｩ蜑ｩ荳狗噪謖蛾聴螻�ｸｭ */
}

/* 笆ｲ笆ｲ笆ｲ CSS莉｣遐∵崛謐｢扈捺據 笆ｲ笆ｲ笆ｲ */
/* 縲先眠蠅槭第ュ萓｣遨ｺ髣ｴ謦ｭ謾ｾ蝎ｨ蟆�擇/豁瑚ｯ榊�謐｢譬ｷ蠑� */
#ls-display-area.show-lyrics #ls-album-cover {
  display: none; /* 蠖捺怏 show-lyrics 邀ｻ譌ｶ�碁嚼阯丞ｰ�擇 */
}
#ls-display-area.show-lyrics #ls-lyrics-container {
  display: block !important; /* 蠖捺怏 show-lyrics 邀ｻ譌ｶ�梧仞遉ｺ豁瑚ｯ� */
}

/* 縲先眠蠅槭第ｭ瑚ｯ崎｡梧�ｷ蠑� */
#ls-lyrics-container .lyric-line {
  padding: 4px 0;
  font-size: 14px;
  color: #666;
  opacity: 0.7;
  transition: all 0.5s ease;
}
#ls-lyrics-container .lyric-line.active {
  font-size: 16px;
  color: #000;
  opacity: 1;
  font-weight: 600;
}
/* 笆ｼ笆ｼ笆ｼ 謚願ｿ吩ｸ謨ｴ蝮怜�譁ｰ逧ГSS�檎ｲ倩ｴｴ蛻ｰ <style> 譬�ｭｾ逧�怙譛ｫ蟆ｾ 笆ｼ笆ｼ笆ｼ */

/* --- 縲仙�譁ｰ縲第ュ萓｣遨ｺ髣ｴ-諠�ｾ｣逡ｪ闌�帖譬ｷ蠑� --- */

/* 荳ｻ鬘ｵ蟶�ｱ */
#ls-pomodoro-home {
  display: flex;
  flex-direction: column;
  gap: 15px;
}

#ls-pomodoro-start-btn-container {
  padding: 20px;
  background-color: var(--secondary-bg);
  border-radius: 12px;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
  text-align: center;
  cursor: pointer;
  transition: transform 0.2s, box-shadow 0.2s;
}
#ls-pomodoro-start-btn-container:hover {
  transform: translateY(-5px);
  box-shadow: 0 6px 15px rgba(0, 0, 0, 0.12);
}
#ls-pomodoro-start-icon {
  font-size: 32px;
  color: var(--accent-color);
  line-height: 1;
}
#ls-pomodoro-start-btn-container p {
  margin: 8px 0 0 0;
  font-weight: 500;
  color: var(--text-primary);
}

/* 蜴�彰隶ｰ蠖募�陦ｨ */
#ls-pomodoro-history-list {
  display: flex;
  flex-direction: column;
  gap: 10px;
}
.pomodoro-history-item {
  background-color: var(--secondary-bg);
  border-radius: 8px;
  padding: 12px 15px;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.06);
  cursor: pointer;
}
.pomodoro-history-item:hover {
  background-color: #f9f9f9;
}
.pomodoro-history-item .task {
  font-weight: 500;
  margin-bottom: 5px;
}
.pomodoro-history-item .meta {
  font-size: 12px;
  color: var(--text-secondary);
}

/* 笆ｼ笆ｼ笆ｼ 謚贋ｸ矩擇霑呎紛蝮励宣煤譛ｺ蜈ｨ螻冗沿縲台ｻ｣遐�ｼ梧崛謐｢謗我ｽ�譌ｧ逧� #ls-pomodoro-timer-active 譬ｷ蠑� 笆ｼ笆ｼ笆ｼ */
#ls-pomodoro-timer-active {
  /* 譬ｸ蠢�ｿｮ謾ｹ1�壼ｰ�ｮ壻ｽ肴婿蠑丈ｻ� absolute 謾ｹ荳ｺ fixed */
  /* 霑吩ｼ夊ｮｩ隶｡譌ｶ蝎ｨ逡碁擇閼ｱ遖ｻ蜴滓擂逧�懈ュ萓｣遨ｺ髣ｴ窶晞｡ｵ髱｢�梧ｵｮ蜉ｨ蝨ｨ謨ｴ荳ｪ謇区惻螻丞ｹ慕噪譛鬘ｶ螻ゑｼ�*/
  position: fixed;

  /* 譬ｸ蠢�ｿｮ謾ｹ2�夂畑霑吝屁荳ｪ螻樊ｧ隶ｩ螳�酎貊｡謨ｴ荳ｪ螻丞ｹ� */
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;

  /* 譬ｸ蠢�ｿｮ謾ｹ3�夊ｮｾ鄂ｮ荳荳ｪ雜�ｫ倡噪螻らｺｧ�檎｡ｮ菫晏ｮ��逶紋ｽ乗園譛我ｸ懆･ｿ�悟ｮ樒鴫窶憺煤譛ｺ窶晄譜譫� */
  z-index: 2000;

  background-size: cover;
  background-position: center;
  color: white;
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  align-items: center;
  padding: 50px 20px;
  box-sizing: border-box;
  text-shadow: 0 2px 8px rgba(0, 0, 0, 0.5);

  /* (蜿ｯ騾我ｼ伜喧) 荳ｺiPhone逧��豬ｷ蜥悟ｺ暮Κ蟆城ｻ第擅逡吝�螳牙�霍晉ｦｻ�瑚ｮｩ逡碁擇譖ｴ鄒手ｧ� */
  padding-top: calc(50px + env(safe-area-inset-top));
  padding-bottom: calc(50px + env(safe-area-inset-bottom));
}
/* 笆ｲ笆ｲ笆ｲ 譖ｿ謐｢扈捺據 笆ｲ笆ｲ笆ｲ */

/* 笆ｼ笆ｼ笆ｼ 逕ｨ霑呎ｮｵ譁ｰ莉｣遐∵崛謐｢ 笆ｼ笆ｼ笆ｼ */
.pomodoro-char-avatar-container {
  position: relative;
  text-align: center;
  width: 100%; /* <-- 蟆ｱ譏ｯ譁ｰ蠅樔ｺ�ｿ吩ｸ陦鯉ｼ� */
}
/* 笆ｲ笆ｲ笆ｲ 譖ｿ謐｢扈捺據 笆ｲ笆ｲ笆ｲ */
#pomodoro-char-avatar {
  width: 80px;
  height: 80px;
  border-radius: 50%;
  border: 3px solid rgba(255, 255, 255, 0.8);
  cursor: pointer;
  transition: transform 0.2s;
}
#pomodoro-char-avatar:active {
  transform: scale(0.9);
}
/* 笆ｼ笆ｼ笆ｼ 逕ｨ霑呎ｮｵ縲先怙扈井ｿｮ螟咲沿縲台ｻ｣遐∝ｮ梧紛譖ｿ謐｢譌ｧ逧� #pomodoro-char-log 譬ｷ蠑� 笆ｼ笆ｼ笆ｼ */
#pomodoro-char-log {
  position: absolute;
  top: 100%;
  margin-top: 12px;
  left: 50%;
  transform: translateX(-50%);
  background-color: rgba(0, 0, 0, 0.65);
  padding: 8px 12px;
  border-radius: 10px;
  font-size: 14px;
  max-width: 80%; /* <-- 譬ｸ蠢�ｿｮ謾ｹ蝨ｨ霑咎㈹�∬ｮｩ豌疲ｳ｡蜿ｯ莉･蜿伜ｾ玲峩螳ｽ */
  width: max-content; /* <-- 譁ｰ蠅橸ｼ∫｡ｮ菫晄ｰ疲ｳ｡螳ｽ蠎ｦ譬ｹ謐ｮ蜀�ｮｹ閾ｪ騾ょｺ費ｼ御ｽ�ｸ堺ｼ夊ｶ�ｿ�80% */
  opacity: 0;
  visibility: hidden;
  transition: opacity 0.3s, visibility 0.3s, margin-top 0.3s; /* margin-top隶ｩ蜉ｨ逕ｻ譖ｴ蟷ｳ貊� */
  pointer-events: none;
  white-space: pre-wrap;
  box-sizing: border-box; /* 譁ｰ蠅橸ｼ�亟豁｢蜀�ｾｹ霍晏ｯｼ閾ｴ蟶�ｱ髣ｮ鬚� */
}
/* 笆ｲ笆ｲ笆ｲ 譖ｿ謐｢扈捺據 笆ｲ笆ｲ笆ｲ */

#pomodoro-char-log::after {
  content: '';
  position: absolute;
  bottom: 100%; /* <-- 菫ｮ謾ｹ霑咎㈹ */
  left: 50%;
  transform: translateX(-50%);
  width: 0;
  height: 0;
  border: 6px solid transparent;
  border-bottom-color: rgba(0, 0, 0, 0.65); /* <-- 菫ｮ謾ｹ霑咎㈹ */
}

#pomodoro-char-log.visible {
  opacity: 1;
  visibility: visible; /* 譁ｰ蠅� */
  margin-bottom: 22px; /* 譬ｸ蠢�ｿｮ螟�3: 譏ｾ遉ｺ譌ｶ蜷台ｸ顔ｧｻ蜉ｨ荳轤ｹ�梧怏荳荳ｪ窶懷�蜃ｺ譚･窶晉噪蜉ｨ逕ｻ謨域棡 */
}
/* 笆ｲ笆ｲ笆ｲ 譖ｿ謐｢扈捺據 笆ｲ笆ｲ笆ｲ */

/* 譌ｶ髣ｴ蜥御ｻｻ蜉｡譏ｾ遉ｺ */
.pomodoro-timer-display {
  text-align: center;
}
#pomodoro-current-task {
  font-size: 20px;
  font-weight: 500;
  margin-bottom: 10px;
}
#pomodoro-time {
  font-size: 72px;
  font-weight: 200;
  letter-spacing: 2px;
}

/* 扈捺據謖蛾聴 */
#pomodoro-end-btn {
  padding: 12px 30px;
  font-size: 16px;
  font-weight: 600;
  border: 2px solid white;
  background-color: rgba(255, 255, 255, 0.2);
  color: white;
  border-radius: 25px;
  cursor: pointer;
}

/* 蜴�彰隸ｦ諠�ｼｹ遯怜�逧�♀螟ｩ豌疲ｳ｡ */
#pomodoro-history-viewer-content {
  display: flex;
  flex-direction: column;
  gap: 15px;
}
.pomodoro-log-bubble {
  padding: 8px 12px;
  border-radius: 12px;
  max-width: 80%;
  background-color: #f0f0f0;
  align-self: flex-start;
  line-height: 1.5;
}
#phone-screen.dark-mode .pomodoro-log-bubble {
  background-color: #2c2c2e;
}

/* 笆ｲ笆ｲ笆ｲ 譁ｰ蠅曚SS扈捺據 笆ｲ笆ｲ笆ｲ */

/* --- 菫ｮ螟肴眠蠅槫粥閭ｽ蟇ｼ閾ｴ逧�ｻ壼勘譚｡髣ｮ鬚� --- */

/* 1. 蠑ｺ蛻ｶ髫占酪菴�荳崎ｦ∫噪窶懈ュ萓｣遨ｺ髣ｴ謦ｭ謾ｾ蛻苓｡ｨ窶� */
#ls-music-playlist-panel {
  display: none !important;
}

/* 2. 遑ｮ菫昜ｸｻ螻丞ｹ募ｮｹ蝎ｨ扈晏ｯｹ荳堺ｼ壼�邇ｰ貊壼勘譚｡�悟ｮ樒鴫蝗ｺ螳壽譜譫� */
#phone-screen {
  overflow: hidden !important;
}

/* === 縲仙怦蟄占ｯ�ｮｺ蛹ｺ扈域栫菫ｮ螟� - 隕�尠扈ｧ謇ｿ迚医� === */

/* 
   髣ｮ鬚俶�ｹ貅撰ｼ壼怦蟄占ｯ�ｮｺ蛹ｺ(#post-comment-input-area)髞呵ｯｯ蝨ｰ扈ｧ謇ｿ莠�
   荳ｻ閨雁､ｩ霎灘�蛹ｺ(.chat-input-area)逧��ｷ蠑擾ｼ悟ｯｼ閾ｴ蟶�ｱ髞吩ｹｱ縲�
   莉･荳倶ｻ｣遐∝ｰ�宙蟇ｹ蝨亥ｭ仙ｱ丞ｹ�(#post-screen)荳狗噪隸�ｮｺ蛹ｺ霑幄｡悟ｼｺ蛻ｶ隕�尠縲�
*/

/* 1. 蠑ｺ蛻ｶ驥咲ｽｮ隸�ｮｺ蛹ｺ螳ｹ蝎ｨ逧�ｸ�ｱ�瑚ｮｩ螳�ｰｴ蟷ｳ謗貞�縲∝桙逶ｴ螻�ｸｭ */
#post-screen #post-comment-input-area {
  display: flex !important;
  flex-direction: row !important; /* 蠑ｺ蛻ｶ讓ｪ蜷第賜蛻� */
  align-items: center !important; /* 蠑ｺ蛻ｶ蝙ら峩螻�ｸｭ�悟ｮ樒鴫蟷ｳ陦� */
  gap: 10px !important; /* 隶ｾ鄂ｮ霎灘�譯�柱謖蛾聴逧�龍霍� */
}

/* 2. 遑ｮ菫晏�螻ょｮｹ蝎ｨ荵滓ｭ｣遑ｮ莨ｸ螻� */
#post-screen #post-comment-input-area .chat-input-main-row {
  flex-grow: 1 !important;
  display: flex !important;
  align-items: center !important;
  gap: 10px !important;
}

/* 3. 蠑ｺ蛻ｶ霎灘�譯�噪譬ｷ蠑擾ｼ悟ｹｶ隶ｩ螳�｡ｫ貊｡遨ｺ髣ｴ */
#post-screen #post-comment-input {
  flex-grow: 1 !important; /* 隗｣蜀ｳ蜿ｳ萓ｧ遨ｺ逋ｽ逧��髞ｮ�� */
  min-height: 40px;
  background-color: #f0f2f5 !important;
  border-radius: 20px !important;
  border: none !important;
  padding: 10px 15px !important;
  font-size: 14px !important;
  line-height: 1.5;
  resize: none;
  box-sizing: border-box;
}

/* 4. 蠑ｺ蛻ｶ蜿鷹∵潔髓ｮ逧��ｷ蠑� */
#post-screen #send-post-comment-btn {
  height: 40px !important;
  padding: 0 20px !important;
  border-radius: 20px !important;
  background-color: var(--accent-color) !important;
  color: white !important;
  font-weight: 600 !important;
  font-size: 14px !important;
  border: none !important;
  flex-shrink: 0; /* 髦ｲ豁｢謖蛾聴陲ｫ蜴狗ｼｩ */
}

/* 螟憺龍讓｡蠑城る� */
#phone-screen.dark-mode #post-screen #post-comment-input {
  background-color: #2c2c2e !important;
}
/* 笆ｼ笆ｼ笆ｼ 霑呎弍譁ｰ蠅樒噪荳ｻ螻丞ｹ墓ｻ大勘譬ｷ蠑� 笆ｼ笆ｼ笆ｼ */

/* 荳ｻ螻丞ｹ墓ｻ大勘螳ｹ蝎ｨ */
.home-screen-slider {
  width: 100%;
  height: 100%; /* 遑ｮ菫晏ｮ��謦第ｻ｡辷ｶ螳ｹ蝎ｨ */
  display: flex; /* 隶ｩ荳､鬘ｵ蟷ｶ謗堤ｫ吝･ｽ */
  overflow-x: auto; /* 蜈∬ｮｸ豌ｴ蟷ｳ貊壼勘 */
  overflow-y: hidden; /* 遖∵ｭ｢蝙ら峩貊壼勘 */
  scroll-snap-type: x mandatory; /* 霑吝ｰｱ譏ｯ貊大勘逧�ｭ疲ｳ包ｼ∬ｮｩ螳��蜉ｨ蜷ｸ髯�芦豈丈ｸ鬘ｵ */
  -webkit-overflow-scrolling: touch; /* 蝨ｨiOS荳雁ｮ樒鴫譖ｴ蟷ｳ貊醍噪貊壼勘 */
  scrollbar-width: none; /* 髫占酪貊壼勘譚｡ (Firefox) */
  -ms-overflow-style: none; /* 髫占酪貊壼勘譚｡ (IE) */
}
.home-screen-slider::-webkit-scrollbar {
  display: none; /* 髫占酪貊壼勘譚｡ (Chrome, Safari) */
}

.home-page {
  width: 100%; /* 豈丈ｸ鬘ｵ驛ｽ蜊�貊｡謨ｴ荳ｪ螻丞ｹ募ｮｽ蠎ｦ */
  height: 100%;
  flex-shrink: 0; /* 髦ｲ豁｢鬘ｵ髱｢陲ｫ蜴狗ｼｩ蜿伜ｽ｢ */
  scroll-snap-align: start; /* 遑ｮ菫晄ｯ乗ｬ｡驛ｽ蟇ｹ鮨宣｡ｵ髱｢逧�ｼ蟋倶ｽ咲ｽｮ */

  /* 隶ｩ鬘ｵ髱｢蜀�Κ逧��螳ｹ蜿ｯ莉･貊壼勘 */
  overflow-y: auto;
  padding: 0 20px; /* 菫晄戟蜥御ｽ�蜴滓擂荳譬ｷ逧�ｷｦ蜿ｳ霎ｹ霍� */
  box-sizing: border-box;
  position: relative; /* 笘��笘� 蝨ｨ霑咎㈹豺ｻ蜉�霑吩ｸ陦鯉ｼ� 笘��笘� */
}

/* 蛻�｡ｵ蟆丞怕轤ｹ逧�ｮｹ蝎ｨ */
.pagination-dots {
  position: absolute;
  bottom: calc(100px + env(safe-area-inset-bottom)); /* 謾ｾ蝨ｨDock譬丈ｸ頑婿 */
  left: 50%;
  transform: translateX(-50%);
  display: flex;
  gap: 8px; /* 蝨�せ荵矩龍逧�龍霍� */
}

/* 蜊穂ｸｪ蟆丞怕轤ｹ */
.pagination-dots .dot {
  width: 8px;
  height: 8px;
  border-radius: 50%;
  background-color: rgba(255, 255, 255, 0.4); /* 譛ｪ騾我ｸｭ譌ｶ逧�｢懆牡 */
  transition: background-color 0.3s ease; /* 豺ｻ蜉�荳荳ｪ蟷ｳ貊醍噪鬚懆牡霑�ｸ｡蜉ｨ逕ｻ */
}

/* 陲ｫ騾我ｸｭ逧�ｰ丞怕轤ｹ */
.pagination-dots .dot.active {
  background-color: rgba(255, 255, 255, 0.9); /* 騾我ｸｭ譌ｶ蜿伜ｾ玲峩莠ｮ */
}

/* 笆ｲ笆ｲ笆ｲ 譁ｰ蠅樊�ｷ蠑冗ｻ捺據 笆ｲ笆ｲ笆ｲ */
/* 笆ｼ笆ｼ笆ｼ 荳ｻ螻丞ｹ暮｡ｵ髱｢邂｡逅��ｷ蠑� 笆ｼ笆ｼ笆ｼ */

.home-page-item {
  display: flex;
  align-items: center;
  padding: 10px;
  margin-bottom: 8px;
  background: var(--bg-primary);
  border-radius: 6px;
  border: 1px solid var(--border-color);
  transition: all 0.2s ease;
}

.home-page-item:hover {
  background: var(--bg-hover);
  border-color: var(--primary-color);
}

.home-page-item.default-page {
  opacity: 0.7;
}

.home-page-item.default-page .home-page-checkbox {
  opacity: 0.3;
  cursor: not-allowed;
}

.home-page-checkbox {
  width: 18px;
  height: 18px;
  margin-right: 12px;
  cursor: pointer;
  accent-color: var(--primary-color);
}

.home-page-info {
  flex: 1;
  display: flex;
  align-items: center;
  gap: 8px;
}

.home-page-number {
  font-weight: 600;
  color: var(--text-primary);
  min-width: 60px;
}

.home-page-badge {
  display: inline-block;
  padding: 2px 8px;
  font-size: 11px;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  color: white;
  border-radius: 10px;
  font-weight: 500;
}

.home-page-badge.default {
  background: #999;
}

.home-page-badge.custom {
  background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
}
/* 笆ｲ笆ｲ笆ｲ 鬘ｵ髱｢邂｡逅��ｷ蠑冗ｻ捺據 笆ｲ笆ｲ笆ｲ */

/* 笆ｼ笆ｼ笆ｼ 謚願ｿ呎ｮｵ譁ｰ譬ｷ蠑冗ｲ倩ｴｴ蛻ｰ <style> 譬�ｭｾ逧�怙譛ｫ蟆ｾ 笆ｼ笆ｼ笆ｼ */

/* 霑呎弍隨ｬ莠碁｡ｵ蟶�ｱ逧��譁ｰ譬ｷ蠑� (V2 鄒主喧迚�) */

/* 1. 謚雁､ｴ蜒丞ｰ冗ｻ�ｻｶ螳壻ｽ榊芦蟾ｦ蜊雁ｱ冗噪荳ｭ髣ｴ */
#second-page-left-widget {
  position: absolute;
  top: 50px;
  left: 25%;
  transform: translateX(-50%);
}

/* 笘��笘� 霑呎弍荳ｺ螟ｴ蜒丞ｰ冗ｻ�ｻｶ譁ｰ蠅樒噪謾ｾ螟ｧ蜥檎ｻ�ｾｹ譯��ｷ蠑� 笘��笘� */
#second-page-left-widget .widget-circle-uploader {
  width: 65px; /* 螟ｴ蜒丞ｮｽ蠎ｦ莉� 65px 謾ｾ螟ｧ蛻ｰ 80px */
  height: 65px; /* 螟ｴ蜒城ｫ伜ｺｦ莉� 65px 謾ｾ螟ｧ蛻ｰ 80px */
  border-width: 1px; /* 霓ｮ蟒鍋ｺｿ莉� 2px 蜃丞ｰ丞芦 1px�悟序蠕怜ｾ育ｻ� */
  padding: 1px; /* 笘��笘� 蝨ｨ霑咎㈹豺ｻ蜉�霑吩ｸ陦鯉ｼ梧滑郛晞囮蜃丞ｰ丞芦1蜒冗ｴ� 笘��笘� */
}
/* 2. 謚雁承荳願ｧ堤噪蝗ｾ譬�隼荳ｺ蟷ｶ謗呈賜蛻� */
#second-page-top-right-apps {
  position: absolute;
  top: 50px;
  right: 30px;
  display: flex;
  gap: 30px; /* 笘��笘� 蝗ｾ譬�龍霍昜ｻ� 25px 蠅槫刈蛻ｰ 30px�梧級蠑霍晉ｦｻ 笘��笘� */
}

/* 3. 譁�ｭ鈴｢懆牡譬ｷ蠑丈ｿ晄戟荳榊序 */
#second-page-top-right-apps .desktop-app-icon .label {
  color: white;
  text-shadow: 0 1px 3px rgba(0, 0, 0, 0.5);
}
/* 笆ｼ笆ｼ笆ｼ 謚願ｿ呎ｮｵ譁ｰ譬ｷ蠑冗ｲ倩ｴｴ蛻ｰ <style> 譬�ｭｾ逧�怙譛ｫ蟆ｾ 笆ｼ笆ｼ笆ｼ */

/* 笆ｼ笆ｼ笆ｼ 隸ｷ逕ｨ霑吶蝉ｸ謨ｴ蝮玲眠莉｣遐√大ｮ梧紛譖ｿ謐｢謗我ｽ�荳頑ｬ｡豺ｻ蜉�逧�∝�莠守ｬｬ莠碁｡ｵ螟ｴ蜒冗噪謇譛韻SS 笆ｼ笆ｼ笆ｼ */

/* 1. 螳ｹ蝎ｨ�夂ｧｻ髯､蜈�ｴ�髣ｴ霍晢ｼ瑚ｮｩ螟ｴ蜒丞柱豌疲ｳ｡髱�諡｢ (菫晄戟荳榊序) */
#second-page-left-widget {
  /* 笘��笘� 蝨ｨ霑咎㈹譁ｰ蠅樔ｸ荳ｪ螳ｽ蠎ｦ�御ｽ應ｸｺ窶應ｸｻ螳ｽ蠎ｦ窶� 笘��笘� */
  width: 150px;
  gap: 0;
}

#second-page-bubble {
  margin-top: -10px;
  padding: 10px 15px;
  border-radius: 30px;
  /* 笘��笘� 菫ｮ謾ｹ轤ｹ1�夂ｧｻ髯､ min-width 蜥� display: inline-block 笘��笘� */
  /* min-width: 140px; */
  /* display: inline-block; */

  /* 笘��笘� 菫ｮ謾ｹ轤ｹ2�壽ｷｻ蜉�荳矩擇霑吩ｸ芽｡鯉ｼ瑚ｮｩ螳�頃貊｡辷ｶ螳ｹ蝎ｨ螳ｽ蠎ｦ蟷ｶ螻�ｸｭ 笘��笘� */
  width: 100%;
  box-sizing: border-box; /* 遑ｮ菫� padding 荳堺ｼ壽酎遐ｴ蟶�ｱ */
  text-align: center; /* 隶ｩ譁�ｭ怜惠蜿伜ｮｽ逧�ｮｹ蝎ｨ驥悟ｱ�ｸｭ */

  background-color: rgba(255, 255, 255, 0.4);
  color: #1c1c1e;
  text-shadow: none;
  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
  position: relative;
  z-index: 1;
}

/* 笘��笘� 菫ｮ謾ｹ轤ｹ2�壼惠霑咎㈹譏守｡ｮ遘ｻ髯､驍｣荳ｪ荳肴Φ隕∫噪蟆冶ｧ� 笘��笘� */
#second-page-bubble::after {
  content: none; /* 蠑ｺ蛻ｶ遘ｻ髯､扈ｧ謇ｿ閾ｪ .widget-bubble 逧�ｰ冶ｧ剃ｼｪ蜈�ｴ� */
}

/* 3. 謠仙合螟ｴ蜒丞ｱらｺｧ (菫晄戟荳榊序) */
#second-page-left-widget .widget-circle-uploader {
  position: relative;
  z-index: 2;
}

/* 笆ｲ笆ｲ笆ｲ 譖ｿ謐｢扈捺據 笆ｲ笆ｲ笆ｲ */
/* 笆ｼ笆ｼ笆ｼ 謚願ｿ吩ｸ謨ｴ蝮怜�譁ｰ逧ГSS�檎ｲ倩ｴｴ蛻ｰ <style> 譬�ｭｾ逧�怙譛ｫ蟆ｾ 笆ｼ笆ｼ笆ｼ */

/* 1. 譁ｰ蠅樊ｰ疲ｳ｡逧�ｮｹ蝎ｨ�瑚ｴ溯ｴ｣謨ｴ菴灘ｸ�ｱ蜥悟ｮｽ蠎ｦ */
#new-bubbles-container {
  display: flex;
  align-items: center;
  gap: 8px;
  /* 笘��笘� 譬ｸ蠢�ｿｮ謾ｹ�壼ｰ�崋螳夂噪 180px 謾ｹ荳ｺ 100%�瑚ｮｩ螳��蜉ｨ霍滄囂辷ｶ螳ｹ蝎ｨ 笘��笘� */
  width: 100%;
  margin-top: 8px;
}

/* 笆ｼ笆ｼ笆ｼ 逕ｨ霑吝摎縲仙�譁ｰ逧�ｻ｣遐√第崛謐｢譌ｧ逧� #flat-capsule-bubble 譬ｷ蠑� 笆ｼ笆ｼ笆ｼ */
/* 笆ｼ笆ｼ笆ｼ 逕ｨ霑吝摎縲蝉ｿｮ謾ｹ蜷弱醍噪莉｣遐∵崛謐｢譌ｧ逧� #flat-capsule-bubble 譬ｷ蠑� 笆ｼ笆ｼ笆ｼ */
#flat-capsule-bubble {
  flex-grow: 1;
  min-width: auto;
  /* 笘��笘� 菫ｮ謾ｹ轤ｹ1�夐ｫ伜ｺｦ莉� 44px 蜃丞ｰ丞芦 38px 笘��笘� */
  height: 35px;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 0 15px;
  /* 笘��笘� 菫ｮ謾ｹ轤ｹ2�壽眠蠅櫁レ譎ｯ濶ｲ�悟ｰ�乗�蠎ｦ莉� 0.4 謠仙合蛻ｰ 0.6�瑚ｮｩ螳�峩荳埼乗� 笘��笘� */
  background-color: rgba(255, 255, 255, 0.4);
}
/* 笆ｲ笆ｲ笆ｲ 譖ｿ謐｢扈捺據 笆ｲ笆ｲ笆ｲ */

#flat-capsule-bubble::after {
  content: none; /* 遘ｻ髯､扈ｧ謇ｿ譚･逧�ｰ丞ｰｾ蟾ｴ */
}

/* 笆ｼ笆ｼ笆ｼ 逕ｨ霑吝摎縲蝉ｿｮ謾ｹ蜷弱醍噪莉｣遐∵崛謐｢譌ｧ逧� #circular-bubble 譬ｷ蠑� 笆ｼ笆ｼ笆ｼ */
#circular-bubble {
  flex-shrink: 0;
  /* 笘��笘� 菫ｮ謾ｹ轤ｹ1�壼ｮｽ蠎ｦ蜥碁ｫ伜ｺｦ驛ｽ莉� 44px 蜃丞ｰ丞芦 38px 笘��笘� */
  width: 35px;
  height: 35px;
  border-radius: 50%;
  padding: 0;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: auto;
  /* 笘��笘� 菫ｮ謾ｹ轤ｹ2�壽眠蠅櫁レ譎ｯ濶ｲ�御ｸ手Ω蝗頑ｰ疲ｳ｡菫晄戟荳閾ｴ�梧峩荳埼乗� 笘��笘� */
  background-color: rgba(255, 255, 255, 0.4);
}
/* 笆ｲ笆ｲ笆ｲ 譖ｿ謐｢扈捺據 笆ｲ笆ｲ笆ｲ */

/* 4. 遘ｻ髯､蝨�ｽ｢豌疲ｳ｡逧�ｰ丞ｰｾ蟾ｴ */
#circular-bubble::after {
  content: none;
}

/* 笆ｲ笆ｲ笆ｲ 譁ｰ蠅曚SS扈捺據 笆ｲ笆ｲ笆ｲ */
/* 笆ｼ笆ｼ笆ｼ 隸ｷ蟆�ｿ呎ｮｵ譁ｰ譬ｷ蠑冗ｲ倩ｴｴ蛻ｰ <style> 逧�忰蟆ｾ 笆ｼ笆ｼ笆ｼ */

/* 1. 譁ｰ螟ｴ蜒冗ｻ�ｻｶ逧�ｮ壻ｽ搾ｼ壻ｸｭ髣ｴ蛛丈ｸ� */
#second-page-center-avatar {
  position: absolute;
  top: 235px; /* 謗ｧ蛻ｶ荳贋ｸ倶ｽ咲ｽｮ�梧焚蛟ｼ雜雁ｰ剰ｶ企擒荳� */
  transform: translateX(-50%); /* 豌ｴ蟷ｳ螻�ｸｭ */
  z-index: 5; /* 遑ｮ菫晏ｮ�惠蜈ｶ莉門�邏�荵倶ｸ� */
}

/* 2. 譁ｰ螟ｴ蜒冗噪蟆ｺ蟇ｸ蜥梧�ｷ蠑擾ｼ壽ｯ皮ｬｬ荳荳ｪ螟ｧ�御ｸ疲ｲ｡譛芽ｽｮ蟒鍋ｺｿ */
#second-page-center-avatar .widget-circle-uploader {
  width: 85px; /* 豈皮ｬｬ荳荳ｪ螟ｴ蜒�(65px)螟ｧ荳蝨� */
  height: 85px; /* 菫晄戟豁｣蝨� */
  border: none; /* 遘ｻ髯､霓ｮ蟒鍋ｺｿ */
  padding: 0; /* 遘ｻ髯､蜀�ｾｹ霍晢ｼ瑚ｮｩ蝗ｾ迚�｡ｫ貊｡ */
}

/* 笆ｲ笆ｲ笆ｲ 譁ｰ譬ｷ蠑冗ｲ倩ｴｴ扈捺據 笆ｲ笆ｲ笆ｲ */
/* 笆ｼ笆ｼ笆ｼ 謚願ｿ吩ｸ謨ｴ蝮怜�譁ｰ逧ГSS�檎ｲ倩ｴｴ蛻ｰ <style> 譬�ｭｾ逧�怙譛ｫ蟆ｾ 笆ｼ笆ｼ笆ｼ */

/* 1. 霑呎弍蛹�｣ｹ螟ｴ蜒丞柱謇譛画眠豌疲ｳ｡逧�ｻ螳ｹ蝎ｨ (V2 蜉�螟ｧ迚�) */
/* 1. 霑呎弍蛹�｣ｹ螟ｴ蜒丞柱謇譛画眠豌疲ｳ｡逧�ｻ螳ｹ蝎ｨ (V2 蜉�螟ｧ迚�) */
#center-avatar-wrapper {
  position: absolute;
  /* 笘� 譬ｸ蠢�ｿｮ謾ｹ�壼ｰ�崋螳壼ｼ謾ｹ荳ｺ蜿ｯ隹�鰍逧�序驥擾ｼ悟ｹｶ謠蝉ｾ帑ｸ荳ｪ鮟倩ｮ､蛟ｼ 190px */
  top: var(--second-page-center-avatar-top-offset, 190px);
  transform: translateX(-55%);
  z-index: 5;

  /* 笘� 菫ｮ謾ｹ轤ｹ�壽滑霑吩ｸｪ窶懃恚荳崎ｧ∫噪逶貞ｭ絶晉噪蟆ｺ蟇ｸ蜿伜､ｧ */
  width: 300px; /* 莉� 250px 蠅槫刈蛻ｰ莠� 300px */
  height: 180px; /* 莉� 150px 蠅槫刈蛻ｰ莠� 180px */
}

/* 2. 謚贋ｽ�蜴滓擂逧�､ｴ蜒丞惠諤ｻ螳ｹ蝎ｨ驥悟ｱ�ｸｭ�瑚ｿ呎�ｷ螳�噪菴咲ｽｮ逵玖ｵｷ譚･蜥悟次譚･荳讓｡荳譬ｷ */
#second-page-center-avatar {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  /* 謌台ｻｬ荳榊�髴隕∝ｮ��蟾ｱ譚･螳壻ｽ堺ｺ�ｼ梧園莉･謚頑立逧�ｮ壻ｽ肴�ｷ蠑冗ｧｻ髯､ */
}

#avatar-subtitle {
  position: absolute;
  bottom: 20px; /* 笘� 菫ｮ謾ｹ轤ｹ�壽滑螳�ｻ主ｮｹ蝎ｨ螟夜擇遘ｻ蛻ｰ驥碁擇�御ｽ咲ｽｮ譖ｴ蜊剰ｰ� */
  left: 50%;
  transform: translateX(-50%);

  background-color: transparent;
  border: none;
  outline: none;

  color: white;
  font-size: 14px;
  font-weight: 500;
  text-align: center;
  text-shadow: 0 1px 3px rgba(0, 0, 0, 0.6);
  cursor: pointer;
  padding: 2px 8px;
}

/* 霑呎弍蝗帑ｸｪ隗定誠豌疲ｳ｡逧�夂畑譬ｷ蠑� */
.corner-bubble {
  position: absolute;
  background-color: rgba(255, 255, 255, 0.25);
  backdrop-filter: blur(8px);
  -webkit-backdrop-filter: blur(8px);
  border: 1px solid rgba(255, 255, 255, 0.3);
  border-radius: 12px;
  padding: 8px 12px;
  color: white;
  font-size: 12px;
  font-weight: 500;
  text-align: center;
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.5);
  min-width: 80px;
  cursor: pointer;
}

/* 笆ｼ笆ｼ笆ｼ 蝨ｨ霑咎㈹蛻�悪菫ｮ謾ｹ蝗帑ｸｪ隗定誠逧�ｽ咲ｽｮ 笆ｼ笆ｼ笆ｼ */

/* 5. 蛻�悪螳壻ｽ榊屁荳ｪ隗定誠逧�ｰ疲ｳ｡ */
#bubble-top-left {
  top: 40px; /* 謗ｧ蛻ｶ荳贋ｸ倶ｽ咲ｽｮ�梧焚蛟ｼ雜雁､ｧ雜翫仙ｾ荳九醍ｧｻ */
  left: -15px; /* 謗ｧ蛻ｶ蟾ｦ蜿ｳ菴咲ｽｮ�梧焚蛟ｼ雜雁､ｧ雜翫仙ｾ蜿ｳ縲醍ｧｻ */
}

#bubble-top-right {
  top: 40px; /* 謗ｧ蛻ｶ荳贋ｸ倶ｽ咲ｽｮ�梧焚蛟ｼ雜雁､ｧ雜翫仙ｾ荳九醍ｧｻ */
  right: -15px; /* 謗ｧ蛻ｶ蟾ｦ蜿ｳ菴咲ｽｮ�梧焚蛟ｼ雜雁､ｧ雜翫仙ｾ蟾ｦ縲醍ｧｻ */
}

#bubble-bottom-left {
  bottom: 40px; /* 謗ｧ蛻ｶ荳贋ｸ倶ｽ咲ｽｮ�梧焚蛟ｼ雜雁､ｧ雜翫仙ｾ荳翫醍ｧｻ */
  left: -15px; /* 謗ｧ蛻ｶ蟾ｦ蜿ｳ菴咲ｽｮ�梧焚蛟ｼ雜雁､ｧ雜翫仙ｾ蜿ｳ縲醍ｧｻ */
}

#bubble-bottom-right {
  bottom: 40px; /* 謗ｧ蛻ｶ荳贋ｸ倶ｽ咲ｽｮ�梧焚蛟ｼ雜雁､ｧ雜翫仙ｾ荳翫醍ｧｻ */
  right: -15px; /* 謗ｧ蛻ｶ蟾ｦ蜿ｳ菴咲ｽｮ�梧焚蛟ｼ雜雁､ｧ雜翫仙ｾ蟾ｦ縲醍ｧｻ */
}
/* 笆ｼ笆ｼ笆ｼ 縲占ｿ呎弍菫ｮ謾ｹ蜷守噪迚域悽縲題ｯｷ逕ｨ霑呎紛蝮嶺ｻ｣遐∵崛謐｢譌ｧ逧� 笆ｼ笆ｼ笆ｼ */

/* 1. 諤ｻ螳ｹ蝎ｨ�夂ｧｻ髯､莠�｡ｶ驛ｨ逧��霎ｹ霍� */
#new-custom-widget {
  position: absolute;
  bottom: 30px;
  right: 20px;
  width: 50%;
  display: flex;
  flex-direction: column;
  align-items: flex-end;
  gap: 6px;
  /* padding-top: 50px;  <-- 霑呵｡悟ｷｲ扈剰｢ｫ蛻�謗我ｺ� */
}

/* 2. 縲仙�譁ｰ縲大､ｴ驛ｨ螳ｹ蝎ｨ�夊ｴ溯ｴ｣隶ｩ譛井ｻｽ蜥悟､ｴ蜒乗ｰｴ蟷ｳ謗貞� */
/* 霑呎弍螟ｴ驛ｨ螳ｹ蝎ｨ�夊ｴ溯ｴ｣隶ｩ譛井ｻｽ蜥悟､ｴ蜒乗ｰｴ蟷ｳ謗貞� */
#new-widget-header {
  width: 100%;
  display: flex;
  justify-content: flex-end; /* 菫ｮ謾ｹ�夊ｮｩ謇譛牙�螳ｹ驛ｽ髱�蜿ｳ蟇ｹ鮨� */
  align-items: center;
  gap: 70px; /* 譁ｰ蠅橸ｼ壼惠譛井ｻｽ蜥悟､ｴ蜒丈ｹ矩龍蜉�荳轤ｹ髣ｴ霍� */
  margin-bottom: 5px;
}

/* 3. 譛井ｻｽ�夂ｧｻ髯､莠�ｻ晏ｯｹ螳壻ｽ搾ｼ檎鴫蝨ｨ譏ｯ譎ｮ騾夂噪flex鬘ｹ逶ｮ */
#widget-month-display {
  font-size: 25px;
  font-weight: 300;
  color: rgba(255, 255, 255, 0.85);
  text-shadow: 0 0 6px rgba(255, 255, 255, 0.6);
  line-height: 1;
}

/* 4. 螟ｴ蜒擾ｼ夂ｧｻ髯､莠�ｸ榊ｿ�ｦ∫噪譬ｷ蠑擾ｼ悟屏荳ｺ蟶�ｱ逕ｱ辷ｶ螳ｹ蝎ｨ謗ｧ蛻ｶ莠� */
#new-custom-widget #new-widget-avatar {
  width: 28px;
  height: 28px;
  border-radius: 50%;
  border: none;
  outline: none;
}

/* 5. 蜿ｯ郛冶ｾ第枚蟄怜柱蛻�牡郤ｿ (菫晄戟荳榊序) */
#new-custom-widget .new-widget-text {
  background: transparent;
  border: none;
  outline: none;
  padding: 2px 4px;
  border-radius: 3px;
  color: rgba(255, 255, 255, 0.85);
  text-shadow: 0 0 6px rgba(255, 255, 255, 0.6);
  font-size: 13px;
  text-align: right;
  width: 100%;
  box-sizing: border-box;
}

#new-custom-widget .new-widget-divider {
  width: 60%;
  height: 1px;
  border-top: 1px dashed rgba(255, 255, 255, 0.3);
}
/* 笆ｲ笆ｲ笆ｲ 譖ｿ謐｢扈捺據 笆ｲ笆ｲ笆ｲ */
/* 笆ｼ笆ｼ笆ｼ 縲千ｲｾ閾ｴ迚医題ｯｷ逕ｨ霑呎紛蝮嶺ｻ｣遐∵崛謐｢譌ｧ逧�ｮｺ蝮帛ｸ門ｭ仙唖髯､謖蛾聴譬ｷ蠑� 笆ｼ笆ｼ笆ｼ */

/* 1. 蟶門ｭ仙�陦ｨ鬘ｹ譬ｷ蠑� (菫晄戟荳榊序�悟宵譏ｯ遑ｮ菫晏承萓ｧ譛芽ｶｳ螟溽ｩｺ髣ｴ) */
.forum-post-item {
  position: relative;
  padding-right: 40px;
}

/* 2. 蛻�髯､謖蛾聴逧�眠譬ｷ蠑� - 蟆丞ｷｧ邊ｾ閾ｴ迚� */
.forum-post-delete-btn {
  position: absolute;
  top: 50%;
  right: 12px; /* 遖ｻ霎ｹ郛倡ｨ榊ｾｮ霑台ｸ轤ｹ */
  transform: translateY(-50%);

  /* --- 譬ｸ蠢�ｿｮ謾ｹ�壼ｰｺ蟇ｸ蜿伜ｰ� --- */
  width: 24px;
  height: 24px;

  /* --- 譬ｸ蠢�ｿｮ謾ｹ�壼､冶ｧよ峩邊ｾ閾ｴ --- */
  background-color: transparent; /* 鮟倩ｮ､閭梧勹騾乗��御ｸ咲ｪ∝� */
  color: var(--text-secondary); /* 鮟倩ｮ､鬚懆牡菴ｿ逕ｨ谺｡隕∵枚蟄礼噪轣ｰ濶ｲ�梧峩譟泌柱 */
  border: none;
  border-radius: 50%;
  font-size: 18px; /* 蜃丞ｰ� "ﾃ�" 逧�､ｧ蟆� */
  line-height: 24px; /* 遑ｮ菫� "ﾃ�" 蝙ら峩螻�ｸｭ */
  text-align: center;
  cursor: pointer;

  /* --- 譬ｸ蠢�ｿｮ謾ｹ�壻ｺ､莠貞勘謨� --- */
  transition: all 0.2s ease; /* 荳ｺ謇譛牙序蛹匁ｷｻ蜉�蟷ｳ貊題ｿ�ｸ｡ */
}

/* 3. 鮠�譬�ぎ蛛懈慮逧�渚鬥域譜譫� */
.forum-post-delete-btn:hover {
  background-color: #ff3b30; /* 謔ｬ蛛懈慮謇肴仞遉ｺ驢堤岼逧�ｺ｢濶ｲ閭梧勹 */
  color: white; /* "ﾃ�" 蜿倅ｸｺ逋ｽ濶ｲ */
  transform: translateY(-50%) scale(1.1); /* 霓ｻ蠕ｮ謾ｾ螟ｧ�梧峩譛牙勘諢� */
}

/* 笆ｲ笆ｲ笆ｲ 譖ｿ謐｢扈捺據 笆ｲ笆ｲ笆ｲ */
/* 1. 螳壻ｹ我ｸ荳ｪ騾夂畑逧�∵而蛻ｶ謇譛我ｸｻ螻丞ｹ墓枚蟄鈴｢懆牡逧�序驥� (菫晄戟荳榊序) */
#phone-screen {
  --home-icon-widget-text-color: #ffffff;
}

/* 2. 縲先�ｸ蠢�大�蟒ｺ荳荳ｪ窶懆ｶ�ｺｧ騾画叫蝎ｨ窶晢ｼ御ｸ谺｡諤ｧ騾我ｸｭ謇譛蛾怙隕∝序濶ｲ逧�枚蟄� */
/* 霑呎ｬ｡謌台ｻｬ蜉�蜈･莠�｡ｶ驛ｨ迥ｶ諤∵�丞柱蠎暮ΚDock譬冗噪蝗ｾ譬�枚蟄� */
.desktop-app-icon .label,                        /* 笆ｼ笆ｼ笆ｼ 譬ｸ蠢�ｿｮ謾ｹ�夂ｧｻ髯､莠�燕髱｢逧ИD髯仙ｮ夲ｼ瑚ｮｩ螳��蜷梧慮騾我ｸｭ荳ｻ螻丞ｹ募柱Dock譬冗噪蝗ｾ譬�枚蟄� 笆ｼ笆ｼ笆ｼ */
#desktop-widget-column .widget-bubble,           
#desktop-widget-column .widget-subtext,        
#second-page-left-widget .widget-bubble,           
#second-page-left-widget .widget-subtext,        
#avatar-subtitle,                                
.corner-bubble,                                   
#new-custom-widget .new-widget-text,              
#widget-month-display,
#status-bar                                     /* 笘��笘� 譁ｰ蠅橸ｼ夐｡ｶ驛ｨ迥ｶ諤∵�� 笘��笘� */ {
  color: var(--home-icon-widget-text-color) !important;
  text-shadow: 0 1px 4px rgba(0, 0, 0, 0.6);
}
/* 笆ｼ笆ｼ笆ｼ 縲仙�譁ｰ縲大悉髯､荳ｻ螻丞ｹ募ｭ嶺ｽ馴亢蠖ｱ逧��ｷ蠑� 笆ｼ笆ｼ笆ｼ */
#phone-screen.no-home-font-shadow .app-icon .label,
#phone-screen.no-home-font-shadow .desktop-app-icon .label,
#phone-screen.no-home-font-shadow .widget-bubble,
#phone-screen.no-home-font-shadow .widget-subtext,
#phone-screen.no-home-font-shadow #avatar-subtitle,
#phone-screen.no-home-font-shadow .corner-bubble,
#phone-screen.no-home-font-shadow .new-widget-text,
#phone-screen.no-home-font-shadow #widget-month-display,
#phone-screen.no-home-font-shadow #profile-username,
#phone-screen.no-home-font-shadow #profile-sub-username,
#phone-screen.no-home-font-shadow #profile-bio,
#phone-screen.no-home-font-shadow #profile-location,
#phone-screen.no-home-font-shadow #clock-container {
  text-shadow: none !important;
}
/* 笆ｲ笆ｲ笆ｲ 譁ｰ蠅樊�ｷ蠑冗ｻ捺據 笆ｲ笆ｲ笆ｲ */

/* 笆ｼ笆ｼ笆ｼ 縲仙�譁ｰ縲題ｿ呎弍蠕ｮ蜊壻ｸｻ鬘ｵ螟ｴ蜒乗｡�噪荳灘ｱ樊�ｷ蠑� 笆ｼ笆ｼ笆ｼ */
.weibo-avatar-container .weibo-avatar-frame {
  position: absolute;
  width: 121%; /* 逶ｸ蟇ｹ螟ｧ蟆擾ｼ御ｽ�蜿ｯ莉･蠕ｮ隹� */
  height: 121%;
  /* 菴ｿ逕ｨtransform霑幄｡檎ｲｾ遑ｮ螳壻ｽ搾ｼ檎｡ｮ菫晏ｮ檎ｾ主ｱ�ｸｭ */
  transform: translate(-50%, -57%);
  top: 50%;
  left: 50%;
  z-index: 4; /* 遑ｮ菫晏惠螟ｴ蜒丈ｹ倶ｸ� */
  pointer-events: none; /* 隶ｩ鮠�譬�ｺ倶ｻｶ蜿ｯ莉･遨ｿ騾丞ｮ� */
}

/* 笆ｼ笆ｼ笆ｼ 縲仙�譁ｰ縲題ｿ呎弍蠕ｮ蜊壼ｸ門ｭ蝉ｽ懆�､ｴ蜒乗｡�噪荳灘ｱ樊�ｷ蠑� 笆ｼ笆ｼ笆ｼ */

/* 霑呎弍蟶門ｭ仙､ｴ驛ｨ�悟､ｴ蜒丞柱譯�噪諤ｻ螳ｹ蝎ｨ */
.weibo-post-header .avatar-with-frame {
  position: relative;
  /* 譬ｸ蠢�ｼ壼ｰｺ蟇ｸ蜥悟次譚･逧�､ｴ蜒丈ｿ晄戟荳閾ｴ */
  width: 40px;
  height: 40px;
  flex-shrink: 0;
}

/* 螳ｹ蝎ｨ蜀�噪螟ｴ蜒丞崟迚� */
.weibo-post-header .avatar-with-frame .avatar-img {
  width: 100%;
  height: 100%;
  border-radius: 50%;
  object-fit: cover;
  position: absolute;
  top: 0;
  left: 0;
  z-index: 1; /* 遑ｮ菫晏惠譯�噪荳矩擇 */
}

/* 螳ｹ蝎ｨ蜀�噪螟ｴ蜒乗｡�崟迚� */
.weibo-post-header .avatar-with-frame .avatar-frame {
  position: absolute;
  width: 121%; /* 逶ｸ蟇ｹ螟ｧ蟆擾ｼ御ｽ�蜿ｯ莉･蠕ｮ隹� */
  height: 121%;
  /* 菴ｿ逕ｨtransform霑幄｡檎ｲｾ遑ｮ螳壻ｽ搾ｼ檎｡ｮ菫晏ｮ檎ｾ主ｱ�ｸｭ */
  transform: translate(-50%, -57%);
  top: 50%;
  left: 50%;
  z-index: 4; /* 遑ｮ菫晏惠螟ｴ蜒丈ｹ倶ｸ� */
  pointer-events: none; /* 隶ｩ鮠�譬�ｺ倶ｻｶ蜿ｯ莉･遨ｿ騾丞ｮ� */
}
/* 笆ｲ笆ｲ笆ｲ 譁ｰ譬ｷ蠑冗ｲ倩ｴｴ扈捺據 笆ｲ笆ｲ笆ｲ */

/* 笆ｼ笆ｼ笆ｼ 縲仙�譁ｰ縲題ｿ呎弍荳ｻ螻丞ｹ募､ｴ蜒乗｡�噪荳灘ｱ樊�ｷ蠑� 笆ｼ笆ｼ笆ｼ */
#profile-widget .profile-avatar-container .weibo-avatar-frame {
  position: absolute;
  width: 121%; /* 逶ｸ蟇ｹ螟ｧ蟆擾ｼ御ｽ�蜿ｯ莉･蠕ｮ隹� */
  height: 121%;
  /* 菴ｿ逕ｨtransform霑幄｡檎ｲｾ遑ｮ螳壻ｽ搾ｼ檎｡ｮ菫晏ｮ檎ｾ主ｱ�ｸｭ */
  transform: translate(-50%, -57%);
  top: 50%;
  left: 50%;
  z-index: 4; /* 遑ｮ菫晏惠螟ｴ蜒丈ｹ倶ｸ� */
  pointer-events: none; /* 隶ｩ鮠�譬�ｺ倶ｻｶ蜿ｯ莉･遨ｿ騾丞ｮ� */
}
/* 笆ｲ笆ｲ笆ｲ 譁ｰ譬ｷ蠑冗ｲ倩ｴｴ扈捺據 笆ｲ笆ｲ笆ｲ */

/* 笆ｼ笆ｼ笆ｼ 謚願ｿ呎ｮｵ蜈ｨ譁ｰ逧ГSS�檎ｲ倩ｴｴ蛻ｰ菴� <style> 譬�ｭｾ逧�怙譛ｫ蟆ｾ 笆ｼ笆ｼ笆ｼ */

.weibo-background {
  /* 譬ｸ蠢�ｻ｣遐�ｼ壻ｽｿ逕ｨ mask-image 蛻帛ｻｺ荳荳ｪ莉惹ｸ雁芦荳狗噪貂仙序闥咏沿 */

  /* a. -webkit- 蜑咲ｼ譏ｯ荳ｺ莠��螳ｹ譌ｧ迚育噪 Chrome 蜥� Safari 豬剰ｧ亥勣 */
  -webkit-mask-image: linear-gradient(
    to bottom,

    /* 貂仙序譁ｹ蜷托ｼ壻ｻ惹ｸ雁芦荳� */ /* 笘��笘� 霑咎㈹譏ｯ菴�蜿ｯ莉･閾ｪ蟾ｱ隹�紛逧�慍譁ｹ 笘��笘� */ black 60%,
    /* 蜑�60%逧�Κ蛻�弍螳悟�荳埼乗�逧� (鮟題牡=荳埼乗�) */ transparent 100%
      /* 莉�60%逧�ｽ咲ｽｮ蠑蟋具ｼ悟芦蠎暮Κ(100%)�碁先ｸ占ｿ�ｸ｡蛻ｰ螳悟�騾乗� */
  );

  /* b. 霑呎弍譬�㊥隸ｭ豕包ｼ悟�螳ｹ邇ｰ莉｣豬剰ｧ亥勣 */
  mask-image: linear-gradient(to bottom, black 60%, transparent 100%);
}

/* 笆ｲ笆ｲ笆ｲ 邊倩ｴｴ扈捺據 笆ｲ笆ｲ笆ｲ */
/* 笆ｼ笆ｼ笆ｼ 縲仙�譁ｰ縲大怦蟄仙�邀ｻ譬�ｭｾ譬ｷ蠑� 笆ｼ笆ｼ笆ｼ */
.category-tag-container {
  display: flex;
  flex-wrap: wrap;
  gap: 6px;
  margin-top: 8px;
}
.category-tag {
  font-size: 11px;
  font-weight: 500;
  color: var(--accent-color);
  background-color: #e7f3ff;
  padding: 3px 8px;
  border-radius: 10px;
}
#phone-screen.dark-mode .category-tag {
  background-color: rgba(10, 132, 255, 0.2);
  color: #0a84ff;
}
/* 笆ｲ笆ｲ笆ｲ 譁ｰ譬ｷ蠑冗ｲ倩ｴｴ扈捺據 笆ｲ笆ｲ笆ｲ */
/* 笆ｼ笆ｼ笆ｼ 縲仙�譁ｰ縲大怦蟄�/蟆冗ｻ��邀ｻ遲幃牙粥閭ｽ譬ｷ蠑� 笆ｼ笆ｼ笆ｼ */

/* 遲幃牙崟譬�噪譬ｷ蠑� */
.header .filter-btn {
  font-size: 20px; /* 蝗ｾ譬�､ｧ蟆� */
  cursor: pointer;
  color: var(--accent-color); /* 霍滄囂荳ｻ鬚倩牡 */
  position: relative; /* 荳ｺ莠�ｮ壻ｽ榊ｰ冗ｺ｢轤ｹ */
}

/* 蠖鍋ｭ幃臥函謨域慮�悟崟譬�ｸ頑仞遉ｺ荳荳ｪ蟆冗せ謠千､ｺ */
.header .filter-btn.active::after {
  content: '';
  position: absolute;
  top: 0;
  right: 0;
  width: 8px;
  height: 8px;
  background-color: #ff3b30;
  border-radius: 50%;
  border: 1.5px solid var(--secondary-bg);
}

/* 遲幃牙ｼｹ遯怜�逧��邀ｻ蛻苓｡ｨ */
#forum-filter-category-list {
  display: flex;
  flex-wrap: wrap; /* 閾ｪ蜉ｨ謐｢陦� */
  gap: 10px; /* 譬�ｭｾ荵矩龍逧�龍霍� */
  padding: 10px;
}

#forum-filter-category-list label {
  display: inline-flex;
  align-items: center;
  background-color: #f0f2f5;
  padding: 6px 12px;
  border-radius: 15px;
  cursor: pointer;
  font-size: 14px;
  transition: all 0.2s ease;
}

#phone-screen.dark-mode #forum-filter-category-list label {
  background-color: #3a3a3c;
}

#forum-filter-category-list input[type='checkbox'] {
  display: none; /* 髫占酪蜴溷ｧ狗噪螟埼画｡� */
}

/* 騾我ｸｭ蜷守噪譬ｷ蠑� */
#forum-filter-category-list input[type='checkbox']:checked + span {
  color: white;
  font-weight: 500;
}

/* 鮟倩ｮ､扈呎��ｭｾ荳荳ｪ螂ｽ逵狗噪鬚懆牡蠕ｪ邇ｯ */
#forum-filter-category-list label:nth-of-type(6n + 1) input:checked + span {
  background-color: #007bff;
}
#forum-filter-category-list label:nth-of-type(6n + 2) input:checked + span {
  background-color: #28a745;
}
#forum-filter-category-list label:nth-of-type(6n + 3) input:checked + span {
  background-color: #fd7e14;
}
#forum-filter-category-list label:nth-of-type(6n + 4) input:checked + span {
  background-color: #6f42c1;
}
#forum-filter-category-list label:nth-of-type(6n + 5) input:checked + span {
  background-color: #dc3545;
}
#forum-filter-category-list label:nth-of-type(6n + 6) input:checked + span {
  background-color: #ffc107;
}

/* 譬�ｭｾ蜀�噪譁�ｭ鈴Κ蛻�ｼ御ｹ滄怙隕∬ｮｾ鄂ｮ譬ｷ蠑擾ｼ檎音蛻ｫ譏ｯ騾我ｸｭ蜷守噪閭梧勹濶ｲ */
#forum-filter-category-list label span {
  padding: 6px 12px;
  margin: -6px -12px; /* 謚ｵ豸�abel逧аadding�瑚ｮｩ閭梧勹濶ｲ蝪ｫ貊｡ */
  border-radius: 15px;
  transition: all 0.2s ease;
}
/* 笆ｲ笆ｲ笆ｲ 譬ｷ蠑冗ｲ倩ｴｴ扈捺據 笆ｲ笆ｲ笆ｲ */
/* 笆ｼ笆ｼ笆ｼ 縲仙�譁ｰ縲第ｸｸ謌丞､ｧ蜴��ｷ蠑� 笆ｼ笆ｼ笆ｼ */
#game-hall-grid {
  display: grid;
  grid-template-columns: 1fr; /* 豈剰｡御ｸ荳ｪ貂ｸ謌� */
  gap: 15px; /* 貂ｸ謌丞今迚�ｹ矩龍逧�龍霍� */
}

.game-card {
  background-color: var(--secondary-bg);
  border-radius: 12px;
  padding: 15px;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
  display: flex;
  align-items: center;
  gap: 15px;
  cursor: pointer;
  transition: transform 0.2s, box-shadow 0.2s;
}

.game-card:hover {
  transform: translateY(-3px);
  box-shadow: 0 6px 12px rgba(0, 0, 0, 0.1);
}

.game-card .game-icon {
  font-size: 32px;
  width: 50px;
  height: 50px;
  flex-shrink: 0;
  display: flex;
  justify-content: center;
  align-items: center;
  background-color: #f0f2f5;
  border-radius: 10px;
}

#phone-screen.dark-mode .game-card .game-icon {
  background-color: #2c2c2e;
}

.game-card .game-info .game-title {
  font-weight: 600;
  font-size: 16px;
  color: var(--text-primary);
}

.game-card .game-info .game-desc {
  font-size: 13px;
  color: var(--text-secondary);
  margin-top: 4px;
}
/* 笆ｲ笆ｲ笆ｲ 譁ｰ譬ｷ蠑冗ｲ倩ｴｴ扈捺據 笆ｲ笆ｲ笆ｲ */
/* 笆ｼ笆ｼ笆ｼ 縲仙�譁ｰ縲醍蕎莠ｺ譚貂ｸ謌乗�ｷ蠑� 笆ｼ笆ｼ笆ｼ */

/* 貂ｸ謌剰ｮｾ鄂ｮ鬘ｵ逧�自螳ｶ騾画叫蛻苓｡ｨ */
.player-selection-item {
  display: flex;
  align-items: center;
  padding: 10px 15px;
  border-bottom: 1px solid var(--border-color);
}
.player-selection-item:last-child {
  border-bottom: none;
}
.player-selection-item input[type='checkbox'] {
  width: 20px;
  height: 20px;
  margin-right: 15px;
}
.player-selection-item img {
  width: 40px;
  height: 40px;
  border-radius: 50%;
  margin-right: 10px;
}
.player-selection-item .name {
  font-weight: 500;
}
.player-selection-item .type-tag {
  font-size: 11px;
  color: var(--text-secondary);
  background-color: #f0f0f0;
  padding: 2px 6px;
  border-radius: 4px;
  margin-left: auto;
}

/* 貂ｸ謌丈ｸｻ逡碁擇蟶�ｱ */
#werewolf-game-content {
  display: flex;
  flex-direction: column;
  height: 100%;
  overflow: hidden;
  padding: 10px;
  box-sizing: border-box;
}

/* 邇ｩ螳ｶ蠎ｧ菴咲ｽ第�ｼ */
#werewolf-players-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(60px, 1fr));
  gap: 10px;
  padding: 10px;
  flex-shrink: 0;
}

.player-seat {
  position: relative;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 5px;
}
.player-seat .player-avatar {
  width: 50px;
  height: 50px;
  border-radius: 50%;
  border: 3px solid transparent;
  object-fit: cover;
  transition: all 0.3s ease;
}
.player-seat .player-avatar.speaking {
  border-color: #4cd964; /* 扈ｿ濶ｲ霎ｹ譯�｡ｨ遉ｺ豁｣蝨ｨ蜿題ｨ */
  box-shadow: 0 0 10px #4cd964;
}
.player-seat .player-avatar.dead {
  filter: grayscale(100%);
  opacity: 0.5;
}
.player-seat .player-name {
  font-size: 12px;
  font-weight: 500;
  text-align: center;
  max-width: 60px;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}
.player-seat .player-role-indicator {
  position: absolute;
  top: -2px;
  right: -2px;
  width: 18px;
  height: 18px;
  border-radius: 50%;
  background-color: #ff3b30; /* 郤｢濶ｲ莉｣陦ｨ迢ｼ莠ｺ */
  color: white;
  font-size: 12px;
  font-weight: bold;
  display: none; /* 鮟倩ｮ､髫占酪 */
  justify-content: center;
  align-items: center;
  border: 1px solid white;
}

/* 貂ｸ謌乗律蠢怜玄蝓� */
#werewolf-log-container {
  flex-grow: 1;
  background-color: rgba(0, 0, 0, 0.05);
  border-radius: 10px;
  padding: 10px;
  overflow-y: auto;
  margin: 10px 0;
  min-height: 0; /* flex蟶�ｱ荳区ｻ壼勘逧��髞ｮ */
}
.log-entry {
  padding: 6px;
  border-bottom: 1px solid rgba(0, 0, 0, 0.05);
  font-size: 14px;
  line-height: 1.5;
}
.log-entry.system {
  color: var(--accent-color);
  font-weight: bold;
  text-align: center;
  background-color: rgba(0, 123, 255, 0.05);
  border-radius: 5px;
}
.log-entry.speech .speaker {
  font-weight: 600;
}

/* 邇ｩ螳ｶ謫堺ｽ懷玄 */
#werewolf-action-area {
  flex-shrink: 0;
  padding: 10px;
  display: flex;
  justify-content: center;
  align-items: center;
  gap: 15px;
  min-height: 50px;
}
#werewolf-action-area button {
  padding: 10px 20px;
}
#werewolf-action-area .vote-target-grid {
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
  justify-content: center;
}
#werewolf-action-area .vote-target-btn {
  padding: 8px 12px;
  font-size: 13px;
  background-color: #e9ecef;
  color: var(--text-primary);
  border: 1px solid var(--border-color);
}
#werewolf-action-area .vote-target-btn.selected {
  background-color: var(--accent-color);
  color: white;
  border-color: var(--accent-color);
}
/* 笆ｲ笆ｲ笆ｲ 迢ｼ莠ｺ譚譬ｷ蠑冗ｻ捺據 笆ｲ笆ｲ笆ｲ */
/* 笆ｼ笆ｼ笆ｼ 縲仙�譁ｰ縲醍蕎莠ｺ譚蜿題ｨ譌･蠢礼ｾ主喧譬ｷ蠑� 笆ｼ笆ｼ笆ｼ */

/* 蛹�性螟ｴ蜒丞柱譁�ｭ礼噪諤ｻ螳ｹ蝎ｨ */
.log-entry.speech {
  display: flex;
  align-items: flex-start; /* 鬘ｶ驛ｨ蟇ｹ鮨� */
  gap: 10px; /* 螟ｴ蜒丞柱譁�ｭ礼噪髣ｴ霍� */
  padding: 8px 6px;
  border-bottom: 1px solid rgba(0, 0, 0, 0.05); /* 豈乗擅蜿題ｨ荵矩龍逧��蜑ｲ郤ｿ */
}

/* 蜿題ｨ閠�噪蝨�ｽ｢蟆丞､ｴ蜒� */
.speech-avatar {
  width: 32px;
  height: 32px;
  border-radius: 50%; /* 螳檎ｾ主怕蠖｢ */
  flex-shrink: 0; /* 髦ｲ豁｢螟ｴ蜒剰｢ｫ蜴狗ｼｩ */
  object-fit: cover;
}

/* 蛹�｣ｹ蜷榊ｭ怜柱蜿題ｨ蜀�ｮｹ逧�眠螳ｹ蝎ｨ */
.speech-content {
  display: flex;
  flex-direction: column; /* 蜷榊ｭ怜柱蜀�ｮｹ蝙ら峩謗貞� */
  gap: 2px;
}

/* 蜿題ｨ閠�錐蟄礼噪譬ｷ蠑� */
.speech-content .speaker {
  font-weight: 600;
  font-size: 13px;
  color: var(--text-secondary); /* 菴ｿ逕ｨ谺｡隕∵枚蟄鈴｢懆牡�御ｸ埼ぅ荵亥絢逵ｼ */
}

/* 蜿題ｨ蜀�ｮｹ逧��ｷ蠑� */
.speech-content .speech-text {
  word-break: break-word; /* 遑ｮ菫晞柄遽�書險閭ｽ豁｣遑ｮ謐｢陦� */
  line-height: 1.6;
}

/* 笆ｲ笆ｲ笆ｲ 譁ｰ譬ｷ蠑冗ｲ倩ｴｴ扈捺據 笆ｲ笆ｲ笆ｲ */

/* 笆ｼ笆ｼ笆ｼ 縲占ｿ呎弍荳ｺ菴�譁ｰ蠅樒噪X遉ｾ莠､App蝗ｾ譬��ｷ蠑上醍ｲ倩ｴｴ蛻ｰ <style> 逧�忰蟆ｾ 笆ｼ笆ｼ笆ｼ */
#second-page-x-social-app {
  position: absolute;
  /* 謗ｧ蛻ｶ荳贋ｸ倶ｽ咲ｽｮ縲よ�謚雁ｼ隹�､ｧ莠�ｼ瑚ｮｩ螳�峩髱�荳具ｼ悟柱窶懷怦蟄絶晏崟譬�ｯｹ鮨� */
  top: 100px; /* 笘� 菫ｮ謾ｹ霑咎㈹ 笘� */

  /* 謗ｧ蛻ｶ蟾ｦ蜿ｳ菴咲ｽｮ縲よ�謚雁ｼ隹�ｰ丈ｺ�ｼ瑚ｮｩ螳�峩髱�蜿ｳ�悟柱窶懈ュ萓｣遨ｺ髣ｴ窶晏崟譬�ｯｹ鮨� */
  right: 0px; /* 笘� 菫ｮ謾ｹ霑咎㈹ 笘� */
}

/* 謚頑眠蝗ｾ譬�噪譁�ｭ嶺ｹ溷序謌千區濶ｲ�悟柱蜈ｶ莉門崟譬�ｻ滉ｸ */
#second-page-x-social-app .label {
  color: white;
  text-shadow: 0 1px 3px rgba(0, 0, 0, 0.5);
}
/* 笆ｲ笆ｲ笆ｲ 譁ｰ蠅樊�ｷ蠑冗ｲ倩ｴｴ扈捺據 笆ｲ笆ｲ笆ｲ */
/* 笆ｼ笆ｼ笆ｼ 縲仙�譁ｰ縲第ｵｷ鮴滓ｱ､貂ｸ謌乗�ｷ蠑� 笆ｼ笆ｼ笆ｼ */

.sts-log-entry {
  padding: 8px 10px;
  margin-bottom: 8px;
  border-radius: 8px;
  line-height: 1.6;
}

/* 邉ｻ扈滓ｶ域� (隹憺擇縲∵署遉ｺ遲�) */
.sts-log-entry.system {
  background-color: #e9ecef;
  color: var(--text-secondary);
  text-align: center;
  font-weight: 500;
}
#phone-screen.dark-mode .sts-log-entry.system {
  background-color: #2c2c2e;
}

/* 邇ｩ螳ｶ謠宣琉 */
.sts-log-entry.question {
  background-color: #fff;
  border: 1px solid var(--border-color);
}
#phone-screen.dark-mode .sts-log-entry.question {
  background-color: #1c1c1e;
}
.sts-log-entry .speaker {
  font-weight: 600;
  color: var(--accent-color);
}

/* 笆ｼ笆ｼ笆ｼ 縲仙�譁ｰ縲第ｵｷ鮴滓ｱ､ - 蜃ｺ鬚倅ｺｺ蝗樒ｭ疲ｰ疲ｳ｡鄒主喧 笆ｼ笆ｼ笆ｼ */
.sts-log-entry.answer {
  text-align: right;
}
.sts-log-entry.answer .answer-text {
  display: inline-block;
  padding: 8px 12px; /* 蠅槫刈蜀�ｾｹ霍晢ｼ瑚ｮｩ豌疲ｳ｡譖ｴ鬣ｱ貊｡ */
  border-radius: 18px; /* 蠅槫刈蝨�ｧ� */
  font-weight: 500; /* 蟄嶺ｽ謎ｸ咲畑螟ｪ邊� */
  background-color: #f0f2f5; /* 扈滉ｸ逧�∽ｸｭ諤ｧ逧�ｵ��濶ｲ閭梧勹 */
  color: var(--text-primary); /* 譁�ｭ鈴｢懆牡菴ｿ逕ｨ荳ｻ鬚倡噪荳ｻ濶ｲ�碁る�螟憺龍讓｡蠑� */
  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.08); /* 遞榊ｾｮ隹�紛髦ｴ蠖ｱ */
}

/* 遘ｻ髯､譌ｧ逧�∵潔鬚懆牡蛹ｺ蛻�噪譬ｷ蠑擾ｼ檎｡ｮ菫晄園譛牙屓遲秘�逕ｨ荳企擇逧�眠譬ｷ蠑� */
.sts-log-entry.answer .answer-text.yes,
.sts-log-entry.answer .answer-text.no,
.sts-log-entry.answer .answer-text.irrelevant {
  background-color: #f0f2f5; /* 遑ｮ菫晄園譛蛾�逕ｨ霑吩ｸｪ鬚懆牡 */
}

/* 螟憺龍讓｡蠑城る� */
#phone-screen.dark-mode .sts-log-entry.answer .answer-text,
#phone-screen.dark-mode .sts-log-entry.answer .answer-text.yes,
#phone-screen.dark-mode .sts-log-entry.answer .answer-text.no,
#phone-screen.dark-mode .sts-log-entry.answer .answer-text.irrelevant {
  background-color: #3a3a3c; /* 螟憺龍讓｡蠑丈ｸ狗噪豺ｱ轣ｰ濶ｲ */
}
/* 笆ｲ笆ｲ笆ｲ 譖ｿ謐｢扈捺據 笆ｲ笆ｲ笆ｲ */

/* AI迪懈ｵ� */
.sts-log-entry.guess {
  font-style: italic;
  color: #fd7e14;
  border-left: 3px solid #fd7e14;
  padding-left: 12px;
}

/* 邇ｩ螳ｶ蠎ｧ菴堺ｸ顔噪霄ｫ莉ｽ謖�､ｺ蝎ｨ */
.player-seat .player-role-indicator.riddle-master {
  background-color: #ffc107; /* 鮟�牡莉｣陦ｨ蜃ｺ鬚倅ｺｺ */
  display: flex;
}
/* 笆ｲ笆ｲ笆ｲ 譁ｰ譬ｷ蠑冗ｲ倩ｴｴ扈捺據 笆ｲ笆ｲ笆ｲ */
/* 笆ｼ笆ｼ笆ｼ 縲仙�譁ｰ縲第ｵｷ鮴滓ｱ､閨雁､ｩ譌･蠢礼ｾ主喧譬ｷ蠑� 笆ｼ笆ｼ笆ｼ */
.sts-log-entry.question,
.sts-log-entry.answer,
.sts-log-entry.guess {
  display: flex;
  align-items: flex-start; /* 螟ｴ蜒丞柱豌疲ｳ｡鬘ｶ驛ｨ蟇ｹ鮨� */
  gap: 10px;
  max-width: 85%;
  margin-bottom: 12px;
}

/* 謠宣琉蜥檎懸豬矩擒蟾ｦ */
.sts-log-entry.question,
.sts-log-entry.guess {
  align-self: flex-start;
}

/* 蝗樒ｭ秘擒蜿ｳ */
.sts-log-entry.answer {
  align-self: flex-end;
  flex-direction: row-reverse; /* 蜈ｳ髞ｮ�夊ｮｩ螟ｴ蜒丞惠蜿ｳ霎ｹ */
}

/* 螟ｴ蜒乗�ｷ蠑� */
.sts-log-avatar {
  width: 36px;
  height: 36px;
  border-radius: 50%;
  object-fit: cover;
  flex-shrink: 0;
}

/* 笆ｼ笆ｼ笆ｼ 縲仙�譁ｰ縲第ｵｷ鮴滓ｱ､閨雁､ｩ譌･蠢礼ｾ主喧譬ｷ蠑� (豌疲ｳ｡騾乗�迚�) 笆ｼ笆ｼ笆ｼ */
.sts-log-entry.question .sts-log-content,
.sts-log-entry.guess .sts-log-content {
  background-color: transparent; /* <-- 菫ｮ謾ｹ轤ｹ1�夊レ譎ｯ謾ｹ荳ｺ騾乗� */
  border-radius: 8px;
  padding: 8px 12px;
  border: none; /* <-- 菫ｮ謾ｹ轤ｹ2�夂ｧｻ髯､霎ｹ譯�ｼ瑚ｮｩ螳�ｽｻ蠎補懈ｶ亥､ｱ窶� */
}

#phone-screen.dark-mode .sts-log-entry.question .sts-log-content,
#phone-screen.dark-mode .sts-log-entry.guess .sts-log-content {
  background-color: #1c1c1e;
}

/* 菫ｮ豁｣蝗樒ｭ疲ｰ疲ｳ｡逧��ｷ蠑擾ｼ悟屏荳ｺ螳�ｸ肴弍荳荳ｪ螳梧紛逧�摎 */
.sts-log-entry.answer .answer-text {
  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
}
/* 笆ｲ笆ｲ笆ｲ 譁ｰ譬ｷ蠑冗ｲ倩ｴｴ扈捺據 笆ｲ笆ｲ笆ｲ */
.player-seat .player-avatar.active-turn {
  border-color: #007bff; /* 菴ｿ逕ｨ荳ｻ鬚倩牡菴應ｸｺ霎ｹ譯�｢懆牡 */
  box-shadow: 0 0 15px rgba(0, 123, 255, 0.7); /* 豺ｻ蜉�蜿大�謨域棡 */
  animation: sts-pulse-glow 1.5s infinite ease-in-out; /* 蠎皮畑蜉ｨ逕ｻ */
}

@keyframes sts-pulse-glow {
  0%,
  100% {
    box-shadow: 0 0 15px rgba(0, 123, 255, 0.7);
  }
  50% {
    box-shadow: 0 0 25px rgba(0, 123, 255, 1);
  }
}
/* 笆ｼ笆ｼ笆ｼ 縲先ｵｷ鮴滓ｱ､蟶�ｱ菫ｮ螟阪題ｯｷ蟆�ｿ呎ｮｵ譁ｰ譬ｷ蠑冗ｲ倩ｴｴ蛻ｰ <style> 逧�忰蟆ｾ 笆ｼ笆ｼ笆ｼ */
#sts-game-log {
  display: flex;
  flex-direction: column;
}
/* 笆ｲ笆ｲ笆ｲ 菫ｮ螟咲ｻ捺據 笆ｲ笆ｲ笆ｲ */
/* 笆ｼ笆ｼ笆ｼ 縲仙�譁ｰ縲第ｵｷ鮴滓ｱ､閨雁､ｩ譌･蠢礼ｾ主喧譬ｷ蠑� 笆ｼ笆ｼ笆ｼ */
.sts-log-entry.question,
.sts-log-entry.answer,
.sts-log-entry.guess {
  display: flex;
  align-items: flex-start; /* 螟ｴ蜒丞柱豌疲ｳ｡鬘ｶ驛ｨ蟇ｹ鮨� */
  gap: 10px;
  max-width: 85%;
  margin-bottom: 12px;
  /* 遘ｻ髯､譌ｧ逧�レ譎ｯ蜥瑚ｾｹ譯�ｼ悟屏荳ｺ邇ｰ蝨ｨ逕ｱ蟄仙�邏�螟�炊 */
  background-color: transparent;
  border: none;
}

/* 謠宣琉蜥檎懸豬具ｼ育懸鬚俶婿�蛾擒蟾ｦ */
.sts-log-entry.question,
.sts-log-entry.guess {
  align-self: flex-start;
}

/* 蝗樒ｭ費ｼ亥�鬚倅ｺｺ�蛾擒蜿ｳ */
.sts-log-entry.answer {
  align-self: flex-end;
  flex-direction: row-reverse; /* 蜈ｳ髞ｮ�夊ｮｩ螟ｴ蜒丞惠蜿ｳ霎ｹ */
}

/* 螟ｴ蜒乗�ｷ蠑� */
.sts-log-avatar {
  width: 36px;
  height: 36px;
  border-radius: 50%;
  object-fit: cover;
  flex-shrink: 0;
}

/* 蛹�性蜿題ｨ莠ｺ蜥悟�螳ｹ逧�ｰ疲ｳ｡ */
.sts-log-entry.question .sts-log-content,
.sts-log-entry.guess .sts-log-content {
  background-color: #fff;
  border-radius: 8px;
  padding: 8px 12px;
  border: 1px solid var(--border-color);
}

#phone-screen.dark-mode .sts-log-entry.question .sts-log-content,
#phone-screen.dark-mode .sts-log-entry.guess .sts-log-content {
  background-color: #1c1c1e;
}

/* 菫ｮ豁｣蝗樒ｭ疲ｰ疲ｳ｡逧��ｷ蠑擾ｼ悟屏荳ｺ螳�ｸ肴弍荳荳ｪ螳梧紛逧�摎 */
.sts-log-entry.answer .answer-text {
  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
}

/* 隶ｩ譌･蠢怜ｮｹ蝎ｨ謾ｯ謖’lex蟶�ｱ逧�ｯｹ鮨� */
#sts-game-log {
  display: flex;
  flex-direction: column;
}
/* 笆ｲ笆ｲ笆ｲ 譁ｰ譬ｷ蠑冗ｲ倩ｴｴ扈捺據 笆ｲ笆ｲ笆ｲ */
/* 笆ｼ笆ｼ笆ｼ 縲先ｵｷ鮴滓ｱ､霎灘�蛹ｺ扈域栫菫ｮ螟咲沿縲� 笆ｼ笆ｼ笆ｼ */

/* 1. 蠑ｺ蛻ｶ驥咲ｽｮ謨ｴ荳ｪ霎灘�蛹ｺ蝓溽噪蟶�ｱ荳ｺ窶懈ｨｪ蜷第賜蛻冷晏ｹｶ窶懷桙逶ｴ螻�ｸｭ窶� */
#sts-action-area {
  display: flex !important;
  flex-direction: row !important;
  align-items: center !important; /* 譬ｸ蠢�ｿｮ豁｣�壻ｻ� flex-end 謾ｹ荳ｺ center�悟ｮ樒鴫蝙ら峩螻�ｸｭ */
  gap: 8px !important;
}

/* 2. 蠑ｺ蛻ｶ蜀�Κ逧� main-row 荵溷桙逶ｴ螻�ｸｭ�悟ｹｶ隶ｩ螳�｡ｫ貊｡遨ｺ髣ｴ */
#sts-action-area .chat-input-main-row {
  flex-grow: 1 !important;
  display: flex !important;
  align-items: center !important; /* 譬ｸ蠢�ｿｮ豁｣�壼�驛ｨ荵滉ｿ晄戟蝙ら峩螻�ｸｭ */
  gap: 8px !important;
}

/* 3. 鄒主喧霎灘�譯�悽霄ｫ�悟ｹｶ隶ｩ螳��蜉ｨ謦第ｻ｡螳ｽ蠎ｦ */
#sts-action-area #sts-question-input {
  flex-grow: 1;
  border: none;
  padding: 10px 15px;
  border-radius: 20px;
  background-color: var(--secondary-bg);
  font-size: 16px;
  resize: none;
  max-height: 100px;
  line-height: 1.5;
}

/* 4. 扈滉ｸ謇譛画潔髓ｮ逧�ｫ伜ｺｦ蜥梧�ｷ蠑擾ｼ瑚ｮｩ螳�ｻｬ蜥瑚ｾ灘�譯�ｮ檎ｾ朱る� */
#sts-action-area #guess-sts-answer-btn,
#sts-action-area #send-sts-question-btn {
  height: 40px;
  border-radius: 20px;
  padding: 0 15px;
  flex-shrink: 0;
  font-size: 14px;
  font-weight: 600;
}

/* 5. 螟憺龍讓｡蠑城る� */
#phone-screen.dark-mode #sts-action-area #sts-question-input {
  background-color: #2c2c2e;
  color: var(--text-primary);
}
/* 笆ｲ笆ｲ笆ｲ 菫ｮ螟咲ｻ捺據 笆ｲ笆ｲ笆ｲ */
/* 笆ｼ笆ｼ笆ｼ 縲仙�譁ｰ縲大鴬譛ｬ譚貂ｸ謌乗�ｷ蠑� 笆ｼ笆ｼ笆ｼ */

/* 貂ｸ謌丈ｸｻ逡碁擇蟶�ｱ */
#script-kill-game-content {
  display: flex;
  flex-direction: column;
  height: 100%;
  overflow: hidden;
  padding: 10px;
  box-sizing: border-box;
}

/* 邇ｩ螳ｶ蠎ｧ菴榊玄 (螟咲畑迢ｼ莠ｺ譚逧��ｷ蠑�) */
#script-kill-players-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(60px, 1fr));
  gap: 10px;
  padding: 10px;
  flex-shrink: 0;
}

/* 貂ｸ謌乗律蠢怜玄 (螟咲畑迢ｼ莠ｺ譚逧��ｷ蠑�) */
#script-kill-log-container {
  flex-grow: 1;
  background-color: rgba(0, 0, 0, 0.05);
  border-radius: 10px;
  padding: 10px;
  overflow-y: auto;
  margin: 10px 0;
  min-height: 0; /* flex蟶�ｱ荳区ｻ壼勘逧��髞ｮ */
}

/* 邇ｩ螳ｶ謫堺ｽ懷玄 (螟咲畑迢ｼ莠ｺ譚逧��ｷ蠑�) */
#script-kill-action-area {
  flex-shrink: 0;
  padding: 10px;
  display: flex;
  justify-content: center;
  align-items: center;
  gap: 15px;
  min-height: 50px;
}
#script-kill-action-area button {
  padding: 10px 20px;
}

/* 謚慕･ｨ騾蛾｡ｹ譬ｷ蠑� */
#sk-vote-options-list label {
  display: block;
  padding: 8px;
  border-radius: 6px;
  cursor: pointer;
}
#sk-vote-options-list label:hover {
  background-color: #f0f2f5;
}
#phone-screen.dark-mode #sk-vote-options-list label:hover {
  background-color: #2c2c2e;
}

/* 郤ｿ邏｢蜊｡迚��ｷ蠑� */
.sk-evidence-card {
  background-color: var(--secondary-bg);
  border: 1px solid var(--border-color);
  border-radius: 8px;
  padding: 12px;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
}
.sk-evidence-card .source {
  font-size: 12px;
  color: var(--text-secondary);
  margin-bottom: 8px;
}
.sk-evidence-card .description {
  font-size: 14px;
  line-height: 1.6;
}

/* 笆ｲ笆ｲ笆ｲ 蜑ｧ譛ｬ譚譬ｷ蠑冗ｻ捺據 笆ｲ笆ｲ笆ｲ */
/* 笆ｼ笆ｼ笆ｼ 謚願ｿ吩ｸ謨ｴ蝮怜�譁ｰ逧ГSS�檎ｲ倩ｴｴ蛻ｰ <style> 譬�ｭｾ逧�怙譛ｫ蟆ｾ 笆ｼ笆ｼ笆ｼ */

/* 縲仙�譁ｰ縲大鴬譛ｬ譚蜿ｯ隗�喧郛冶ｾ大勣譬ｷ蠑� */

/* 隗定牡/郤ｿ邏｢蜊｡迚�噪螳ｹ蝎ｨ */
.sk-item-container {
  display: flex;
  flex-direction: column;
  gap: 10px;
  background-color: #f0f2f5;
  padding: 10px;
  border-radius: 8px;
  min-height: 50px;
  border: 1px solid var(--border-color);
}
#phone-screen.dark-mode .sk-item-container {
  background-color: #2c2c2e;
}

/* 蜊穂ｸｪ隗定牡/郤ｿ邏｢逧�今迚� */
.sk-editor-item {
  background-color: var(--secondary-bg);
  padding: 10px 15px;
  border-radius: 6px;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.08);
  position: relative;
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.sk-editor-item .item-info .item-name {
  font-weight: 600;
}
.sk-editor-item .item-info .item-meta {
  font-size: 12px;
  color: var(--text-secondary);
}

/* 蜊｡迚�ｸ顔噪郛冶ｾ�/蛻�髯､謖蛾聴 */
.sk-editor-item .item-actions {
  display: flex;
  gap: 8px;
}
.sk-editor-item .item-actions button {
  padding: 4px 8px;
  font-size: 13px;
  border-radius: 5px;
  cursor: pointer;
}

/* 笆ｲ笆ｲ笆ｲ 譁ｰ蠅曚SS扈捺據 笆ｲ笆ｲ笆ｲ */
/* 笆ｼ笆ｼ笆ｼ 縲仙�譁ｰ縲鯛應ｽ�隸ｴ謌醍懸窶晄ｸｸ謌乗�ｷ蠑� 笆ｼ笆ｼ笆ｼ */

/* 貂ｸ謌乗律蠢怜玄蝓� */
#guess-what-game-log {
  display: flex;
  flex-direction: column;
  gap: 12px;
}

/* 蜊墓擅譌･蠢玲擅逶ｮ */
.guess-log-entry {
  padding: 8px 12px;
  border-radius: 12px;
  line-height: 1.6;
  max-width: 90%;
  word-break: break-word;
}

/* 邉ｻ扈滓署遉ｺ�御ｾ句ｦよｸｸ謌丞ｼ蟋九∬ｰ∫噪蝗槫粋 */
.guess-log-entry.system {
  background-color: #e9ecef;
  color: var(--text-secondary);
  text-align: center;
  font-weight: 500;
  font-size: 13px;
  align-self: center;
}
#phone-screen.dark-mode .guess-log-entry.system {
  background-color: #2c2c2e;
}

/* 邇ｩ螳ｶ蜿題ｨ逧�ｰ疲ｳ｡�磯夂畑�� */
.guess-log-entry.user-turn,
.guess-log-entry.ai-turn {
  display: flex;
  gap: 10px;
  align-items: flex-start;
}

/* 邇ｩ螳ｶ蜿題ｨ蜀�ｮｹ */
.guess-log-entry .bubble {
  background-color: #fff;
  padding: 8px 12px;
  border-radius: 8px;
  border: 1px solid var(--border-color);
}
#phone-screen.dark-mode .guess-log-entry .bubble {
  background-color: #2c2c2e;
}

/* AI蜿題ｨ豌疲ｳ｡�磯擒蟾ｦ�� */
.guess-log-entry.ai-turn {
  align-self: flex-start;
}

/* 逕ｨ謌ｷ蜿題ｨ豌疲ｳ｡�磯擒蜿ｳ�� */
.guess-log-entry.user-turn {
  align-self: flex-end;
  flex-direction: row-reverse; /* 螟ｴ蜒丞惠蜿ｳ霎ｹ */
}
.guess-log-entry.user-turn .bubble {
  background-color: #dcf8c6; /* 邀ｻ莨ｼ蠕ｮ菫｡逧�ｻｿ濶ｲ */
}
#phone-screen.dark-mode .guess-log-entry.user-turn .bubble {
  background-color: #3b5b32; /* 螟憺龍讓｡蠑丈ｸ狗噪扈ｿ濶ｲ */
}

/* 豌疲ｳ｡蜀�噪螟ｴ蜒� */
.guess-log-entry .avatar {
  width: 36px;
  height: 36px;
  border-radius: 50%;
  flex-shrink: 0;
}

/* 豌疲ｳ｡蜀�噪蜷榊ｭ怜柱蜀�ｮｹ */
.guess-log-entry .name {
  font-size: 12px;
  font-weight: 600;
  color: var(--text-secondary);
  margin-bottom: 4px;
}

/* 貂ｸ謌剰ｾ灘�蛹ｺ鄒主喧 */
#guess-what-action-area {
  display: flex !important;
  flex-direction: row !important;
  align-items: center !important; /* 菫晄戟蝙ら峩螻�ｸｭ */
  gap: 8px !important;
  width: 100%; /* 譁ｰ蠅橸ｼ夊ｮｩ謨ｴ荳ｪ螳ｹ蝎ｨ謦第ｻ｡螳ｽ蠎ｦ */
  box-sizing: border-box; /* 譁ｰ蠅橸ｼ夂｡ｮ菫晏�霎ｹ霍晏柱霎ｹ譯�｢ｫ豁｣遑ｮ隶｡邂怜惠蜀� */
}

#guess-what-action-area #guess-what-user-input {
  flex-grow: 1;
  border: none;
  padding: 10px 15px;
  border-radius: 20px;
  background-color: var(--secondary-bg);
  font-size: 16px;
  resize: none;
  max-height: 100px;
  line-height: 1.5;
}
#guess-what-action-area #send-guess-what-input-btn {
  height: 40px;
  border-radius: 20px;
  padding: 0 15px;
  flex-shrink: 0;
  font-size: 14px;
  font-weight: 600;
}
#phone-screen.dark-mode #guess-what-action-area #guess-what-user-input {
  background-color: #2c2c2e;
  color: var(--text-primary);
}

/* 笆ｲ笆ｲ笆ｲ 窶應ｽ�隸ｴ謌醍懸窶晄ｸｸ謌乗�ｷ蠑冗ｻ捺據 笆ｲ笆ｲ笆ｲ */
/* 笆ｼ笆ｼ笆ｼ 縲仙鴬譛ｬ譚AI逕滓�蝎ｨ蟶�ｱ菫ｮ螟阪題ｯｷ蟆�ｿ呎紛蝮怜�譁ｰ逧ГSS邊倩ｴｴ蛻ｰ <style> 譬�ｭｾ逧�怙譛ｫ蟆ｾ 笆ｼ笆ｼ笆ｼ */

/* 1. 縲先�ｸ蠢�題ｮｩ謨ｴ荳ｪ蠑ｹ遯礼噪蜀�ｮｹ蛹ｺ(modal-body)閭ｽ螟滓ｭ｣遑ｮ蝨ｰ謦第ｻ｡蜑ｩ菴咏ｩｺ髣ｴ蟷ｶ貊壼勘 */
#sk-ai-generator-modal .modal-body {
  flex-grow: 1; /* 蜈∬ｮｸ蜀�ｮｹ蛹ｺ蜊�謐ｮ header 蜥� footer 荵矩龍逧�園譛牙庄逕ｨ蝙ら峩遨ｺ髣ｴ */
  min-height: 0; /* 隗｣蜀ｳflex蟶�ｱ荳ｭ荳荳ｪ蟶ｸ隗∫噪貊壼勘譚｡螟ｱ謨磯琉鬚假ｼ碁撼蟶ｸ蜈ｳ髞ｮ */
  /* overflow-y: auto;  <-- 霑吩ｸｪ螻樊ｧ菴�逧� .modal-body 蟾ｲ扈乗怏莠�ｼ梧園莉･荳咲畑驥榊､榊� */
}

/* 2. 縲先�ｸ蠢�第欠螳壼桁蜷ｫ窶憺｢�ｧ域｡�晉噪驍｣荳ｪ form-group 荵滄怙隕∬�螟溷ｼｹ諤ｧ蠅樣柄 */
/* 謌台ｻｬ逕ｨ :last-of-type 邊ｾ蜃�ｮ壻ｽ榊芦譛蜷惹ｸ荳ｪ .form-group */
#sk-ai-generator-modal .modal-body .form-group:last-of-type {
  flex-grow: 1; /* 隶ｩ螳�帥謗画園譛牙黄菴咏噪蝙ら峩遨ｺ髣ｴ */
  min-height: 0; /* 蜷梧�ｷ譏ｯ荳ｺ莠��螳ｹ諤ｧ */
  display: flex; /* 謚雁ｮ��蟾ｱ荵溷序謌診lex螳ｹ蝎ｨ */
  flex-direction: column; /* 隶ｩ螳�㈹髱｢逧� label 蜥� preview 蝙ら峩謗貞� */
}

/* 3. 縲先�ｸ蠢�第怙蜷趣ｼ檎｡ｮ菫晞｢�ｧ域｡�悽霄ｫ閭ｽ螟滓酎貊｡螳�噪辷ｶ螳ｹ蝎ｨ�悟ｹｶ荳泌惠蜀�ｮｹ霑�､壽慮閾ｪ蟾ｱ貊壼勘 */
#sk-ai-result-preview {
  flex-grow: 1; /* 謦第ｻ｡辷ｶ螳ｹ蝎ｨ(.form-group)逧�ｩｺ髣ｴ */
  overflow-y: auto; /* 蠖謎ｻ｣遐∬ｶ��譌ｶ�梧仞遉ｺ螳��蟾ｱ逧�ｻ壼勘譚｡�瑚御ｸ肴弍隶ｩ謨ｴ荳ｪ蠑ｹ遯玲ｻ壼勘 */

  /* (蜿ｯ騾臥ｾ主喧) 扈吩ｸ荳ｪ譛蟆城ｫ伜ｺｦ�碁亟豁｢蝨ｨ豐｡蜀�ｮｹ譌ｶ螳悟�蝪碁匚 */
  min-height: 100px;
}

/* 笆ｲ笆ｲ笆ｲ 邊倩ｴｴ扈捺據 笆ｲ笆ｲ笆ｲ */

/* 笆ｼ笆ｼ笆ｼ 縲先ｸｸ謌剰ｾ灘�蛹ｺ扈域栫菫ｮ螟咲沿縲� 笆ｼ笆ｼ笆ｼ */

/* 1. 蠑ｺ蛻ｶ驥咲ｽｮ荳､荳ｪ貂ｸ謌剰ｾ灘�蛹ｺ蝓溽噪螳ｹ蝎ｨ蟶�ｱ */
#sts-action-area,
#guess-what-action-area {
  display: flex !important;
  flex-direction: row !important; /* 蜈ｳ髞ｮ�壻ｻ守ｺｵ蜷第隼荳ｺ讓ｪ蜷� */
  align-items: center !important; /* 蜈ｳ髞ｮ�夊ｮｩ謇譛牙ｭ仙�邏�蝙ら峩螻�ｸｭ */
  gap: 8px !important; /* 隶ｾ鄂ｮ蜈�ｴ�荵矩龍逧�龍霍� */
  width: 100%; /* 譁ｰ蠅橸ｼ夊ｮｩ謨ｴ荳ｪ螳ｹ蝎ｨ螳ｽ蠎ｦ謦第ｻ｡ */
  box-sizing: border-box; /* 譁ｰ蠅橸ｼ夂｡ｮ菫晏�霎ｹ霍晏柱霎ｹ譯�｢ｫ豁｣遑ｮ隶｡邂� */
}

/* 2. 蠑ｺ蛻ｶ蜀�Κ逧� .chat-input-main-row 荵溯�豁｣遑ｮ莨ｸ螻募柱蟇ｹ鮨� */
#sts-action-area .chat-input-main-row,
#guess-what-action-area .chat-input-main-row {
  flex-grow: 1 !important;
  display: flex !important;
  align-items: center !important;
  gap: 8px !important;
}

/* 3. 鄒主喧霎灘�譯�悽霄ｫ�悟ｹｶ隶ｩ螳��蜉ｨ謦第ｻ｡螳ｽ蠎ｦ */
#sts-action-area #sts-question-input,
#guess-what-action-area #guess-what-user-input {
  flex-grow: 1; /* 譬ｸ蠢�ｼ夊ｮｩ霎灘�譯��蜉ｨ莨ｸ螻包ｼ悟頃貊｡謇譛牙庄逕ｨ螳ｽ蠎ｦ */
  min-height: 40px; /* 菫晁ｯ∵怙蟆城ｫ伜ｺｦ */
  border: none;
  padding: 10px 15px;
  border-radius: 20px;
  background-color: var(--secondary-bg);
  font-size: 16px;
  resize: none;
  max-height: 100px;
  line-height: 1.5;
  box-sizing: border-box;
}

/* 4. 扈滉ｸ謇譛画潔髓ｮ逧�ｫ伜ｺｦ蜥梧�ｷ蠑擾ｼ瑚ｮｩ螳�ｻｬ蜥瑚ｾ灘�譯�ｮ檎ｾ朱る� */
#sts-action-area button,
#guess-what-action-area button {
  height: 40px;
  border-radius: 20px;
  padding: 0 15px;
  flex-shrink: 0; /* 髦ｲ豁｢謖蛾聴陲ｫ蜴狗ｼｩ */
  font-size: 14px;
  font-weight: 600;
}

/* 5. 螟憺龍讓｡蠑城る� */
#phone-screen.dark-mode #sts-action-area #sts-question-input,
#phone-screen.dark-mode #guess-what-action-area #guess-what-user-input {
  background-color: #2c2c2e;
  color: var(--text-primary);
}
/* 笆ｲ笆ｲ笆ｲ 菫ｮ螟咲ｻ捺據 笆ｲ笆ｲ笆ｲ */
/* === 縲千峡螳ｶ螳壼宛縲鷹嚼阯乗ｸｸ謌丞､ｧ蜴�ｿ泌屓謖蛾聴逧� "騾蜃ｺ" 譁�ｭ� === */
#exit-werewolf-game-btn,
#exit-sts-game-btn,
#exit-script-kill-game-btn,
#exit-guess-what-game-btn,
#exit-ludo-game-btn,
#exit-undercover-game-btn {
  /* <--- 菫ｮ謾ｹ蝨ｨ霑咎㈹ */
  font-size: 0 !important;
  color: transparent !important;
}

#exit-werewolf-game-btn::before,
#exit-sts-game-btn::before,
#exit-script-kill-game-btn::before,
#exit-guess-what-game-btn::before,
#exit-ludo-game-btn::before,
#exit-undercover-game-btn::before {
  /* <--- 霑俶怏霑咎㈹ */
  content: '窶ｹ';
  font-size: 24px !important;
  color: var(--accent-color) !important;
}

/* 笆ｼ笆ｼ笆ｼ 縲新3譛扈育沿縲第ｸｸ謌丞書險霎灘�蛹ｺ騾夂畑鄒主喧譬ｷ蠑� (蟾ｲ螻�ｸｭ) 笆ｼ笆ｼ笆ｼ */

/* 1. 隶ｩ謇譛画ｸｸ謌冗噪蜿題ｨ蛹ｺ蝓溷ｮｹ蝎ｨ驛ｽ豌ｴ蟷ｳ螻�ｸｭ */
#werewolf-action-area.speaking-mode,
#script-kill-action-area.speaking-mode,
#undercover-action-area.speaking-mode {
  /* 笘� 譁ｰ蠅樔ｺ� #undercover-action-area */
  display: flex;
  flex-direction: row;
  align-items: center;
  gap: 8px;
  width: 100%;
  padding: 10px 12px !important; /* 蠅槫刈荳贋ｸ句�霎ｹ霍晢ｼ瑚ｮｩ蛹ｺ蝓滉ｸ崎ｴｴ蠎� */
  box-sizing: border-box;
  justify-content: center; /* 笘��笘� 霑吝ｰｱ譏ｯ螳樒鴫螻�ｸｭ逧��ｸ蠢�ｻ｣遐�ｼ� 笘��笘� */
}

/* 2. 鄒主喧謇譛画ｸｸ謌冗噪蜿題ｨ霎灘�譯� */
#werewolf-action-area.speaking-mode #user-speech-input,
#script-kill-action-area.speaking-mode #user-sk-speech-input,
#undercover-action-area.speaking-mode #undercover-user-speech-input {
  /* 笘��笘� 譬ｸ蠢�ｿｮ謾ｹ�壽�莉ｬ遘ｻ髯､莠� flex-grow: 1; 螻樊ｧ�≫�笘�� */
  /* 霑呎�ｷ霎灘�譯�ｰｱ荳堺ｼ壽裏髯蝉ｼｸ螻包ｼ瑚梧弍菫晄戟荳荳ｪ閾ｪ辟ｶ逧�ｮｽ蠎ｦ */

  border: 1px solid #ccc; /* 蠅槫刈荳荳ｪ豺｡豺｡逧�ｾｹ譯�ｼ瑚ｮｩ螳�峩貂�匆 */
  padding: 10px 15px;
  border-radius: 20px;
  background-color: var(--secondary-bg);
  font-size: 16px;
  resize: none;
  max-height: 100px;
  line-height: 1.5;
  width: auto; /* 遑ｮ菫晏ｮｽ蠎ｦ譏ｯ閾ｪ騾ょｺ皮噪 */
  height: auto;
  min-width: 200px; /* 扈吩ｸ荳ｪ譛蟆丞ｮｽ蠎ｦ�碁亟豁｢蜀�ｮｹ蟆第慮螟ｪ遯� */
}

/* 3. 鄒主喧謇譛画ｸｸ謌冗噪窶懷書險/扈捺據蜿題ｨ窶晄潔髓ｮ */
#werewolf-action-area.speaking-mode #end-speech-btn,
#script-kill-action-area.speaking-mode #sk-end-speech-btn,
#undercover-action-area.speaking-mode #undercover-end-speech-btn {
  height: 40px;
  border-radius: 20px;
  padding: 0 20px; /* 蠅槫刈蟾ｦ蜿ｳ蜀�ｾｹ霍晢ｼ瑚ｮｩ謖蛾聴譖ｴ鬣ｱ貊｡ */
  flex-shrink: 0;
  font-size: 14px;
  font-weight: 600;
  margin: 0 !important;
  width: auto !important;
  background-color: var(--accent-color);
  color: white;
  border: none;
}

/* 4. 螟憺龍讓｡蠑城る� */
#phone-screen.dark-mode #werewolf-action-area.speaking-mode #user-speech-input,
#phone-screen.dark-mode #script-kill-action-area.speaking-mode #user-sk-speech-input,
#phone-screen.dark-mode #undercover-action-area.speaking-mode #undercover-user-speech-input {
  background-color: #2c2c2e;
  color: var(--text-primary);
  border-color: #444; /* 螟憺龍讓｡蠑丈ｸ狗噪霎ｹ譯�｢懆牡 */
}

/* 笆ｲ笆ｲ笆ｲ 譛扈育沿譬ｷ蠑冗ｲ倩ｴｴ扈捺據 笆ｲ笆ｲ笆ｲ */
/* 笆ｼ笆ｼ笆ｼ 縲仙�譁ｰ縲大ｮ�迚ｩ蜉溯�譬ｷ蠑� 笆ｼ笆ｼ笆ｼ */

#chat-pet {
  transition: transform 0.2s ease-out; /* 荳ｺ諡門勘豺ｻ蜉�荳轤ｹ蟷ｳ貊題ｿ�ｸ｡ */
}

#chat-pet:active {
  cursor: grabbing;
  transform: scale(1.1); /* 諡門勘譌ｶ遞榊ｾｮ謾ｾ螟ｧ�檎ｻ咏畑謌ｷ蜿埼ｦ� */
  filter: brightness(0.9);
}

#chat-pet img {
  width: 100%;
  height: 100%;
  object-fit: contain; /* 閾ｪ螳壻ｹ牙崟迚�ｭ画ｯ皮ｼｩ謾ｾ */
  -webkit-user-drag: none; /* 髦ｲ豁｢蝗ｾ迚�｢ｫ諢丞､匁許蜉ｨ */
  user-drag: none;
}

/* 笆ｲ笆ｲ笆ｲ 譁ｰ譬ｷ蠑冗ｲ倩ｴｴ扈捺據 笆ｲ笆ｲ笆ｲ */
/* 笆ｼ笆ｼ笆ｼ 縲仙�譁ｰ縲大ｮ�迚ｩ謨ｰ蛟ｼ髱｢譚ｿ譬ｷ蠑� 笆ｼ笆ｼ笆ｼ */

#pet-stats-area {
  display: flex;
  flex-direction: column;
  gap: 12px; /* 豈丈ｸｪ謨ｰ蛟ｼ譚｡荵矩龍逧�龍霍� */
  margin-bottom: 20px;
  padding: 15px;
  background-color: #f9f9f9;
  border-radius: 8px;
  border: 1px solid var(--border-color);
}

#phone-screen.dark-mode #pet-stats-area {
  background-color: #2c2c2e;
}

.stat-bar-container {
  display: flex;
  align-items: center;
  gap: 8px;
}

.stat-bar-container .stat-label {
  width: 60px; /* 蝗ｺ螳壽��ｭｾ螳ｽ蠎ｦ�瑚ｮｩ霑帛ｺｦ譚｡蟇ｹ鮨� */
  font-size: 14px;
  font-weight: 500;
  flex-shrink: 0;
}

.stat-bar {
  flex-grow: 1;
  height: 18px;
  background-color: #e9ecef;
  border-radius: 9px;
  overflow: hidden;
  position: relative;
}

#phone-screen.dark-mode .stat-bar {
  background-color: #3e3e42;
}

.stat-bar-fill {
  height: 100%;
  border-radius: 9px;
  transition: width 0.5s ease-in-out;
  display: flex;
  justify-content: center;
  align-items: center;
  color: white;
  font-size: 10px;
  font-weight: bold;
  text-shadow: 0 0 2px rgba(0, 0, 0, 0.5);
}

/* 荳ｺ荳榊酔逧�焚蛟ｼ譚｡隶ｾ鄂ｮ荳榊酔逧�｢懆牡 */
#pet-hunger-bar .stat-bar-fill {
  background: linear-gradient(135deg, #fd7e14, #ffc107);
}
#pet-happiness-bar .stat-bar-fill {
  background: linear-gradient(135deg, #28a745, #20c997);
}

/* 笆ｲ笆ｲ笆ｲ 譁ｰ譬ｷ蠑冗ｲ倩ｴｴ扈捺據 笆ｲ笆ｲ笆ｲ */
/* 笆ｼ笆ｼ笆ｼ 縲仙�譁ｰ縲大ｮ�迚ｩ莠ｲ蟇�ｺｦ霑帛ｺｦ譚｡鬚懆牡 笆ｼ笆ｼ笆ｼ */
#pet-intimacy-user-bar .stat-bar-fill {
  background: linear-gradient(135deg, #ff8fab, #ffc3a0); /* 蟇ｹ菴��壽ｸｩ證也噪邊画ｩ呵牡 */
}
#pet-intimacy-char-bar .stat-bar-fill {
  background: linear-gradient(135deg, #a1c4fd, #c2e9fb); /* 蟇ｹTa�壽沐蜥檎噪螟ｩ闢晁牡 */
}
/* 笆ｲ笆ｲ笆ｲ 譁ｰ譬ｷ蠑冗ｲ倩ｴｴ扈捺據 笆ｲ笆ｲ笆ｲ */
/* 笆ｼ笆ｼ笆ｼ 縲仙�譁ｰ縲大ｮ�迚ｩ閨雁､ｩ逡碁擇譬ｷ蠑� 笆ｼ笆ｼ笆ｼ */
#pet-chat-messages .message-wrapper {
  max-width: 85%;
}

#pet-chat-messages .message-bubble {
  display: flex;
  align-items: flex-start;
  gap: 10px;
}

#pet-chat-messages .message-bubble .avatar {
  width: 34px;
  height: 34px;
  border-radius: 50%;
}

#pet-chat-messages .message-bubble .content {
  padding: 8px 12px;
  border-radius: 10px;
  line-height: 1.5;
}

#pet-chat-messages .message-wrapper.user {
  align-self: flex-end;
}
#pet-chat-messages .message-wrapper.user .message-bubble {
  flex-direction: row-reverse;
}
#pet-chat-messages .message-wrapper.user .content {
  background-color: #dcf8c6;
}

#pet-chat-messages .message-wrapper.pet {
  align-self: flex-start;
}
#pet-chat-messages .message-wrapper.pet .content {
  background-color: #fff;
}

#phone-screen.dark-mode #pet-chat-messages {
  background-color: #000;
}
#phone-screen.dark-mode #pet-chat-messages .message-wrapper.user .content {
  background-color: #26491d;
}
#phone-screen.dark-mode #pet-chat-messages .message-wrapper.pet .content {
  background-color: #2c2c2e;
}

/* 笆ｲ笆ｲ笆ｲ 譁ｰ譬ｷ蠑冗ｲ倩ｴｴ扈捺據 笆ｲ笆ｲ笆ｲ */
/* 笆ｼ笆ｼ笆ｼ 縲仙ｸ�ｱ扈域栫菫ｮ螟阪醍畑霑呎紛蝮嶺ｻ｣遐∵崛謐｢菴�荳贋ｸ谺｡豺ｻ蜉�逧�ｮ�迚ｩ閨雁､ｩ霎灘�譯��ｷ蠑� 笆ｼ笆ｼ笆ｼ */

/* 1. 隶ｩ蠑ｹ遯怜�螳ｹ蛹ｺ騾る�譁ｰ蟶�ｱ (菫晄戟荳榊序) */
#pet-chat-modal .modal-content {
  display: flex;
  flex-direction: column;
  overflow: hidden;
}

/* 2. 豸域�蛹ｺ蝓� (菫晄戟荳榊序) */
#pet-chat-modal #pet-chat-messages {
  flex-grow: 1;
  min-height: 0;
  overflow-y: auto;
  padding: 20px 15px;
  background-color: #f0f2f5;
  display: flex;
  flex-direction: column;
  gap: 15px;
}

/* 3. 豌疲ｳ｡譬ｷ蠑� (菫晄戟荳榊序) */
#pet-chat-modal .message-bubble .content {
  padding: 0;
  background: transparent;
  box-shadow: none;
  border: none;
}
#pet-chat-modal .message-wrapper.user .content {
  background-color: #007aff;
  color: white;
  padding: 10px 14px;
  border-radius: 18px 18px 4px 18px;
  max-width: 100%;
}
#pet-chat-modal .message-wrapper.pet .content {
  background-color: #ffffff;
  color: #1c1c1e;
  padding: 10px 14px;
  border-radius: 18px 18px 18px 4px;
  max-width: 100%;
  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.05);
}

/* --- 笆ｼ笆ｼ笆ｼ 譬ｸ蠢�ｿｮ螟榊玄蝓� 笆ｼ笆ｼ笆ｼ --- */

/* 4. 驥咲ｽｮ霎灘�蛹ｺ蝓溽噪閭梧勹蜥瑚ｾｹ譯� (菫晄戟荳榊序) */
#pet-chat-modal #pet-chat-input-area {
  border-top: 1px solid #e0e0e0;
  background-color: #f7f7f7;
  padding: 10px 12px;
  padding-bottom: calc(10px + env(safe-area-inset-bottom));
}

/* 5. 縲先�ｸ蠢�ｿｮ螟阪題ｮｩ霎灘�譯�柱蜿鷹∵潔髓ｮ逧�ｮｹ蝎ｨ蜿俶� Flex 蟶�ｱ */
#pet-chat-modal #pet-chat-input-area .chat-input-main-row {
  display: flex; /* 蜈ｳ髞ｮ�夊ｮｩ蜀�Κ蜈�ｴ�讓ｪ蜷第賜蛻� */
  align-items: center; /* 蜈ｳ髞ｮ�夊ｮｩ霎灘�譯�柱謖蛾聴蝙ら峩螻�ｸｭ蟇ｹ鮨撰ｼ悟ｮ樒鴫窶懷ｹｳ陦娯� */
  gap: 8px; /* 霎灘�譯�柱謖蛾聴荵矩龍逧�龍霍� */
}

/* 6. 鄒主喧霎灘�譯�ｼ悟ｹｶ縲占ｮｩ螳�酎貊｡螳ｽ蠎ｦ縲� */
#pet-chat-modal #pet-chat-input {
  flex-grow: 1; /* 蜈ｳ髞ｮ�夊ｮｩ霎灘�譯�頃謐ｮ謇譛牙黄菴咏噪螳ｽ蠎ｦ */
  background-color: white;
  border: 1px solid #ddd;
  border-radius: 18px;
  padding: 8px 15px;
  line-height: 1.5;
  min-height: 38px;
  max-height: 100px;
  resize: none; /* 遖∵ｭ｢逕ｨ謌ｷ謇句勘諡匁郷螟ｧ蟆� */
  box-sizing: border-box; /* 遑ｮ菫挾adding荳堺ｼ壽酎遐ｴ蟶�ｱ */
}

/* 7. 鄒主喧蜿鷹∵潔髓ｮ�悟ｹｶ蝗ｺ螳壼�螟ｧ蟆� */
#pet-chat-modal #send-to-pet-btn {
  flex-shrink: 0; /* 髦ｲ豁｢謖蛾聴陲ｫ蜴狗ｼｩ */
  background-color: #007aff;
  color: white;
  border: none;
  border-radius: 18px;
  height: 38px;
  padding: 0 20px;
  font-weight: 600;
  cursor: pointer; /* 鮠�譬�叛荳雁悉譌ｶ譏ｾ遉ｺ蟆乗焔 */
}

/* 8. 螟憺龍讓｡蠑城る� (菫晄戟荳榊序) */
#phone-screen.dark-mode #pet-chat-modal #pet-chat-messages {
  background-color: #000;
}
#phone-screen.dark-mode #pet-chat-modal .message-wrapper.pet .content {
  background-color: #2c2c2e;
}
#phone-screen.dark-mode #pet-chat-modal #pet-chat-input-area {
  background-color: #1c1c1e;
  border-top-color: #38383a;
}
#phone-screen.dark-mode #pet-chat-modal #pet-chat-input {
  background-color: #2c2c2e;
  border-color: #38383a;
  color: white;
}

/* 笆ｲ笆ｲ笆ｲ 菫ｮ螟咲ｻ捺據 笆ｲ笆ｲ笆ｲ */
/* 笆ｼ笆ｼ笆ｼ 謚願ｿ吩ｸ謨ｴ蝮怜�譁ｰ逧ГSS�檎ｲ倩ｴｴ蛻ｰ <style> 譬�ｭｾ逧�怙譛ｫ蟆ｾ 笆ｼ笆ｼ笆ｼ */

/* --- 縲仙�譁ｰ縲第ュ萓｣遨ｺ髣ｴ-諠�ｻｪ譌･隶ｰ譬ｷ蠑� --- */

/* 譌･隶ｰ隗�崟荳ｻ螳ｹ蝎ｨ */
#ls-diary-view {
  display: flex;
  flex-direction: column;
  gap: 20px;
}

/* 譌･蜴�ｮｹ蝎ｨ */
.ls-calendar-wrapper {
  background-color: var(--secondary-bg);
  border-radius: 12px;
  padding: 15px;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
}

.ls-calendar-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 15px;
  font-size: 16px;
  font-weight: 600;
}

.ls-calendar-header button {
  background: none;
  border: none;
  font-size: 20px;
  cursor: pointer;
  color: var(--accent-color);
}

.ls-calendar-weekdays {
  display: grid;
  grid-template-columns: repeat(7, 1fr);
  text-align: center;
  font-size: 12px;
  color: var(--text-secondary);
  margin-bottom: 10px;
}

.ls-calendar-grid {
  display: grid;
  grid-template-columns: repeat(7, 1fr);
  gap: 5px;
}

.ls-calendar-day {
  aspect-ratio: 1 / 1;
  display: flex;
  flex-direction: column;
  justify-content: flex-start;
  align-items: center;
  border-radius: 6px;
  cursor: pointer;
  transition: background-color 0.2s;
  position: relative;
  padding-top: 4px;
}
.ls-calendar-day:hover {
  background-color: #f0f2f5;
}
.ls-calendar-day.empty {
  cursor: default;
  pointer-events: none;
}
.ls-calendar-day.today .day-number {
  background-color: var(--accent-color);
  color: white;
  border-radius: 50%;
  width: 22px;
  height: 22px;
  line-height: 22px;
}

.ls-calendar-day .day-number {
  font-size: 13px;
  font-weight: 500;
  margin-bottom: 4px;
}

.ls-calendar-day .mood-emojis {
  display: flex;
  gap: 4px;
  font-size: 16px;
  position: absolute;
  bottom: 5px;
}

/* 蠢�ュ鄂仙ｭ� */
.ls-mood-jar-wrapper {
  background-color: var(--secondary-bg);
  border-radius: 12px;
  padding: 15px;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
  text-align: center;
}

.ls-mood-jar-wrapper h3 {
  margin: 0 0 15px 0;
  font-size: 16px;
}

/* 笆ｼ笆ｼ笆ｼ 逕ｨ霑吝摎縲蝉ｿｮ螟榊錘縲醍噪莉｣遐∵崛謐｢譌ｧ逧� .ls-mood-jar 譬ｷ蠑� 笆ｼ笆ｼ笆ｼ */
.ls-mood-jar {
  width: 100%;
  max-width: 100%; /* 笘� 譬ｸ蠢�ｿｮ謾ｹ1: 菴ｿ逕ｨmax-width髦ｲ豁｢貅｢蜃ｺ */
  box-sizing: border-box; /* 笘� 譬ｸ蠢�ｿｮ謾ｹ2: 遑ｮ菫挾adding荳堺ｼ壼ｯｼ閾ｴ螳ｽ蠎ｦ隶｡邂鈴漠隸ｯ */
  min-height: 80px;
  background-color: #f0f2f5;
  border-radius: 8px;
  padding: 10px;
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
  align-content: flex-start;
  justify-content: center;
  overflow: auto; /* 笘� 譬ｸ蠢�ｿｮ謾ｹ3 (菫晞勦): 螯よ棡蜀�ｮｹ螳槫惠螟ｪ螟夲ｼ悟ｰｱ逕ｨ貊壼勘譚｡蜈懷ｺ� */
}
/* 笆ｲ笆ｲ笆ｲ 譖ｿ謐｢扈捺據 笆ｲ笆ｲ笆ｲ */

.ls-mood-jar .mood-emoji-item {
  font-size: 22px;
}

/* 譌･隶ｰ郛冶ｾ大ｼｹ遯� */
#ls-emoji-selector .emoji-option {
  padding: 5px;
  border-radius: 8px;
  transition: background-color 0.2s;
}
#ls-emoji-selector .emoji-option.selected {
  background-color: #e0e0e0;
  transform: scale(1.2);
}

/* 譌･隶ｰ譟･逵句ｼｹ遯� */
.ls-diary-entry-block {
  background-color: #f9f9f9;
  border-radius: 8px;
  padding: 15px;
  border-left: 4px solid var(--accent-color);
}
.ls-diary-entry-block .entry-header {
  display: flex;
  align-items: center;
  gap: 10px;
  margin-bottom: 10px;
}
.ls-diary-entry-block .entry-header .mood-emoji {
  font-size: 32px;
}
.ls-diary-entry-block .entry-header .author {
  font-weight: 600;
  font-size: 16px;
}
.ls-diary-entry-block .entry-content {
  line-height: 1.7;
  white-space: pre-wrap;
  word-break: break-word;
}

/* 譌･隶ｰ隸�ｮｺ蛹ｺ */
.ls-diary-comments-section {
  margin-top: 15px;
  padding-top: 10px;
  border-top: 1px dashed #ddd;
}
.ls-diary-comment-item {
  font-size: 13px;
  margin-bottom: 6px;
  line-height: 1.4;
  color: #555;
}
.ls-diary-comment-item .comment-author {
  font-weight: bold;
  margin-right: 4px;
  color: #333;
}
.comment-input-area {
  display: flex;
  margin-top: 10px;
  gap: 5px;
}
.ls-diary-comment-input {
  flex: 1;
  border: 1px solid #e0e0e0;
  border-radius: 15px;
  padding: 6px 12px;
  font-size: 13px;
  outline: none;
}
.ls-diary-comment-input:focus {
  border-color: var(--accent-color);
}
.ls-diary-comment-submit-btn {
  background-color: var(--accent-color);
  color: white;
  border: none;
  border-radius: 15px;
  padding: 0 15px;
  font-size: 13px;
  cursor: pointer;
}
.ls-diary-comment-delete-btn {
  color: #999;
  cursor: pointer;
  margin-left: 8px;
  font-size: 16px;
  line-height: 1;
  vertical-align: middle;
}
.ls-diary-comment-delete-btn:hover {
  color: #ff4d4f;
}

/* 笆ｲ笆ｲ笆ｲ 譁ｰ蠅曚SS扈捺據 笆ｲ笆ｲ笆ｲ */
/* 笆ｼ笆ｼ笆ｼ 謚願ｿ吩ｸ謨ｴ蝮怜�譁ｰ逧ГSS�檎ｲ倩ｴｴ蛻ｰ <style> 譬�ｭｾ逧�怙譛ｫ蟆ｾ 笆ｼ笆ｼ笆ｼ */

/* --- 縲仙�譁ｰ縲第ュ萓｣遨ｺ髣ｴ-譌･隶ｰ騾夂衍蜊｡迚��ｷ蠑� --- */

/* 1. 隶ｩ蛹�｣ｹ蜊｡迚�噪豌疲ｳ｡譛ｬ霄ｫ蜿倬乗� */
.message-bubble.is-ls-diary-notification .content {
  padding: 0;
  background: transparent;
  box-shadow: none;
  border: none;
  backdrop-filter: none;
  -webkit-backdrop-filter: none;
}

/* 2. 蜊｡迚�ｸｻ菴捺�ｷ蠑� */
.ls-diary-notification-card {
  width: 220px; /* 蜊｡迚�ｮｽ蠎ｦ */
  background: linear-gradient(135deg, #fff5f8, #ffebee); /* 貂ｩ譟皮噪邊芽牡貂仙序閭梧勹 */
  border-radius: 12px;
  padding: 15px;
  cursor: pointer;
  border: 1px solid #ffdde1; /* 豺｡豺｡逧�ｲ芽牡霎ｹ譯� */
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
  position: relative;
  overflow: hidden; /* 髫占酪貅｢蜃ｺ逧�｣�･ｰ蜈�ｴ� */
  transition: transform 0.2s, box-shadow 0.2s; /* 豺ｻ蜉�轤ｹ蜃ｻ蜉ｨ謨� */
}
.ls-diary-notification-card:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
}

/* 3. 蜊｡迚�承荳願ｧ堤噪陬�･ｰ諤ｧ蝗ｾ譬� */
.ls-diary-notification-card::before {
  content: '�柱';
  position: absolute;
  top: -5px;
  right: 10px;
  font-size: 30px;
  opacity: 0.1;
  transform: rotate(15deg);
}

/* 4. 蜊｡迚�､ｴ驛ｨ�亥崟譬�柱譬�｢假ｼ� */
.ls-diary-card-header {
  display: flex;
  align-items: center;
  gap: 8px;
  font-size: 15px;
  font-weight: 600;
  color: #c85c7c; /* 遞肴ｷｱ逧�ｲ芽牡�御ｿ晁ｯ∵ｸ�匆蠎ｦ */
  margin-bottom: 10px;
  padding-bottom: 8px;
  border-bottom: 1px solid rgba(200, 92, 124, 0.2);
}

/* 5. 蜊｡迚�ｭ｣譁� */
.ls-diary-card-body p {
  font-size: 14px;
  color: #5c474b; /* 豺ｱ譽戊牡�梧�莠朱�隸ｻ */
  margin: 0 0 12px 0;
  line-height: 1.6;
}

/* 6. 蜊｡迚�ｺ暮Κ謠千､ｺ譁�ｭ� */
.ls-diary-card-footer {
  font-size: 12px;
  color: #c85c7c;
  text-align: right;
  font-weight: 500;
}
/* 笆ｲ笆ｲ笆ｲ 譁ｰ蠅曚SS扈捺據 笆ｲ笆ｲ笆ｲ */

/* 笆ｼ笆ｼ笆ｼ 縲千峡螳ｶ螳壼宛縲大ｮ�迚ｩ莠貞勘謖蛾聴 2x2 鄂第�ｼ蟶�ｱ (譛扈亥刈蠑ｺ迚�) 笆ｼ笆ｼ笆ｼ */

/* 1. 菴ｿ逕ｨ !important 蠑ｺ蛻ｶ蠑蜷ｯ鄂第�ｼ蟶�ｱ�悟ｯｹ謚玲�ｷ蠑丞�遯� */
#pet-interaction-area {
  display: grid !important; /* 蜈ｳ髞ｮ�壼ｼｺ蛻ｶ菴ｿ逕ｨ grid 蟶�ｱ */
  grid-template-columns: 1fr 1fr; /* 荳､蛻礼ｽ第�ｼ */
  gap: 10px; /* 謖蛾聴髣ｴ霍� */
  max-width: 220px; /* 騾ょｽ捺叛螳ｽ譛螟ｧ螳ｽ蠎ｦ�檎ｻ呎潔髓ｮ譖ｴ螟夂ｩｺ髣ｴ */
  margin: 15px auto !important; /* 蠑ｺ蛻ｶ螻�ｸｭ */
}

/* 2. 隹�紛謖蛾聴蟆ｺ蟇ｸ�悟ｹｶ蠑ｺ蛻ｶ譁�ｭ嶺ｸ肴困陦� */
#pet-interaction-area button {
  /* 蟆ｺ蟇ｸ蜥梧枚蟄� */
  padding: 8px 12px;
  font-size: 14px;
  white-space: nowrap; /* 蜈ｳ髞ｮ�壼ｼｺ蛻ｶ譁�ｭ怜惠蜷御ｸ陦梧仞遉ｺ�碁亟豁｢謐｢陦� */

  /* 蠖｢迥ｶ蜥檎ｾ主喧 */
  border-radius: 18px;
  width: 100%;
  font-weight: 600;
  background-color: #f0f2f5;
  color: var(--accent-color);
  border: 1.5px solid var(--accent-color);
  cursor: pointer;
  transition: all 0.2s ease-in-out;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
}

/* 3. 莠､莠呈譜譫應ｿ晄戟荳榊序 */
#pet-interaction-area button:hover {
  background-color: var(--accent-color);
  color: white;
  transform: translateY(-2px);
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
}

#pet-interaction-area button:active {
  transform: translateY(0) scale(0.98);
  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.08);
}

/* 笆ｲ笆ｲ笆ｲ 鄒主喧譬ｷ蠑冗ｻ捺據 笆ｲ笆ｲ笆ｲ */

/* --- 縲先怙扈育沿縲第ュ萓｣遨ｺ髣ｴ蜿ｳ荳願ｧ呈潔髓ｮ鄒主喧荳守峡遶句ｾｮ隹� --- */

/* 1. 謾ｶ邏ｧ謖蛾聴螳ｹ蝎ｨ逧�紛菴馴龍霍� */
#ls-header .header-actions {
  gap: 0px; /* 笘� 菫ｮ謾ｹ霑咎㈹�壼ｰ�潔髓ｮ髣ｴ逧�龍霍晏㍼蟆丞芦0�瑚ｮｩ螳�ｻｬ邏ｧ謖ｨ逹 */
}

/* 2. 菫晄戟謖蛾聴逧�渕遑譬ｷ蠑擾ｼ郁ｿ咎Κ蛻�ｸ榊序�� */
#ls-header .action-btn {
  padding: 8px;
  border-radius: 50%;
  transition: background-color 0.2s;
}
#ls-header .action-btn:hover {
  background-color: rgba(255, 255, 255, 0.2);
}

/* 3. 縲先�ｸ蠢�台ｸｺ豈丈ｸｪ謖蛾聴豺ｻ蜉�迢ｬ遶狗噪蠕ｮ隹�粥閭ｽ */

/* 窶懆ｮｾ鄂ｮ窶晄潔髓ｮ逧�峡遶倶ｽ咲ｽｮ */
#ls-settings-btn {
  position: relative; /* 蜷ｯ逕ｨ逶ｸ蟇ｹ螳壻ｽ搾ｼ瑚ｿ呎弍蠕ｮ隹�噪蜈ｳ髞ｮ */
  top: 0px; /* 縲占ｰ�ｸ贋ｸ九�: 豁｣謨ｰ蠕荳狗ｧｻ�瑚ｴ滓焚蠕荳顔ｧｻ */
  left: 40px; /* 縲占ｰ�ｷｦ蜿ｳ縲�: 豁｣謨ｰ蠕蜿ｳ遘ｻ�瑚ｴ滓焚蠕蟾ｦ遘ｻ */
}

/* 窶懈峩謐｢閭梧勹窶晄潔髓ｮ逧�峡遶倶ｽ咲ｽｮ */
#ls-change-bg-btn {
  position: relative;
  top: 0px;
  left: 30px;
}

/* 窶懷�謐｢窶晄潔髓ｮ逧�峡遶倶ｽ咲ｽｮ */
#ls-switch-char-btn {
  position: relative;
  top: -5px;
  left: 15px;
}

/* 笆ｼ笆ｼ笆ｼ 縲千峡螳ｶ螳壼宛縲第ュ萓｣遨ｺ髣ｴ蠢�勘髻ｳ豕｢蝗ｾ譬� 笆ｼ笆ｼ笆ｼ */

/* 1. 遘ｻ髯､譌ｧ逧�鯵蠢�ｭ礼ｬｦ蜥悟書蜈画譜譫� */
.ls-header-avatars .heart-icon {
  font-size: 0; /* 隶ｩ'笶､'蟄礼ｬｦ豸亥､ｱ */
  text-shadow: none; /* 遘ｻ髯､譁�ｭ鈴亢蠖ｱ */

  /* 2. 荳ｺ譁ｰ蝗ｾ譬�ｮｾ鄂ｮ荳荳ｪ螳ｹ蝎ｨ螟ｧ蟆擾ｼ梧お蜿ｯ莉･譬ｹ謐ｮ蝟懷･ｽ蠕ｮ隹� */
  width: 80px;
  height: 28px;

  /* 3. 縲先�ｸ蠢�大ｰ�ｽ�蝗ｾ迚�ｸｭ逧�浹豕｢蠢�勘蝗ｾ隶ｾ鄂ｮ荳ｺ閭梧勹 */
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='80' height='24' viewBox='0 0 80 24'%3E%3Cg fill='%23ff8fab'%3E%3Crect x='0' y='10' width='3' height='4' rx='1.5'/%3E%3Crect x='5' y='8' width='3' height='8' rx='1.5'/%3E%3Crect x='10' y='11' width='3' height='2' rx='1.5'/%3E%3Crect x='15' y='6' width='3' height='12' rx='1.5'/%3E%3Crect x='20' y='9' width='3' height='6' rx='1.5'/%3E%3Cpath transform='translate(25 0) scale(1.1)' d='M22 8.879c0-5.323-5.326-5.323-7.5-1.121C12.277 2.235 7 3.556 7 8.879 7 14.155 14.5 20 14.5 20S22 14.155 22 8.879z'/%3E%3Crect x='55' y='9' width='3' height='6' rx='1.5'/%3E%3Crect x='60' y='6' width='3' height='12' rx='1.5'/%3E%Crect x='65' y='11' width='3' height='2' rx='1.5'/%3E%3Crect x='70' y='8' width='3' height='8' rx='1.5'/%3E%3Crect x='75' y='10' width='3' height='4' rx='1.5'/%3E%3C/g%3E%3C/svg%3E");
  background-size: contain; /* 遑ｮ菫晏崟譬�ｮ梧紛譏ｾ遉ｺ */
  background-repeat: no-repeat;
  background-position: center;

  /* 4. �亥庄騾会ｼ牙ｾｮ隹�桙逶ｴ菴咲ｽｮ�瑚ｮｩ螳�柱螟ｴ蜒乗峩蟇ｹ鮨� */
  position: relative;
  top: -2px;
}

/* 笆ｲ笆ｲ笆ｲ 螳壼宛譬ｷ蠑冗ｻ捺據 笆ｲ笆ｲ笆ｲ */

/* 笆ｼ笆ｼ笆ｼ 霑呎弍荳ｺ菴�譁ｰ蠅樒噪譌･蜴�ｱ�ｸｭ菫ｮ螟堺ｻ｣遐� 笆ｼ笆ｼ笆ｼ */

/* 1. 蠑ｺ蛻ｶ隶ｩ豈丈ｸ螟ｩ逧��ｼ蟄仙�螳ｹ驛ｽ荳崎ｦ∵ｺ｢蜃ｺ�碁∩蜈堺ｺ堤嶌蠖ｱ蜩� */
.ls-calendar-day {
  overflow: hidden;
  text-align: center; /* 蜀肴ｬ｡蠑ｺ隹�枚譛ｬ螻�ｸｭ�梧峩遞ｳ螳� */
}

/* 2. 縲先�ｸ蠢�ｿｮ螟阪大ｰ�統蝨域悽霄ｫ荵溷序謌蝉ｸ荳ｪflex螻�ｸｭ螳ｹ蝎ｨ */
/* 霑呵�遑ｮ菫晞㈹髱｢逧�焚蟄暦ｼ梧裏隶ｺ螯ゆｽ暮�莨壼惠蝨亥怦逧�ｭ｣荳ｭ髣ｴ */
.ls-calendar-day.today .day-number {
  display: flex;
  justify-content: center;
  align-items: center;
}

/* 笆ｲ笆ｲ笆ｲ 菫ｮ螟咲ｻ捺據 笆ｲ笆ｲ笆ｲ */

/* 笆ｼ笆ｼ笆ｼ 縲千峡螳ｶ螳壼宛縲第ュ萓｣遨ｺ髣ｴ霑泌屓謖蛾聴鄒主喧 笆ｼ笆ｼ笆ｼ */
#ls-header .back-btn {
  /* 1. 譬ｸ蠢�ｿｮ謾ｹ�壼ｰ�ｮｭ螟ｴ鬚懆牡隶ｾ荳ｺ謔ｨ諠ｳ隕∫噪逋ｽ濶ｲ */
  color: white;

  /* 2. 扈滉ｸ譬ｷ蠑擾ｼ夊ｮｩ螳�柱蝨亥ｭ占ｿ泌屓謖蛾聴荳譬ｷ�梧凶譛�40x40px逧�怕蠖｢轤ｹ蜃ｻ蛹ｺ蝓� */
  width: 40px;
  height: 40px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: background-color 0.2s ease;
  cursor: pointer;
}

/* 3. 荳ｺ螳�ｷｻ蜉�荳主�莉匁潔髓ｮ扈滉ｸ逧�∵ｼゆｺｮ逧�ぎ蛛懈譜譫� */
#ls-header .back-btn:hover {
  background-color: rgba(255, 255, 255, 0.2);
}
/* 笆ｲ笆ｲ笆ｲ 譁ｰ蠅樊�ｷ蠑冗ｻ捺據 笆ｲ笆ｲ笆ｲ */
/* 笆ｼ笆ｼ笆ｼ 縲仙�譁ｰ縲題ｮｰ蠢�ｺ帝夐画叫譯�ｾ主喧譬ｷ蠑� 笆ｼ笆ｼ笆ｼ */

/* 1. 隶ｩ豈丈ｸｪ騾蛾｡ｹ逧���ｭｾ(label)謌蝉ｸｺ荳荳ｪflex螳ｹ蝎ｨ */
.memory-link-option {
  display: flex;
  align-items: center; /* 蝙ら峩螻�ｸｭ蟇ｹ鮨� */
  gap: 10px; /* 蜈�ｴ�荵矩龍逧�龍霍� */
  padding: 8px 12px !important; /* 蠅槫刈蜀�ｾｹ霍晢ｼ�!important遑ｮ菫晉函謨� */
  cursor: pointer;
}

/* 2. 蜊慕峡荳ｺ螟埼画｡�ｮｾ鄂ｮ譬ｷ蠑擾ｼ碁亟豁｢陲ｫ蜈ｨ螻譬ｷ蠑丞ｽｱ蜩� */
.memory-link-option input[type='checkbox'] {
  width: 18px !important; /* 蝗ｺ螳壼ｮｽ蠎ｦ */
  height: 18px !important; /* 蝗ｺ螳夐ｫ伜ｺｦ */
  margin: 0 !important; /* 遘ｻ髯､螟冶ｾｹ霍� */
  flex-shrink: 0; /* 髦ｲ豁｢陲ｫ蜴狗ｼｩ */
}

/* 3. 隶ｾ鄂ｮ螟ｴ蜒冗噪譬ｷ蠑� */
.memory-link-avatar {
  width: 28px;
  height: 28px;
  border-radius: 50%; /* 蝨�ｽ｢螟ｴ蜒� */
  object-fit: cover; /* 菫晁ｯ∝崟迚�ｸ榊序蠖｢ */
  flex-shrink: 0; /* 髦ｲ豁｢陲ｫ蜴狗ｼｩ */
}

/* 4. 隶ｾ鄂ｮ蜷榊ｭ礼噪譬ｷ蠑� */
.memory-link-name {
  /* 鮟倩ｮ､譬ｷ蠑丞叉蜿ｯ�悟ｮ�ｼ夊�蜉ｨ蝪ｫ蜈�黄菴咏ｩｺ髣ｴ */
}

/* 笆ｲ笆ｲ笆ｲ 譁ｰ譬ｷ蠑冗ｲ倩ｴｴ扈捺據 笆ｲ笆ｲ笆ｲ */
/* 笆ｼ笆ｼ笆ｼ 縲仙�譁ｰ縲題ｮｰ蠢�ｺ帝夐画叫譯�ｾ主喧譬ｷ蠑� 笆ｼ笆ｼ笆ｼ */
#memory-link-checkboxes-container label {
  display: flex; /* 1. 菴ｿ逕ｨFlex蟶�ｱ�瑚ｮｩ螟ｴ蜒丞柱譁�ｭ玲ｨｪ蜷第賜蛻� */
  align-items: center; /* 2. 蝙ら峩螻�ｸｭ蟇ｹ鮨� */
  gap: 10px; /* 3. 蝨ｨ螟ｴ蜒上∝､埼画｡�柱譁�ｭ嶺ｹ矩龍蛻帛ｻｺ髣ｴ霍� */
  padding: 10px 12px; /* 4. 蠅槫刈蜀�ｾｹ霍晢ｼ瑚ｮｩ豈丈ｸ陦梧峩鬮倥∵峩譏謎ｺ守せ蜃ｻ */
  cursor: pointer; /* 5. 鮠�譬�叛荳雁悉譌ｶ譏ｾ遉ｺ蟆乗焔蝗ｾ譬� */
  transition: background-color 0.2s; /* 6. 豺ｻ蜉�謔ｬ蛛懈譜譫� */
}

#memory-link-checkboxes-container label:hover {
  background-color: #f0f2f5; /* 7. 鮠�譬�ぎ蛛懈慮扈吩ｸ荳ｪ豺｡豺｡逧�レ譎ｯ濶ｲ */
}

#memory-link-checkboxes-container .avatar-preview {
  width: 30px; /* 8. 隶ｾ鄂ｮ螟ｴ蜒冗噪蟆ｺ蟇ｸ */
  height: 30px;
  border-radius: 50%; /* 9. 蝨�ｽ｢螟ｴ蜒� */
  object-fit: cover; /* 10. 遑ｮ菫晏崟迚�ｸ榊序蠖｢ */
  flex-shrink: 0; /* 11. 髦ｲ豁｢螟ｴ蜒丞惠遨ｺ髣ｴ荳崎ｶｳ譌ｶ陲ｫ蜴狗ｼｩ */
}

#memory-link-checkboxes-container input[type='checkbox'] {
  /* 12. 隹�紛螟埼画｡�噪螟ｧ蟆丞柱菴咲ｽｮ�御ｽｿ蜈ｶ譖ｴ蜊剰ｰ� */
  width: 18px;
  height: 18px;
  margin: 0;
}
/* 笆ｲ笆ｲ笆ｲ 譁ｰ蠅曚SS扈捺據 笆ｲ笆ｲ笆ｲ */

/* 笆ｼ笆ｼ笆ｼ 縲新6 譛扈井ｿｮ豁｣迚医大ｿ�｣ｰ髱｢譚ｿ�郁ｾｹ譯�琉鬚倅ｿｮ螟搾ｼ� 笆ｼ笆ｼ笆ｼ */

/* 1. 蝓ｺ遑蟶�ｱ (菫晄戟荳榊序) */
#inner-voice-modal .modal-body {
  position: relative;
  min-height: 450px;
}
#inner-voice-avatar-wrapper,
#inner-voice-char-name,
#inner-voice-adopter-info {
  position: absolute;
  transition: all 0.3s ease;
}

/* 2. 隗定牡荳ｻ螟ｴ蜒冗噪螳ｹ蝎ｨ�壼惠霑咎㈹豺ｻ蜉� padding 蜥� background-color */
#inner-voice-avatar-wrapper {
  top: 20px;
  left: 50%;
  transform: translateX(-50%);
  width: 65px;
  height: 65px;
  border-radius: 50%;

  /* --- 笆ｼ笆ｼ笆ｼ 譬ｸ蠢�ｿｮ謾ｹ蝨ｨ霑咎㈹ 笆ｼ笆ｼ笆ｼ --- */
  padding: 4px; /* 笘� 譁ｰ蠅橸ｼ壼髄蜀�研蜴�4蜒冗ｴ��御ｸｺ郤｢郤ｿ逡吝�遨ｺ髣ｴ縲ゆｽ�蜿ｯ莉･閾ｪ蟾ｱ隹�紛霑吩ｸｪ謨ｰ蛟ｼ�梧ｯ泌ｦ�3px謌�5px */
  background-color: #fff; /* 笘� 譁ｰ蠅橸ｼ夊ｮｩ蜀�ｾｹ霍晉噪蛹ｺ蝓滓仞遉ｺ荳ｺ逋ｽ濶ｲ�悟ｽ｢謌蝉ｸ荳ｪ窶懃區邇ｯ窶� */
  box-sizing: border-box; /* 笘� 譁ｰ蠅橸ｼ夂｡ｮ菫挾adding荳堺ｼ壽滑螳ｹ蝎ｨ謦大､ｧ�瑚ｿ吝ｾ磯㍾隕� */
  /* --- 笆ｲ笆ｲ笆ｲ 菫ｮ謾ｹ扈捺據 笆ｲ笆ｲ笆ｲ --- */

  box-shadow: 0 0 0 1.5px transparent;
  transition: box-shadow 0.2s ease-in-out;
}

/* 蠖馴怙隕∵仞遉ｺ霎ｹ譯�慮�梧隼蜿� box-shadow 逧�｢懆牡 (蟾ｲ菫ｮ謾ｹ荳ｺ邊芽牡) */
#inner-voice-avatar-wrapper.has-border {
  box-shadow: 0 0 0 1.5px #ff8fab; /*  <-- 蟆ｱ譏ｯ菫ｮ謾ｹ霑咎㈹��*/
}

/* 4. 遘ｻ髯､荵句燕蛻ｶ騾�蜀ｲ遯∫噪 ::after 莨ｪ蜈�ｴ� (菫晄戟荳榊序) */
#inner-voice-avatar-wrapper::after {
  display: none;
}

/* 隗定牡荳ｻ螟ｴ蜒冗噪蝗ｾ迚��ｷ蠑擾ｼ井ｿ晄戟荳榊序�� */
#inner-voice-avatar-wrapper #inner-voice-avatar {
  width: 100%;
  height: 100%;
  border-radius: 50%;
  object-fit: cover;
  border: none;
}

/* 螟ｴ蜒乗｡�噪譬ｷ蠑擾ｼ井ｿ晄戟荳榊序�� */
/* 笆ｼ笆ｼ笆ｼ 縲先怙扈亥ｾｮ隹�沿縲題ｯｷ逕ｨ霑呎紛蝮嶺ｻ｣遐�ｼ梧崛謐｢謗画立逧�♀螟ｩ蜥悟ｿ�｣ｰ螟ｴ蜒乗｡�ｧ�� 笆ｼ笆ｼ笆ｼ */

.avatar-with-frame .avatar-frame,
#inner-voice-avatar-frame {
  position: absolute;
  width: 110%;
  height: 115%;
  transform: translate(-50%, -56%);
  top: 50%;
  left: 50%;
  z-index: 2;
  pointer-events: none;
}

/* 笆ｲ笆ｲ笆ｲ 譖ｿ謐｢扈捺據 笆ｲ笆ｲ笆ｲ */

/* 5. 隗定牡蜷榊ｭ怜柱鬚��莠ｺ菫｡諱ｯ逧�ｽ咲ｽｮ (菫晄戟荳榊序) */
#inner-voice-char-name {
  top: 95px;
  left: 50%;
  transform: translateX(-50%);
  font-weight: 600;
  font-size: 16px;
  color: #333;
  text-align: center;
}
#inner-voice-adopter-info {
  top: 125px;
  left: 50%;
  transform: translateX(-50%);
  display: flex;
  align-items: center;
  gap: 8px;
  font-size: 13px;
  color: #666;
}
#inner-voice-adopter-info img {
  width: 24px;
  height: 24px;
  border-radius: 50%;
}

/* 6. 蜀�ｮｹ蛹ｺ霍晉ｦｻ (菫晄戟荳榊序) */
#inner-voice-content-area {
  margin-top: 165px;
}

/* 笆ｼ笆ｼ笆ｼ 縲仙�譁ｰ | CSS蜿倬㍼迚医大ｿ�｣ｰ髱｢譚ｿ蜊｡迚�柱譬�ｭｾ譬ｷ蠑� 笆ｼ笆ｼ笆ｼ */

/* 霑呎弍蠢�｣ｰ髱｢譚ｿ驥鯉ｼ梧ｯ丈ｸｪ鬘ｹ逶ｮ�井ｾ句ｦや懈恪陬�晉噪謨ｴ荳ｪ蜊｡迚�ｼ臥噪譬ｷ蠑� */
#inner-voice-content-area > div {
  /* 譬ｸ蠢�ｿｮ謾ｹ�壽�莉ｬ謚企｢懆牡蜥碁乗�蠎ｦ蜿俶�莠�庄莉･陲ｫJS菫ｮ謾ｹ逧�序驥� */
  background-color: rgba(var(--iv-card-bg-rgb, 255, 255, 255), var(--iv-card-opacity, 0.7));

  border-radius: 16px;
  padding: 15px;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
  border: 1px solid rgba(255, 255, 255, 0.9);
  backdrop-filter: blur(5px);
  -webkit-backdrop-filter: blur(5px);
  transition: background-color 0.3s; /* 豺ｻ蜉�蟷ｳ貊題ｿ�ｸ｡ */
}

/* 笆ｼ笆ｼ笆ｼ 縲先怙扈井ｿｮ螟咲沿縲大ｿ�｣ｰ髱｢譚ｿ譬�ｭｾ譬ｷ蠑� 笆ｼ笆ｼ笆ｼ */

/* 1. 蜈亥ｮ壻ｹ画園譛画��ｭｾ逧�夂畑譬ｷ蠑擾ｼ檎｡ｮ菫晏ｽ｢迥ｶ縲∝ｭ嶺ｽ馴｢懆牡縲�亢蠖ｱ遲蛾�菫晄戟荳榊序 */
#inner-voice-content-area strong {
  padding: 3px 10px;
  border-radius: 12px;
  color: white !important; /* 蠑ｺ蛻ｶ蟄嶺ｽ馴｢懆牡荳ｺ逋ｽ濶ｲ */
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.2); /* 菫晄戟譁�ｭ鈴亢蠖ｱ */
}

/* 2. 辟ｶ蜷趣ｼ悟�荳ｺ豈丈ｸｪ譬�ｭｾ蜊慕峡隶ｾ鄂ｮ蜿ｯ蜿倡噪閭梧勹鬚懆牡 */
#inner-voice-content-area div:nth-of-type(1) strong {
  background-color: var(--iv-color-clothing, #f0a1a8); /* 譛崎｣� */
}
#inner-voice-content-area div:nth-of-type(2) strong {
  background-color: var(--iv-color-behavior, #81c784); /* 陦御ｸｺ */
}
#inner-voice-content-area div:nth-of-type(3) strong {
  background-color: var(--iv-color-thoughts, #64b5f6); /* 蠢�｣ｰ */
}
#inner-voice-content-area div:nth-of-type(4) strong {
  background-color: var(--iv-color-naughty, #ba68c8); /* 蝮丞ｿ�� */
}

/* 笆ｲ笆ｲ笆ｲ 菫ｮ螟咲ｻ捺據 笆ｲ笆ｲ笆ｲ */

/* 笆ｲ笆ｲ笆ｲ 譖ｿ謐｢扈捺據 笆ｲ笆ｲ笆ｲ */

/* 笆ｲ笆ｲ笆ｲ 螳壼宛譬ｷ蠑冗ｻ捺據 笆ｲ笆ｲ笆ｲ */

/*
  縲千峡螳ｶ螳壼宛縲大黒迢ｬ菫ｮ謾ｹ蠢�｣ｰ螟ｴ蜒乗｡�噪螟ｧ蟆丞柱菴咲ｽｮ
  菴ｿ逕ｨ隸ｴ譏趣ｼ�
  1. 蟆�ｸ矩擇霑呎紛蝮嶺ｻ｣遐∫ｲ倩ｴｴ蛻ｰ <style> 譬�ｭｾ逧�怙譛ｫ蟆ｾ縲�
  2. 菫ｮ謾ｹ荳矩擇逧� width, height, top, left 逧�焚蛟ｼ譚･隹�紛螟ｴ蜒乗｡��
*/
#inner-voice-avatar-frame {
  /*
     * 謗ｧ蛻ｶ螟ｧ蟆擾ｼ壽焚蛟ｼ雜雁､ｧ�悟､ｴ蜒乗｡�ｶ雁､ｧ縲�
     * 萓句ｦゑｼ�120% (豈泌次譚･蟆�), 150% (豈泌次譚･螟ｧ)
     */
  width: 100%;
  height: 100%;

  /*
     * 謗ｧ蛻ｶ菴咲ｽｮ�壻ｻ･螟ｴ蜒丈ｸｭ蠢�ｸｺ蜴溽せ (50%, 50%) 霑幄｡悟ｾｮ隹�
     */

  /* 謗ｧ蛻ｶ縲蝉ｸ贋ｸ九台ｽ咲ｽｮ�壼ｰ丈ｺ�50%蛻吩ｸ顔ｧｻ�悟､ｧ莠�50%蛻吩ｸ狗ｧｻ */
  top: 43%; /* 遉ｺ萓具ｼ夂ｨ榊ｾｮ蜷台ｸ顔ｧｻ蜉ｨ莠�ｸ轤ｹ */

  /* 謗ｧ蛻ｶ縲仙ｷｦ蜿ｳ縲台ｽ咲ｽｮ�壼ｰ丈ｺ�50%蛻吝ｷｦ遘ｻ�悟､ｧ莠�50%蛻吝承遘ｻ */
  left: 50%; /* 遉ｺ萓具ｼ壻ｿ晄戟豌ｴ蟷ｳ螻�ｸｭ */

  /* 
      莉･荳倶ｸｺ菫晄戟螻�ｸｭ蜥梧仞遉ｺ謨域棡蠢�｡ｻ逧�ｱ樊ｧ�瑚ｯｷ蜍ｿ菫ｮ謾ｹ 
    */
  position: absolute;
  transform: translate(-50%, -50%);
  z-index: 2;
  pointer-events: none;
}
/* 笆ｼ笆ｼ笆ｼ 縲仙�譁ｰ縲題ｿ呎弍蠕ｮ蜊夂ｧ∽ｿ｡蜉溯�逧�園譛画眠譬ｷ蠑擾ｼ瑚ｯｷ邊倩ｴｴ蛻ｰ <style> 逧�忰蟆ｾ 笆ｼ笆ｼ笆ｼ */

/* --- 遘∽ｿ｡蛻苓｡ｨ鬘ｵ髱｢ --- */
#weibo-dm-list .dm-list-item {
  display: flex;
  align-items: center;
  padding: 10px 15px;
  cursor: pointer;
  border-bottom: 1px solid var(--border-color);
}
#weibo-dm-list .dm-list-item:hover {
  background-color: #f5f5f5;
}
#phone-screen.dark-mode #weibo-dm-list .dm-list-item:hover {
  background-color: #2c2c2e;
}
#weibo-dm-list .dm-avatar {
  width: 45px;
  height: 45px;
  border-radius: 50%;
  margin-right: 12px;
  object-fit: cover;
}
#weibo-dm-list .dm-info {
  flex-grow: 1;
  overflow: hidden;
}
#weibo-dm-list .dm-name {
  font-weight: 500;
  font-size: 16px;
  margin-bottom: 4px;
}
#weibo-dm-list .dm-last-msg {
  font-size: 13px;
  color: var(--text-secondary);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

/* --- 遘∽ｿ｡隸ｦ諠�｡ｵ髱｢ --- */
#weibo-dm-messages {
  background-color: #f0f2f5 !important;
}
#phone-screen.dark-mode #weibo-dm-messages {
  background-color: #000000 !important;
}

/* 螟咲畑荳ｻ閨雁､ｩ逡碁擇逧�ｰ疲ｳ｡譬ｷ蠑擾ｼ御ｽ�ｸｺ邊我ｸ晏柱隗定牡螳壻ｹ臥音螳壼ｯｹ鮨先婿蠑� */
#weibo-dm-messages .message-wrapper.fan {
  align-self: flex-start;
}
#weibo-dm-messages .message-wrapper.fan .message-bubble {
  flex-direction: row;
}
#weibo-dm-messages .message-wrapper.fan .content {
  background-color: #ffffff;
  border-radius: 2px 18px 18px 18px;
}

#weibo-dm-messages .message-wrapper.char {
  align-self: flex-end;
}
#weibo-dm-messages .message-wrapper.char .message-bubble {
  flex-direction: row-reverse;
}
#weibo-dm-messages .message-wrapper.char .content {
  background-color: #ff8200; /* 蠕ｮ蜊壽ｩ呵牡 */
  color: white;
  border-radius: 18px 2px 18px 18px;
}

#phone-screen.dark-mode #weibo-dm-messages .message-wrapper.fan .content {
  background-color: #2c2c2e;
}
#phone-screen.dark-mode #weibo-dm-messages .message-wrapper.char .content {
  background-color: #e67300;
}

/* 笘��笘� 霑呎弍菴�髴隕∫噪縲仙唖髯､謖蛾聴縲醍噪譬ｷ蠑� 笘��笘� */
.dm-message-delete-btn {
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  width: 22px;
  height: 22px;
  background-color: rgba(0, 0, 0, 0.1);
  color: #555;
  border-radius: 50%;
  border: none;
  cursor: pointer;
  font-size: 16px;
  line-height: 22px;
  text-align: center;
  opacity: 0; /* 鮟倩ｮ､髫占酪 */
  transition: all 0.2s ease;
}
/* 鮠�譬�ぎ蛛懷惠豸域�荳頑慮譏ｾ遉ｺ謖蛾聴 */
#weibo-dm-messages .message-wrapper:hover .dm-message-delete-btn {
  opacity: 1;
}
.dm-message-delete-btn:hover {
  background-color: #ff3b30;
  color: white;
}
/* 隹�紛謖蛾聴菴咲ｽｮ�瑚ｮｩ螳��邇ｰ蝨ｨ豌疲ｳ｡譌∬ｾｹ */
#weibo-dm-messages .message-wrapper.fan .dm-message-delete-btn {
  right: -28px; /* 菫ｮ謾ｹ�壻ｻ� left 謾ｹ荳ｺ right�梧滑螳�叛蛻ｰ蜿ｳ霎ｹ */
  left: auto; /* 譁ｰ蠅橸ｼ壼叙豸亥ｷｦ萓ｧ螳壻ｽ搾ｼ檎｡ｮ菫� right 逕滓譜 */
}
#weibo-dm-messages .message-wrapper.char .dm-message-delete-btn {
  right: -28px;
}
/* 笆ｼ笆ｼ笆ｼ 縲仙�譁ｰ縲題♀螟ｩ諤ｻ扈灘粥閭ｽ譬ｷ蠑� 笆ｼ笆ｼ笆ｼ */

/* 諤ｻ扈鍋ｮ｡逅�ｼｹ遯怜�逧��陦ｨ */
#summary-list {
  display: flex;
  flex-direction: column;
  gap: 12px;
}

/* 蜊墓擅諤ｻ扈灘今迚� */
.summary-item-card {
  background-color: #f9f9f9;
  border-radius: 8px;
  padding: 12px;
  border: 1px solid var(--border-color);
  position: relative;
}

#phone-screen.dark-mode .summary-item-card {
  background-color: #2c2c2e;
}

.summary-item-card .summary-content {
  font-size: 14px;
  line-height: 1.6;
  white-space: pre-wrap;
  word-break: break-word;
  max-height: 100px;
  overflow: hidden;
  text-overflow: ellipsis;
}

.summary-item-card .summary-meta {
  font-size: 11px;
  color: var(--text-secondary);
  margin-top: 8px;
  padding-top: 8px;
  border-top: 1px solid var(--border-color);
  display: flex;
  justify-content: space-between;
}

.summary-item-card .summary-actions {
  position: absolute;
  top: 8px;
  right: 8px;
  display: flex;
  gap: 8px;
}

.summary-item-card .summary-actions button {
  background: none;
  border: none;
  cursor: pointer;
  font-size: 18px;
  color: var(--text-secondary);
  padding: 5px;
}
/* 笆ｲ笆ｲ笆ｲ 譁ｰ譬ｷ蠑冗ｲ倩ｴｴ扈捺據 笆ｲ笆ｲ笆ｲ */
/* 笆ｼ笆ｼ笆ｼ 謚願ｿ呎ｮｵ譁ｰ譬ｷ蠑冗ｲ倩ｴｴ蛻ｰ <style> 逧�忰蟆ｾ 笆ｼ笆ｼ笆ｼ */

/* 閨雁､ｩ諤ｻ扈灘ｼｹ遯怜ｺ暮Κ謖蛾聴逧�ｾ主喧 */
#summary-viewer-modal .modal-footer button {
  width: auto; /* 隶ｩ螳ｽ蠎ｦ閾ｪ騾ょｺ� */
  margin-top: 0; /* 遘ｻ髯､鬘ｶ驛ｨ螟冶ｾｹ霍� */
}

/* 笆ｲ笆ｲ笆ｲ 譁ｰ譬ｷ蠑冗ｲ倩ｴｴ扈捺據 笆ｲ笆ｲ笆ｲ */
/* 笆ｼ笆ｼ笆ｼ 謚願ｿ吩ｸ謨ｴ蝮怜�譁ｰ逧ГSS�檎ｲ倩ｴｴ蛻ｰ <style> 譬�ｭｾ逧�怙譛ｫ蟆ｾ 笆ｼ笆ｼ笆ｼ */

/* --- 窶懈｡�ｮ昶戡pp 謨ｴ菴灘ｸ�ｱ --- */
#taobao-screen {
  background-color: #f0f2f5;
}

/* 鬘ｶ驛ｨ鬘ｵ遲ｾ */
.taobao-tabs {
  display: flex;
  flex-shrink: 0;
  border-bottom: 1px solid var(--border-color);
  background-color: var(--secondary-bg);
}
.taobao-tab {
  flex: 1;
  padding: 12px 0;
  text-align: center;
  font-weight: 500;
  color: var(--text-secondary);
  border: none;
  background: none;
  cursor: pointer;
  position: relative;
}
.taobao-tab.active {
  color: #ff5722; /* 豺伜ｮ晄ｩ� */
}
.taobao-tab.active::after {
  content: '';
  position: absolute;
  bottom: 0;
  left: 50%;
  transform: translateX(-50%);
  width: 40px;
  height: 3px;
  background-color: #ff5722;
  border-radius: 1.5px;
}

/* 蜀�ｮｹ蛹ｺ蝓� */
.taobao-content {
  flex-grow: 1;
  position: relative;
  overflow: hidden;
}
.taobao-view {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  overflow-y: auto;
  display: none;
  padding: 15px;
  box-sizing: border-box;
}
.taobao-view.active {
  display: block;
}

/* --- 鬥夜｡ｵ/蝠�刀隗�崟 --- */
#product-category-tabs {
  display: flex;
  gap: 10px;
  margin-bottom: 15px;
  overflow-x: auto;
  padding-bottom: 5px; /* for scrollbar */
  scrollbar-width: none;
  -ms-overflow-style: none;
}
#product-category-tabs::-webkit-scrollbar {
  display: none;
}

#product-category-tabs .category-tab-btn {
  padding: 6px 12px;
  border-radius: 15px;
  border: 1px solid var(--border-color);
  background-color: var(--secondary-bg);
  white-space: nowrap;
  cursor: pointer;
}
#product-category-tabs .category-tab-btn.active {
  background-color: #ffefe9;
  color: #ff5722;
  border-color: #ff5722;
}

.product-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 12px;
}
.product-card {
  background-color: var(--secondary-bg);
  border-radius: 8px;
  overflow: hidden;
  box-shadow: 0 1px 4px rgba(0, 0, 0, 0.08);
  cursor: pointer;
}
.product-card .product-image {
  width: 100%;
  aspect-ratio: 1 / 1;
  object-fit: cover;
  background-color: #f0f2f5;
}
.product-card .product-info {
  padding: 8px;
}
.product-card .product-name {
  font-size: 14px;
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
  min-height: 2.8em; /* 菫晁ｯ∽ｸ､陦檎噪鬮伜ｺｦ */
}
.product-card .product-price {
  font-size: 16px;
  font-weight: bold;
  color: #ff5722;
  margin-top: 5px;
}
.product-card .product-price::before {
  content: 'ﾂ･';
  font-size: 12px;
  margin-right: 2px;
}

/* --- 謌醍噪/菴咎｢晁ｧ�崟 --- */
#user-balance-container {
  background: linear-gradient(135deg, #ff9a8b 0%, #ff6a88 100%);
  color: white;
  padding: 30px 20px;
  border-radius: 12px;
  text-align: center;
  text-shadow: 0 1px 3px rgba(0, 0, 0, 0.2);
}
#user-balance-container h2 {
  font-size: 40px;
  margin: 10px 0 20px 0;
}
#top-up-btn {
  background-color: rgba(255, 255, 255, 0.9);
  color: #ff5722;
}

/* --- 隶｢蜊�/迚ｩ豬∬ｧ�崟 --- */
.order-list {
  display: flex;
  flex-direction: column;
  gap: 15px;
}
.order-item {
  background-color: var(--secondary-bg);
  border-radius: 8px;
  padding: 12px;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.06);
  display: flex;
  gap: 12px;
}
.order-item .product-image {
  width: 70px;
  height: 70px;
  border-radius: 6px;
  flex-shrink: 0;
}
.order-item .order-info {
  flex-grow: 1;
}
.order-item .product-name {
  font-weight: 500;
}
.order-item .order-status {
  font-size: 13px;
  color: #28a745;
  margin-top: 8px;
  font-weight: 500;
}
.order-item .order-time {
  font-size: 12px;
  color: var(--text-secondary);
  margin-top: 4px;
}

/* 笆ｲ笆ｲ笆ｲ 譁ｰ蠅曚SS扈捺據 笆ｲ笆ｲ笆ｲ */
/* 笆ｼ笆ｼ笆ｼ 謚願ｿ吩ｸ謨ｴ蝮怜�譁ｰ逧ГSS�檎ｲ倩ｴｴ蛻ｰ <style> 譬�ｭｾ逧�怙譛ｫ蟆ｾ 笆ｼ笆ｼ笆ｼ */

/* --- 窶懈｡�ｮ昶戡pp 謳懃ｴ｢譬乗�ｷ蠑� --- */
.taobao-search-bar {
  display: flex;
  gap: 10px;
  padding: 0 0 15px 0; /* 蜿ｪ蝨ｨ荳区婿逡吝�髣ｴ霍� */
}

#product-search-input {
  flex-grow: 1;
  border: 1px solid #ff5722;
  padding: 10px 15px;
  border-radius: 20px;
  font-size: 14px;
  outline: none;
}

#product-search-btn {
  background-color: #ff5722;
  color: white;
  border: none;
  border-radius: 20px;
  padding: 0 20px;
  font-weight: 500;
  cursor: pointer;
}

/* --- AI逕滓�扈捺棡蠑ｹ遯怜�逧��ｷ蠑� --- */
#ai-product-results-grid .product-card {
  position: relative; /* 荳ｺ莠�ｮ壻ｽ坂懈ｷｻ蜉�窶晄潔髓ｮ */
  padding-bottom: 40px; /* 荳ｺ謖蛾聴逡吝�遨ｺ髣ｴ */
  cursor: default; /* 蝨ｨ蠑ｹ遯鈴㈹�悟今迚�悽霄ｫ荳榊庄轤ｹ蜃ｻ */
}

.add-to-my-page-btn {
  position: absolute;
  bottom: 8px;
  left: 8px;
  right: 8px;
  width: calc(100% - 16px);
  padding: 8px 0;
  background-color: #4caf50; /* 扈ｿ濶ｲ�御ｻ｣陦ｨ豺ｻ蜉� */
  color: white;
  border: none;
  border-radius: 6px;
  font-weight: 500;
  cursor: pointer;
  transition: background-color 0.2s;
}

.add-to-my-page-btn:hover {
  background-color: #45a049;
}

.add-to-my-page-btn:disabled {
  background-color: #cccccc;
  cursor: not-allowed;
}

/* 笆ｲ笆ｲ笆ｲ 譁ｰ蠅曚SS扈捺據 笆ｲ笆ｲ笆ｲ */
/* 笆ｼ笆ｼ笆ｼ 謚願ｿ吩ｸ謨ｴ蝮怜�譁ｰ逧ГSS�檎ｲ倩ｴｴ蛻ｰ <style> 譬�ｭｾ逧�怙譛ｫ蟆ｾ 笆ｼ笆ｼ笆ｼ */

/* --- 雍ｭ迚ｩ霓ｦ鬘ｵ遲ｾ荳顔噪蟆冗ｺ｢轤ｹ --- */
.taobao-tab {
  position: relative;
}
#cart-item-count-badge {
  position: absolute;
  top: 5px;
  right: 15px;
  min-width: 18px;
  height: 18px;
  padding: 0 5px;
  background-color: #ff5722;
  color: white;
  font-size: 11px;
  border-radius: 9px;
  line-height: 18px;
}

/* --- 蝠�刀蜊｡迚�ｸ顔噪窶懷刈蜈･雍ｭ迚ｩ霓ｦ窶晄潔髓ｮ --- */
.product-card .add-cart-btn {
  position: absolute;
  bottom: 5px;
  right: 5px;
  width: 28px;
  height: 28px;
  background-color: #ff5722;
  color: white;
  border: none;
  border-radius: 50%;
  font-size: 18px;
  line-height: 28px;
  text-align: center;
  cursor: pointer;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
  transition: transform 0.2s;
}
.product-card .add-cart-btn:active {
  transform: scale(0.9);
}

/* --- 雍ｭ迚ｩ霓ｦ蛻苓｡ｨ --- */
#cart-item-list {
  display: flex;
  flex-direction: column;
  gap: 10px;
  padding-bottom: 70px; /* 荳ｺ蠎暮Κ逧�ｻ鍋ｮ玲�冗蕗蜃ｺ遨ｺ髣ｴ */
}
.cart-item {
  background-color: var(--secondary-bg);
  border-radius: 8px;
  padding: 12px;
  display: flex;
  align-items: center;
  gap: 12px;
}
.cart-item .product-image {
  width: 80px;
  height: 80px;
  border-radius: 6px;
  flex-shrink: 0;
  cursor: pointer; /* 隶ｩ蝗ｾ迚�庄轤ｹ蜃ｻ */
}
.cart-item .cart-item-info {
  flex-grow: 1;
  cursor: pointer; /* 隶ｩ菫｡諱ｯ蛹ｺ荵溷庄轤ｹ蜃ｻ */
}
.cart-item .product-name {
  font-weight: 500;
}
.cart-item .product-price {
  color: #ff5722;
  font-weight: bold;
  margin-top: 8px;
}
.cart-item .quantity-controls {
  display: flex;
  align-items: center;
  gap: 8px;
}
.cart-item .quantity-controls button {
  width: 24px;
  height: 24px;
  border: 1px solid #ccc;
  background-color: #f0f0f0;
  border-radius: 50%;
  cursor: pointer;
}
.cart-item .delete-cart-item-btn {
  width: 30px;
  height: 30px;
  border: none;
  background: none;
  color: #999;
  font-size: 24px;
  cursor: pointer;
  flex-shrink: 0;
}

/* --- 雍ｭ迚ｩ霓ｦ扈鍋ｮ玲�� --- */
#cart-checkout-bar {
  position: fixed; /* 笘��笘� 譬ｸ蠢�ｿｮ謾ｹ�壻ｻ� absolute 謾ｹ荳ｺ fixed 笘��笘� */
  bottom: 0;
  left: 0;
  right: 0; /* (謗ｨ闕�) 驟榊粋 left:0 閾ｪ蜉ｨ謦第ｻ｡螳ｽ蠎ｦ�梧峩遞ｳ螯･ */
  /* width: 100%; (蜿ｯ莉･菫晉蕗謌門唖髯､) */
  z-index: 10; /* (謗ｨ闕�) 遑ｮ菫晏ｮ�ｧ狗ｻ亥惠譛荳雁ｱ� */
  padding: 10px 15px;
  padding-bottom: calc(10px + env(safe-area-inset-bottom));
  background-color: var(--secondary-bg);
  border-top: 1px solid var(--border-color);
  display: flex;
  justify-content: space-between;
  align-items: center;
  box-sizing: border-box;
}

#cart-checkout-bar .total-price {
  font-weight: bold;
}
#cart-checkout-bar #cart-total-price {
  color: #ff5722;
  font-size: 18px;
}
#cart-checkout-bar #checkout-btn {
  background-color: #ff5722;
  color: white;
  border: none;
  padding: 10px 20px;
  border-radius: 20px;
  font-weight: 500;
  cursor: pointer;
}

/* --- 蝠�刀隸ｦ諠�ｼｹ遯� --- */
#product-detail-body {
  text-align: center;
}
#product-detail-body .product-image {
  width: 80%;
  max-width: 250px;
  border-radius: 8px;
  margin-bottom: 15px;
}
#product-detail-body .product-name {
  font-size: 18px;
  font-weight: 600;
  margin-bottom: 10px;
}
#product-detail-body .product-price {
  font-size: 24px;
  font-weight: bold;
  color: #ff5722;
  margin-bottom: 20px;
}
#product-detail-body .product-price::before {
  content: 'ﾂ･';
  font-size: 16px;
}

/* 笆ｲ笆ｲ笆ｲ 譁ｰ蠅曚SS扈捺據 笆ｲ笆ｲ笆ｲ */
/* 笆ｼ笆ｼ笆ｼ 謚願ｿ吩ｸ謨ｴ蝮怜�譁ｰ逧ГSS�檎ｲ倩ｴｴ蛻ｰ <style> 譬�ｭｾ逧�怙譛ｫ蟆ｾ 笆ｼ笆ｼ笆ｼ */

/* --- 蝠�刀隸ｦ諠�ｼｹ遯� - 隸�ｻｷ蛹ｺ --- */
#product-reviews-section {
  padding: 0 15px 15px 15px; /* 蜥御ｸｻ菴灘�螳ｹ菫晄戟荳閾ｴ逧��霎ｹ霍� */
  border-top: 1px solid var(--border-color);
  margin-top: 15px;
}
#product-reviews-section h3 {
  font-size: 16px;
  margin: 15px 0;
}
#product-reviews-list {
  display: flex;
  flex-direction: column;
  gap: 15px;
  max-height: 150px; /* 扈吩ｸ荳ｪ譛螟ｧ鬮伜ｺｦ�悟�螳ｹ螟壻ｺ�庄莉･貊壼勘 */
  overflow-y: auto;
  margin-bottom: 15px;
}
.product-review-item {
  font-size: 14px;
  line-height: 1.6;
  border-bottom: 1px solid #f0f0f0;
  padding-bottom: 10px;
}
.product-review-item .review-author {
  font-weight: 500;
  color: var(--text-secondary);
  margin-bottom: 5px;
}
#generate-reviews-btn {
  width: 100%;
  margin-top: 10px;
  background-color: #fff7e6;
  color: #fa8c16;
  border-color: #ffd591;
}

/* 笆ｲ笆ｲ笆ｲ 譁ｰ蠅曚SS扈捺據 笆ｲ笆ｲ笆ｲ */
/* 笆ｼ笆ｼ笆ｼ 謚願ｿ吩ｸ謨ｴ蝮怜�譁ｰ逧ГSS�檎ｲ倩ｴｴ蛻ｰ <style> 譬�ｭｾ逧�怙譛ｫ蟆ｾ 笆ｼ笆ｼ笆ｼ */

/* --- 菴咎｢晄�扈��陦ｨ譬ｷ蠑� --- */
.transaction-item {
  background-color: var(--secondary-bg);
  border-radius: 8px;
  padding: 12px 15px;
  margin-bottom: 10px;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.06);
  display: flex;
  justify-content: space-between;
  align-items: center;
}
.transaction-info .description {
  font-weight: 500;
}
.transaction-info .timestamp {
  font-size: 12px;
  color: var(--text-secondary);
  margin-top: 4px;
}
.transaction-amount {
  font-weight: bold;
  font-size: 16px;
}
.transaction-amount.income {
  color: #4caf50; /* 謾ｶ蜈･荳ｺ扈ｿ濶ｲ */
}
.transaction-amount.expense {
  color: #f44336; /* 謾ｯ蜃ｺ荳ｺ郤｢濶ｲ */
}

/* 笆ｲ笆ｲ笆ｲ 譁ｰ蠅曚SS扈捺據 笆ｲ笆ｲ笆ｲ */
/* 笆ｼ笆ｼ笆ｼ 縲仙�譁ｰ縲題ｿ呎弍荳ｺ迚ｩ豬∬ｯｦ諠�｡ｵ譁ｰ蠅樒噪譬ｷ蠑擾ｼ瑚ｯｷ邊倩ｴｴ蛻ｰ <style> 逧�忰蟆ｾ 笆ｼ笆ｼ笆ｼ */

#logistics-content-area {
  padding: 20px;
  background-color: #f5f5f5;
}

#phone-screen.dark-mode #logistics-content-area {
  background-color: #121212;
}

/* 鬘ｶ驛ｨ蝠�刀菫｡諱ｯ蜊｡迚� */
.logistics-product-summary {
  display: flex;
  gap: 15px;
  padding: 15px;
  margin-bottom: 20px;
  background-color: var(--secondary-bg);
  border-radius: 12px;
  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.08);
}

.logistics-product-summary .product-image {
  width: 60px;
  height: 60px;
  border-radius: 8px;
  flex-shrink: 0;
}

.logistics-product-summary .info .name {
  font-weight: 600;
  font-size: 15px;
}

.logistics-product-summary .info .status {
  font-size: 13px;
  color: #ff5722; /* 豺伜ｮ晄ｩ� */
  margin-top: 5px;
  font-weight: 500;
}

/* 譌ｶ髣ｴ霓ｴ螳ｹ蝎ｨ */
.logistics-timeline {
  position: relative;
  padding-left: 25px; /* 荳ｺ譌ｶ髣ｴ霓ｴ逧�ｫ也ｺｿ蜥悟怕轤ｹ逡吝�遨ｺ髣ｴ */
  background-color: var(--secondary-bg);
  padding: 20px 20px 20px 30px;
  border-radius: 12px;
}

/* 譌ｶ髣ｴ霓ｴ逧�ｫ也ｺｿ */
.logistics-timeline::before {
  content: '';
  position: absolute;
  left: 15px;
  top: 20px;
  bottom: 20px;
  width: 2px;
  background-color: #e0e0e0;
}

#phone-screen.dark-mode .logistics-timeline::before {
  background-color: #38383a;
}

/* 豈丈ｸ荳ｪ迚ｩ豬∵ｭ･鬪､ */
.logistics-step {
  position: relative;
  margin-bottom: 25px;
}

.logistics-step:last-child {
  margin-bottom: 0;
}

/* 譌ｶ髣ｴ霓ｴ荳顔噪蝨�せ */
.logistics-step::before {
  content: '';
  position: absolute;
  left: -22px;
  top: 5px;
  width: 10px;
  height: 10px;
  border-radius: 50%;
  background-color: #ccc;
  border: 2px solid var(--secondary-bg);
  z-index: 1;
}

/* 譛譁ｰ逧�ｸ譚｡迚ｩ豬∫憾諤�ｼ瑚ｮｩ螳�噪蝨�せ譖ｴ遯∝� */
.logistics-step:first-child::before {
  background-color: #ff5722;
  transform: scale(1.3);
}

.logistics-step-content .status-text {
  font-weight: 500;
  font-size: 14px;
  margin-bottom: 5px;
  line-height: 1.5;
}

.logistics-step-content .timestamp {
  font-size: 12px;
  color: var(--text-secondary);
}
/* 笆ｲ笆ｲ笆ｲ 譁ｰ蠅曚SS扈捺據 笆ｲ笆ｲ笆ｲ */
/* 笆ｼ笆ｼ笆ｼ 縲仙�譁ｰ縲題ｿ呎弍荳ｺ窶懷�莠ｫ扈儺a莉｣莉倪晄潔髓ｮ譁ｰ蠅樒噪譬ｷ蠑� 笆ｼ笆ｼ笆ｼ */
#share-cart-to-char-btn {
  background-color: #ff9800; /* 菴ｿ逕ｨ荳荳ｪ貂ｩ證也噪讖呵牡�悟玄蛻ｫ莠守ｻ鍋ｮ玲潔髓ｮ */
  color: white;
  border: none;
  padding: 10px 20px;
  border-radius: 20px;
  font-weight: 500;
  cursor: pointer;
  transition: background-color 0.2s; /* 豺ｻ蜉�謔ｬ蛛懈譜譫� */
}
#share-cart-to-char-btn:hover {
  background-color: #f57c00;
}
/* 笆ｲ笆ｲ笆ｲ 譁ｰ蠅曚SS扈捺據 笆ｲ笆ｲ笆ｲ */
/* 笆ｼ笆ｼ笆ｼ 縲仙�譁ｰ縲題ｿ呎弍荳ｺ窶懆ｴｭ迚ｩ霓ｦ莉｣莉倩ｯｷ豎や晄眠蠅樒噪蜊｡迚��ｷ蠑� 笆ｼ笆ｼ笆ｼ */

/* 1. 隶ｩ蛹�｣ｹ蜊｡迚�噪豌疲ｳ｡譛ｬ霄ｫ蜿倬乗� */
.message-bubble.is-cart-share-request .content {
  padding: 0;
  background: transparent;
  box-shadow: none;
  border: none;
  backdrop-filter: none;
  -webkit-backdrop-filter: none;
}

/* 2. 蜊｡迚�ｸｻ菴捺�ｷ蠑� */
.cart-share-card {
  width: 230px;
  border-radius: 12px;
  background-color: #fff;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
  overflow: hidden;
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  border: 2px solid transparent; /* 荳ｺ荳榊酔迥ｶ諤∝㊥螟�噪霎ｹ譯� */
  transition: all 0.3s ease;
}

/* 3. 蜊｡迚�､ｴ驛ｨ */
.cart-share-header {
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 12px 15px;
  background-color: #fff8e1; /* 貂ｩ證也噪邀ｳ鮟�牡 */
  color: #ffa000;
}
.cart-share-header .icon {
  font-size: 24px;
  font-weight: bold;
}
.cart-share-header .title {
  font-size: 16px;
  font-weight: 600;
}

/* 4. 蜊｡迚��螳ｹ蛹ｺ蝓� */
.cart-share-body {
  padding: 15px;
  text-align: center;
}
.cart-share-body .label {
  font-size: 13px;
  color: #888;
}
.cart-share-body .amount {
  font-size: 32px;
  font-weight: 700;
  color: #ff5722; /* 豺伜ｮ晄ｩ� */
  margin: 5px 0 15px 0;
}
.cart-share-body .status-text {
  font-weight: 500;
  color: var(--accent-color);
}

/* 5. 荳榊酔迥ｶ諤∽ｸ狗噪譬ｷ蠑� */
.cart-share-card.paid {
  border-color: #4caf50; /* 扈ｿ濶ｲ */
}
.cart-share-card.paid .status-text {
  color: #4caf50;
}
.cart-share-card.rejected {
  border-color: #f44336; /* 郤｢濶ｲ */
  opacity: 0.8;
}
.cart-share-card.rejected .status-text {
  color: #f44336;
}
/* 笆ｲ笆ｲ笆ｲ 譁ｰ蠅曚SS扈捺據 笆ｲ笆ｲ笆ｲ */
/* 笆ｼ笆ｼ笆ｼ 縲仙�譁ｰ縲題ｿ呎弍荳ｺ窶應ｸｺTa雍ｭ荵ｰ窶晏柱遉ｼ迚ｩ騾夂衍蜊｡迚�眠蠅樒噪譬ｷ蠑� 笆ｼ笆ｼ笆ｼ */

/* 1. 窶應ｸｺTa雍ｭ荵ｰ窶晄潔髓ｮ逧��ｷ蠑� */
#buy-for-char-btn {
  background-color: #4caf50; /* 菴ｿ逕ｨ荳荳ｪ莉｣陦ｨ窶懃､ｼ迚ｩ窶晉噪扈ｿ濶ｲ */
  color: white;
  border: none;
  padding: 10px 20px;
  border-radius: 20px;
  font-weight: 500;
  cursor: pointer;
  transition: background-color 0.2s;
}
#buy-for-char-btn:hover {
  background-color: #45a049;
}

/* 2. 隶ｩ蛹�｣ｹ遉ｼ迚ｩ蜊｡迚�噪豌疲ｳ｡蜿倬乗� */
.message-bubble.is-gift-notification .content {
  padding: 0;
  background: transparent;
  box-shadow: none;
  border: none;
  backdrop-filter: none;
  -webkit-backdrop-filter: none;
}

/* 3. 遉ｼ迚ｩ騾夂衍蜊｡迚�ｸｻ菴捺�ｷ蠑� */
.gift-card {
  width: 230px;
  border-radius: 12px;
  background-color: #fff;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
  overflow: hidden;
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
}
.gift-card-header {
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 12px 15px;
  background-color: #e8f5e9; /*豺｡豺｡逧�ｻｿ濶ｲ閭梧勹*/
  color: #2e7d32;
}
.gift-card-header .icon {
  font-size: 24px;
  font-weight: bold;
}
.gift-card-header .title {
  font-size: 16px;
  font-weight: 600;
}
.gift-card-body {
  padding: 15px;
}
.gift-card-body .greeting {
  font-size: 14px;
  margin-bottom: 10px;
}
.gift-card-items {
  font-size: 13px;
  color: #555;
  max-height: 60px;
  overflow: hidden;
  text-overflow: ellipsis;
  margin-bottom: 10px;
}
.gift-card-footer {
  padding-top: 10px;
  border-top: 1px solid #f0f0f0;
  text-align: right;
  font-weight: bold;
}
.gift-card-footer .total-price {
  color: #ff5722;
}
/* 笆ｲ笆ｲ笆ｲ 譁ｰ蠅樊�ｷ蠑冗ｻ捺據 笆ｲ笆ｲ笆ｲ */
/* 笆ｼ笆ｼ笆ｼ 謚願ｿ吩ｸ謨ｴ蝮怜�譁ｰ逧ГSS�檎ｲ倩ｴｴ蛻ｰ <style> 逧�忰蟆ｾ 笆ｼ笆ｼ笆ｼ */

/* 1. 隶ｩ隗定牡荳ｻ鬘ｵ逧��螳ｹ蛹ｺ蜿ｯ莉･迢ｬ遶区ｻ壼勘 */
#weibo-char-profile-page {
  flex-grow: 1;
  overflow-y: auto;
  background-color: #f0f2f5;
}

/* 2. 菫ｮ豁｣螟憺龍讓｡蠑丈ｸ倶ｸｻ鬘ｵ蜥梧眠鬘ｵ髱｢逧�レ譎ｯ濶ｲ */
#phone-screen.dark-mode #weibo-profile-page,
#phone-screen.dark-mode #weibo-char-profile-page {
  background-color: #000;
}

/* 3. 荳ｺ隗定牡荳ｻ鬘ｵ荳顔噪閨御ｸ壽仞遉ｺ豺ｻ蜉�譬ｷ蠑� (蟾ｲ菫ｮ謾ｹ) */
#weibo-char-profession-display {
  position: absolute;
  /* 螳壻ｽ搾ｼ壻ｻ主承萓ｧ譬�ｭｾ謾ｹ荳ｺ荳寂懷�豕ｨ窶晄焚謐ｮ蟾ｦ蟇ｹ鮨� */
  left: 35px;
  /* 蝙ら峩菴咲ｽｮ�壽叛蝨ｨ窶懷�豕ｨ窶晄焚謐ｮ陦檎噪荳区婿��-5px莨夊ｮｩ螳�峩髱�荳倶ｸ轤ｹ */
  bottom: -5px;
  right: auto; /* 貂�勁謗画立逧� right 螳壻ｽ搾ｼ碁∩蜈榊�遯� */
  z-index: 2;

  /* 螟冶ｧゑｼ壻ｻ主濠騾乗�譬�ｭｾ謾ｹ荳ｺ蜥御ｽ�荳ｻ鬘ｵ荳閾ｴ逧��濶ｲ譎ｮ騾壽枚蟄� */
  font-size: 13px;
  color: #8a8a8a;
  text-shadow: none;
  background-color: transparent;
  padding: 0;
  border-radius: 0;
}

/* 4. 扈吝�豕ｨ蛻苓｡ｨ逧�懈衍逵倶ｸｻ鬘ｵ窶晄潔髓ｮ豺ｻ蜉�譬ｷ蠑� */
.weibo-following-item .view-profile-btn {
  margin-left: auto; /* 隶ｩ謖蛾聴閾ｪ蜉ｨ髱�蜿ｳ */
  padding: 5px 10px;
  font-size: 13px;
  font-weight: 500;
  color: var(--accent-color);
  background-color: #e7f3ff;
  border: none;
  border-radius: 12px;
  cursor: pointer;
}
#phone-screen.dark-mode .weibo-following-item .view-profile-btn {
  background-color: rgba(0, 123, 255, 0.2);
}

/* 笆ｲ笆ｲ笆ｲ 譁ｰ蠅曚SS邊倩ｴｴ扈捺據 笆ｲ笆ｲ笆ｲ */
/* 笆ｼ笆ｼ笆ｼ 縲仙ｱらｺｧ菫ｮ螟阪題ｯｷ蟆�ｿ呎ｮｵ譁ｰCSS邊倩ｴｴ蛻ｰ <style> 逧�忰蟆ｾ 笆ｼ笆ｼ笆ｼ */

/* 蠑ｺ蛻ｶ謠仙合螟ｴ蜒乗｡�画叫蠑ｹ遯礼噪螻らｺｧ�檎｡ｮ菫晏ｮ��隕�尠蝨ｨ蜈ｶ莉門ｼｹ遯嶺ｹ倶ｸ� */
#avatar-frame-modal {
  z-index: 1005;
}

/* 笆ｲ笆ｲ笆ｲ 菫ｮ螟咲ｻ捺據 笆ｲ笆ｲ笆ｲ */
/* 笆ｼ笆ｼ笆ｼ 霑呎弍譁ｰ蠅樒噪譬ｷ蠑� 笆ｼ笆ｼ笆ｼ */

/* 霑呎弍謌台ｻｬ譁ｰ蜉�逧�∝桁陬ｹ螟ｴ蜒冗噪蜿ｯ轤ｹ蜃ｻ蛹ｺ蝓溽噪譬ｷ蠑� */
.weibo-post-avatar-clickable {
  cursor: pointer; /* 鮠�譬�叛荳雁悉譌ｶ譏ｾ遉ｺ荳ｺ蟆乗焔蠖｢迥ｶ */
  transition: opacity 0.2s ease-in-out; /* 豺ｻ蜉�荳荳ｪ蟷ｳ貊醍噪霑�ｸ｡蜉ｨ逕ｻ */
}

/* 鮠�譬�ぎ蛛懈慮�瑚ｮｩ螟ｴ蜒冗ｨ榊ｾｮ蜿俶囓荳轤ｹ�檎ｻ咏畑謌ｷ荳荳ｪ譏守｡ｮ逧�渚鬥� */
.weibo-post-avatar-clickable:hover {
  opacity: 0.85;
}

/* 笆ｲ笆ｲ笆ｲ 譁ｰ蠅樊�ｷ蠑冗ｻ捺據 笆ｲ笆ｲ笆ｲ */
/* 笆ｼ笆ｼ笆ｼ 縲仙�譁ｰ縲題ｯｭ髻ｳ謦ｭ謾ｾ蜉ｨ逕ｻ譬ｷ蠑� 笆ｼ笆ｼ笆ｼ */
.message-bubble.is-voice-message.playing .voice-waveform div {
  animation: wave-play 1s ease-in-out infinite;
}

@keyframes wave-play {
  0%,
  100% {
    height: 2px;
  }
  25% {
    height: 12px;
  }
  50% {
    height: 6px;
  }
  75% {
    height: 18px;
  }
}
/* 笆ｲ笆ｲ笆ｲ 譬ｷ蠑冗ｲ倩ｴｴ扈捺據 笆ｲ笆ｲ笆ｲ */

/* ============ 窶懈衍謇区惻窶晏粥閭ｽ鄒主喧莉｣遐� v2.0 (謾ｯ謖∬�螳壻ｹ牙崟迚�) 蠑蟋� ============ */

/* --- 豁･鬪､1: 郛ｩ蟆丞崟譬�ｰｺ蟇ｸ (菫晄戟荳榊序) --- */
#character-app-grid .app-icon .icon-bg {
  width: 50px !important;
  height: 50px !important;
  border-radius: 13px !important;
}
#character-app-grid .app-icon .label {
  font-size: 12px;
}

/* --- 豁･鬪､2: 蟆�ｮｹ蝎ｨ謾ｹ荳ｺ閾ｪ逕ｱ螳壻ｽ咲噪窶懈｡碁擇窶晏ｸ�ｱ (菫晄戟荳榊序) --- */
#character-app-grid {
  display: block !important;
  grid-template-columns: none !important;
  gap: 0 !important;
  position: relative !important;
  height: 100% !important;
}

/* --- 豁･鬪､3: 隶ｩ謇譛陰pp蝗ｾ譬�懈ｵｮ窶晁ｵｷ譚･ (菫晄戟荳榊序) --- */
#character-app-grid .app-icon {
  position: absolute !important;
}

/* --- 豁･鬪､4: 縲先�ｸ蠢�ｿｮ謾ｹ縲台ｸｺ謌台ｻｬ譁ｰ逧�崟迚�ｽ崎ｮｾ鄂ｮ譬ｷ蠑� --- */
.char-phone-widget {
  position: absolute;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15); /* 蜉�荳ｪ髦ｴ蠖ｱ譖ｴ螂ｽ逵� */
  border: 2px solid rgba(255, 255, 255, 0.5); /* 蜉�荳ｪ逋ｽ霎ｹ譖ｴ譛芽ｴｨ諢� */
  overflow: hidden; /* 髦ｲ豁｢蝗ｾ迚�ｺ｢蜃ｺ蝨�ｧ� */
  cursor: pointer; /* 鮠�譬�叛荳雁悉譏ｯ蟆乗焔蠖｢迥ｶ�梧署遉ｺ蜿ｯ莉･轤ｹ蜃ｻ */
  transition: transform 0.2s ease; /* 豺ｻ蜉�轤ｹ蜃ｻ蜉ｨ謨� */
  background-color: #e0e0e0; /* 蝗ｾ迚�刈霓ｽ蜑咲噪蜊�菴埼｢懆牡 */
}
.char-phone-widget:active {
  transform: scale(0.95); /* 轤ｹ蜃ｻ譌ｶ郛ｩ蟆丈ｸ轤ｹ轤ｹ */
}
.char-phone-widget img {
  width: 100%;
  height: 100%;
  object-fit: cover; /* 菫晁ｯ∝崟迚�｡ｫ貊｡荳比ｸ榊序蠖｢ */
}

/* ============================================== */
/* === 笘��笘� 謇句勘邊ｾ隹�玄�壼惠霑咎㈹菫ｮ謾ｹ菴咲ｽｮ蜥悟､ｧ蟆� 笘��笘� === */
/* ============================================== */

/* --- 蟾ｦ荳願ｧ堤噪蝗ｾ迚�ｽ� --- */
#char-phone-widget-1 {
  /* --- 蝨ｨ霑咎㈹隹�紛縲蝉ｸ贋ｸ倶ｽ咲ｽｮ縲�(謨ｰ蟄苓ｶ雁､ｧ雜雁ｾ荳�)--- */
  top: 60px;
  /* --- 蝨ｨ霑咎㈹隹�紛縲仙ｷｦ蜿ｳ菴咲ｽｮ縲�(謨ｰ蟄苓ｶ雁､ｧ雜雁ｾ蜿ｳ)--- */
  left: 20px;
  /* --- 蝨ｨ霑咎㈹隹�紛縲仙､ｧ蟆上�--- */
  width: 110px;
  height: 110px;
  border-radius: 22px; /* 蝨�ｧ� (蟒ｺ隶ｮ譏ｯ螳ｽ蠎ｦ逧�1/5蟾ｦ蜿ｳ) */
}

/* --- 蜿ｳ荳玖ｧ堤噪蝗ｾ迚�ｽ� --- */
#char-phone-widget-2 {
  /* --- 蝨ｨ霑咎㈹隹�紛縲蝉ｸ贋ｸ倶ｽ咲ｽｮ縲�(謨ｰ蟄苓ｶ雁､ｧ雜雁ｾ荳�)--- */
  bottom: 60px;
  /* --- 蝨ｨ霑咎㈹隹�紛縲仙ｷｦ蜿ｳ菴咲ｽｮ縲�(謨ｰ蟄苓ｶ雁､ｧ雜雁ｾ蟾ｦ)--- */
  right: 20px;
  /* --- 蝨ｨ霑咎㈹隹�紛縲仙､ｧ蟆上�--- */
  width: 110px;
  height: 110px;
  border-radius: 22px; /* 蝨�ｧ� */
}

/* --- APP 蝗ｾ譬�ｽ咲ｽｮ隹�紛 (霑咎Κ蛻�ｿ晄戟荳榊序) --- */
#character-app-grid .app-icon:nth-child(1) {
  top: 70px;
  left: 150px;
}
#character-app-grid .app-icon:nth-child(2) {
  top: 70px;
  left: 215px;
}
#character-app-grid .app-icon:nth-child(3) {
  top: 155px;
  left: 30px;
}
#character-app-grid .app-icon:nth-child(4) {
  top: 155px;
  left: 95px;
}
#character-app-grid .app-icon:nth-child(5) {
  top: 155px;
  left: 160px;
}
#character-app-grid .app-icon:nth-child(6) {
  top: 240px;
  left: 225px;
}
#character-app-grid .app-icon:nth-child(7) {
  top: 240px;
  left: 30px;
}
#character-app-grid .app-icon:nth-child(8) {
  top: 240px;
  left: 95px;
}
#character-app-grid .app-icon:nth-child(9) {
  top: 325px;
  left: 30px;
}
#character-app-grid .app-icon:nth-child(10) {
  top: 325px;
  left: 95px;
}

/* ============ 窶懈衍謇区惻窶晏粥閭ｽ鄒主喧莉｣遐� 扈捺據 ============ */

/* 笆ｼ笆ｼ笆ｼ 縲先怙扈井ｿｮ螟咲沿縲大宵荳ｺ窶懷ｾｮ蜊壺晏柱窶懃ｲ我ｸ昶晏｢槫刈轤ｹ蜃ｻ蛹ｺ蝓� 笆ｼ笆ｼ笆ｼ */

/*
 * 譬ｸ蠢�次逅�ｸ榊序�御ｽ�ｿ呎ｬ｡謌台ｻｬ菴ｿ逕ｨ莠�峩邊ｾ遑ｮ逧� ID 騾画叫蝎ｨ��
 * 蜿ｪ騾我ｸｭ #weibo-posts-item (蠕ｮ蜊�) 蜥� #weibo-fans-item (邊我ｸ�) 霑吩ｸ､荳ｪ蜈�ｴ�縲�
 */
#weibo-posts-item,
#weibo-fans-item {
  padding: 8px 10px;
  margin: -8px -10px;
  border-radius: 8px;
  transition: background-color 0.2s;
}

/* 荳ｺ霑吩ｸ､荳ｪ謖蛾聴豺ｻ蜉�轤ｹ蜃ｻ譌ｶ逧�レ譎ｯ濶ｲ蜿埼ｦ� */
#weibo-posts-item:active,
#weibo-fans-item:active {
  background-color: rgba(0, 0, 0, 0.08); /* 轤ｹ蜃ｻ譌ｶ扈吩ｸ荳ｪ豺｡豺｡逧��濶ｲ閭梧勹 */
}

/* 蝨ｨ螟憺龍讓｡蠑丈ｸ狗噪轤ｹ蜃ｻ蜿埼ｦ磯｢懆牡 */
#phone-screen.dark-mode #weibo-posts-item:active,
#phone-screen.dark-mode #weibo-fans-item:active {
  background-color: rgba(255, 255, 255, 0.1);
}
/* 笆ｲ笆ｲ笆ｲ 譛扈井ｿｮ螟咲沿譬ｷ蠑冗ｻ捺據 笆ｲ笆ｲ笆ｲ */

/* ======================================================================= /
/ === 笘��笘� 隗定牡謇区惻譯碁擇鄒主喧蟶�ｱ v16.0 (蝙ら峩螻�ｸｭ蛛冗ｧｻ迚�) 笘��笘� === /
/ ======================================================================= */

/* --- 1. 諤ｻ謗ｧ蛻ｶ蜿ｰ & 蟶�ｱ蜿倬㍼ --- */
#character-phone-screen {
  position: relative !important;

  /* --- 笘��笘� 蜚ｯ荳逧�仙桙逶ｴ菴咲ｽｮ縲第ｻ謗ｧ蛻ｶ蝎ｨ 笘��笘� --- */
  /* 隹�紛霑吩ｸｪ蛟ｼ�悟ｰｱ閭ｽ隶ｩ謇譛牙崟譬�柱蟆冗ｻ�ｻｶ荳襍ｷ荳贋ｸ狗ｧｻ蜉ｨ */
  /* 蠅槫刈謨ｰ蛟ｼ = 謨ｴ菴謎ｸ狗ｧｻ�帛㍼蟆乗焚蛟ｼ = 謨ｴ菴謎ｸ顔ｧｻ */
  /* 謌大ｸｮ菴�隶ｾ鄂ｮ莠�ｸ荳ｪ逵玖ｵｷ譚･豈碑ｾ�ｱ�ｸｭ逧��蟋句ｼ */
  --global-vertical-offset: 10px;

  /* (豌ｴ蟷ｳ螻�ｸｭ驛ｨ蛻�ｼ御ｿ晄戟荳榊序) */
  --grid-width: 345px;
  --grid-left-edge: calc((100% - var(--grid-width)) / 2);
}

/* --- 2. 蜃�､�ｷ･菴� (菫晄戟荳榊序) --- */
#character-app-grid {
  position: absolute !important;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  display: block !important;
  grid-template-columns: none !important;
  gap: 0 !important;
}
#character-app-grid .app-icon,
#char-phone-widget-1,
#char-phone-widget-2 {
  position: absolute !important;
}

/* --- 3. App蝗ｾ譬��ｷ蠑� (菫晄戟荳榊序) --- */
#character-app-grid .app-icon .icon-bg {
  width: 40px !important;
  height: 40px !important;
  background: transparent !important;
  box-shadow: none !important;
  border: none !important;
}
#character-app-grid .app-icon .label {
  font-size: 12px;
  color: #fff;
  padding-top: 8px;
  text-shadow: 0 1px 3px rgba(0, 0, 0, 0.5);
}

/* --- 4. 蟆冗ｻ�ｻｶ菴咲ｽｮ蜥悟ｰｺ蟇ｸ (笘��ｸ蠢�ｿｮ謾ｹ: 蠎皮畑蜈ｨ螻蛛冗ｧｻ) --- */
#char-phone-widget-1 {
  top: calc(var(--global-vertical-offset) + 90px); /* 90px 譏ｯ菴�蝗ｺ螳夂噪蛟ｼ */
  left: calc(var(--grid-left-edge) + 30px);
  width: 135px;
  height: 135px;
  border-radius: 22px;
}
#char-phone-widget-2 {
  top: calc(var(--global-vertical-offset) + 480px); /* 480px 譏ｯ菴�蝗ｺ螳夂噪蛟ｼ */
  left: calc(var(--grid-left-edge) + 180px);
  width: 135px;
  height: 135px;
  border-radius: 22px;
}

/* --- 5. App蝗ｾ譬�ｽ咲ｽｮ (笘��ｸ蠢�ｿｮ謾ｹ: 蠎皮畑蜈ｨ螻蛛冗ｧｻ) --- */
/* 隨ｬ1陦� */
#character-app-grid .app-icon:nth-child(1) {
  top: calc(var(--global-vertical-offset) + 155px);
  left: calc(var(--grid-left-edge) + 185px);
}
#character-app-grid .app-icon:nth-child(2) {
  top: calc(var(--global-vertical-offset) + 155px);
  left: calc(var(--grid-left-edge) + 250px);
}
/* 隨ｬ2陦� */
#character-app-grid .app-icon:nth-child(3) {
  top: calc(var(--global-vertical-offset) + 270px);
  left: calc(var(--grid-left-edge) + 30px);
}
#character-app-grid .app-icon:nth-child(4) {
  top: calc(var(--global-vertical-offset) + 270px);
  left: calc(var(--grid-left-edge) + 105px);
}
#character-app-grid .app-icon:nth-child(5) {
  top: calc(var(--global-vertical-offset) + 270px);
  left: calc(var(--grid-left-edge) + 180px);
}
/* 隨ｬ3陦� */
#character-app-grid .app-icon:nth-child(6) {
  top: calc(var(--global-vertical-offset) + 375px);
  left: calc(var(--grid-left-edge) + 105px);
}
#character-app-grid .app-icon:nth-child(7) {
  top: calc(var(--global-vertical-offset) + 375px);
  left: calc(var(--grid-left-edge) + 185px);
}
#character-app-grid .app-icon:nth-child(8) {
  top: calc(var(--global-vertical-offset) + 375px);
  left: calc(var(--grid-left-edge) + 250px);
}
/* 隨ｬ4陦� */
#character-app-grid .app-icon:nth-child(9) {
  top: calc(var(--global-vertical-offset) + 480px);
  left: calc(var(--grid-left-edge) + 30px);
}
#character-app-grid .app-icon:nth-child(10) {
  top: calc(var(--global-vertical-offset) + 480px);
  left: calc(var(--grid-left-edge) + 105px);
}

/* 笆ｼ笆ｼ笆ｼ 縲先衍謇区惻蜉溯� | 蝗ｾ譬�ｯｹ鮨千ｻ域栫菫ｮ螟� V4縲� 笆ｼ笆ｼ笆ｼ */
/*
 * 隗｣蜀ｳ譁ｹ譯茨ｼ�
 * 1. (菫晉蕗) 菴ｿ逕ｨ雍溷､冶ｾｹ霍晢ｼ悟ｰ�ｺ皮畑蜷�(.label)蜷台ｸ頑級�御ｽｿ蜈ｶ邏ｧ雍ｴ蝗ｾ譬��
 * 2. (譁ｰ蠅�) 蟇ｹ蛹�性鮟倩ｮ､SVG蝗ｾ譬�噪謨ｴ荳ｪ.app-icon蜈�ｴ��御ｹ滉ｽｿ逕ｨ荳荳ｪ雍溽噪margin-top��
 *    菴ｿ蜈ｶ謨ｴ菴灘髄荳顔ｧｻ蜉ｨ�御ｻ手悟柱蜈ｶ莉冶�螳壻ｹ牙崟譬�惠蝙ら峩譁ｹ蜷台ｸ雁ｮ檎ｾ主ｯｹ鮨舌�
 */

/* 豁･鬪､1�夊ｮｩ譁�ｭ礼ｴｧ雍ｴ蝗ｾ譬� (霑呎弍荳頑ｬ｡逧��蜉滉ｿｮ螟搾ｼ梧�莉ｬ菫晉蕗螳�) */
#character-app-grid .app-icon:has(.icon-bg > svg) .label {
  margin-top: -7px !important;
  padding-top: 0px !important;
}

/* 豁･鬪､2�夊ｮｩ蝗ｾ譬�柱譁�ｭ嶺ｽ應ｸｺ荳荳ｪ謨ｴ菴難ｼ悟髄荳顔ｧｻ蜉ｨ */
#character-app-grid .app-icon:has(.icon-bg > svg) {
  margin-top: -8px; /* 霑吩ｸｪ雍溷ｼ莨壽滑謨ｴ荳ｪ蝗ｾ譬�+譁�ｭ礼噪扈�粋蜷台ｸ頑級 */
}
/* 笆ｲ笆ｲ笆ｲ 菫ｮ螟堺ｻ｣遐∫ｻ捺據 笆ｲ笆ｲ笆ｲ */
/* 笆ｼ笆ｼ笆ｼ 霑呎弍豁･鬪､1髴隕∫ｲ倩ｴｴ逧�眠譬ｷ蠑� 笆ｼ笆ｼ笆ｼ */

/* 隶ｩ豈丈ｸ譚｡隸�ｮｺ驛ｽ蜿俶�蜿ｯ轤ｹ蜃ｻ逧�ｼ悟ｹｶ蠅槫刈謔ｬ蛛懈譜譫� */
.weibo-comment-item {
  cursor: pointer; /* 鮠�譬�ぎ蛛懈慮譏ｾ遉ｺ荳ｺ蟆乗焔蠖｢迥ｶ */
  transition: background-color 0.2s; /* 豺ｻ蜉�荳荳ｪ蟷ｳ貊醍噪閭梧勹濶ｲ霑�ｸ｡蜉ｨ逕ｻ */
  border-radius: 4px; /* 扈吩ｸ轤ｹ轤ｹ蝨�ｧ抵ｼ梧峩螂ｽ逵� */
  padding: 2px 5px; /* 蠅槫刈荳轤ｹ蜀�ｾｹ霍晢ｼ瑚ｮｩ轤ｹ蜃ｻ蛹ｺ蝓滓峩螟ｧ */
  margin: 0 -5px; /* 謚贋ｸ企擇逧��霎ｹ霍晄慣豸域脂�御ｿ晄戟蟇ｹ鮨� */
}
.weibo-comment-item:hover {
  background-color: #f0f2f5; /* 鮠�譬�叛荳雁悉譌ｶ�檎ｻ吩ｸ荳ｪ豺｡豺｡逧�レ譎ｯ濶ｲ */
}
#phone-screen.dark-mode .weibo-comment-item:hover {
  background-color: #2c2c2e; /* 螟憺龍讓｡蠑丈ｸ狗噪謔ｬ蛛憺｢懆牡 */
}

/* 窶懷屓螟坂晁ｿ吩ｸ､荳ｪ蟄礼噪譬ｷ蠑擾ｼ瑚ｮｩ螳�峩譟泌柱 */
.weibo-comment-item .weibo-comment-reply-tag {
  color: var(--text-secondary);
  margin: 0 4px; /* 蜥御ｸ､霎ｹ逧�錐蟄玲級蠑荳轤ｹ霍晉ｦｻ */
}

/* 陲ｫ蝗槫､崎�噪蜷榊ｭ玲�ｷ蠑擾ｼ瑚ｮｩ螳�柱譎ｮ騾夊ｯ�ｮｺ閠�錐蟄嶺ｸ譬ｷ蜿ｯ莉･轤ｹ蜃ｻ */
.weibo-comment-item .reply-target-name {
  font-weight: 600;
  color: var(--accent-color);
  cursor: pointer;
  margin-right: 5px;
}
/* 笆ｲ笆ｲ笆ｲ 譁ｰ譬ｷ蠑冗ｲ倩ｴｴ扈捺據 笆ｲ笆ｲ笆ｲ */
/* 笆ｼ笆ｼ笆ｼ 縲仙�譁ｰ縲題ｧ定牡謇区惻App蜀�｣∫ｺｸ譬ｷ蠑� 笆ｼ笆ｼ笆ｼ */

/* 蠖灘�驛ｨ螻丞ｹ墓怏螢∫ｺｸ譌ｶ�瑚ｮｾ鄂ｮ閭梧勹蝗ｾ逧�仞遉ｺ譁ｹ蠑� */
.character-phone-inner-screen.has-app-wallpaper {
  background-size: cover;
  background-position: center;
}

/* 蜈ｳ髞ｮ�夊ｮｩ謇譛陰pp鬘ｵ髱｢逧��螳ｹ蛻苓｡ｨ閭梧勹蜿倬乗� */
.character-phone-inner-screen.has-app-wallpaper .list-container,
.character-phone-inner-screen.has-app-wallpaper #character-chat-history-messages {
  background-color: transparent !important;
}

/* 荳ｺ莠�ｿ晁ｯ∵枚蟄礼噪蜿ｯ隸ｻ諤ｧ�梧�莉ｬ扈吝�陦ｨ鬘ｹ蜥悟今迚�刈荳雁濠騾乗�逧�レ譎ｯ */
.character-phone-inner-screen.has-app-wallpaper .character-data-item,
.character-phone-inner-screen.has-app-wallpaper .character-cart-item,
.character-phone-inner-screen.has-app-wallpaper .character-browser-item,
.character-phone-inner-screen.has-app-wallpaper .character-bank-transaction,
.character-phone-inner-screen.has-app-wallpaper .chat-list-item {
  background-color: rgba(255, 255, 255, 0.7);
  backdrop-filter: blur(8px);
  -webkit-backdrop-filter: blur(8px);
  border: 1px solid rgba(255, 255, 255, 0.2);
}

/* 蜷梧�ｷ荳ｺ閨雁､ｩ豌疲ｳ｡蠅槫刈蜊企乗�謨域棡 */
.character-phone-inner-screen.has-app-wallpaper .character-chat-bubble-container.received .character-chat-bubble {
  background-color: rgba(255, 255, 255, 0.85);
}
.character-phone-inner-screen.has-app-wallpaper .character-chat-bubble-container.sent .character-chat-bubble {
  background-color: rgba(149, 236, 105, 0.85); /* 蠕ｮ菫｡扈ｿ�御ｽ�ｸｦ荳轤ｹ騾乗� */
}

/* 騾る�螟憺龍讓｡蠑冗噪蜊企乗�鬚懆牡 */
#phone-screen.dark-mode .character-phone-inner-screen.has-app-wallpaper .character-data-item,
#phone-screen.dark-mode .character-phone-inner-screen.has-app-wallpaper .chat-list-item {
  background-color: rgba(28, 28, 30, 0.7);
}
#phone-screen.dark-mode
  .character-phone-inner-screen.has-app-wallpaper
  .character-chat-bubble-container.received
  .character-chat-bubble {
  background-color: rgba(44, 44, 46, 0.85);
}
#phone-screen.dark-mode
  .character-phone-inner-screen.has-app-wallpaper
  .character-chat-bubble-container.sent
  .character-chat-bubble {
  background-color: rgba(48, 93, 32, 0.85); /* 螟憺龍讓｡蠑冗噪扈ｿ濶ｲ */
}
/* 笆ｲ笆ｲ笆ｲ 譁ｰCSS邊倩ｴｴ扈捺據 笆ｲ笆ｲ笆ｲ */
/* 笆ｼ笆ｼ笆ｼ 縲仙�譁ｰ縲題ｿ呎弍荳ｺ窶懈ｸｸ謌丞�莠ｫ窶晄眠蠅樒噪鬚懆牡譬ｷ蠑� 笆ｼ笆ｼ笆ｼ */
.share-type.game {
  background-color: #9c27b0; /* 荳荳ｪ莉｣陦ｨ貂ｸ謌冗噪逾樒ｧ倡ｴｫ濶ｲ */
}
/* 笆ｲ笆ｲ笆ｲ 譁ｰ蠅樊�ｷ蠑冗ｻ捺據 笆ｲ笆ｲ笆ｲ */
/* 笆ｼ笆ｼ笆ｼ 縲仙�譁ｰ縲大ｿ�勘鬟櫁｡梧｣区�ｷ蠑� 笆ｼ笆ｼ笆ｼ */

/* --- 貂ｸ謌丈ｸｻ逡碁擇蟶�ｱ --- */
#ludo-game-content {
  display: flex;
  flex-direction: column;
  height: 100%;
  overflow: hidden;
  padding: 15px;
  box-sizing: border-box;
  gap: 15px;
  background-color: #fff0f5; /* 貂ｩ譟皮噪豺｡邊芽牡閭梧勹 */
}

#phone-screen.dark-mode #ludo-game-content {
  background-color: #2c1e22; /* 螟憺龍讓｡蠑丈ｸ狗噪豺ｱ邊臥ｴｫ濶ｲ */
}

/* --- 譽狗尨螳ｹ蝎ｨ荳取｣狗尨譛ｬ霄ｫ --- */
#ludo-board-container {
  position: relative;
  width: 100%;
  height: 280px; /* 扈呎｣狗尨荳荳ｪ蝗ｺ螳夂噪鬮伜ｺｦ */
  flex-shrink: 0;
  background-color: rgba(255, 255, 255, 0.5);
  border-radius: 10px;
  padding: 10px;
  box-sizing: border-box;
}

#ludo-board {
  display: grid;
  grid-template-columns: repeat(10, 1fr); /* 10x6逧�ｽ第�ｼ蟶�ｱ */
  grid-template-rows: repeat(6, 1fr);
  width: 100%;
  height: 100%;
  gap: 3px;
}

/* --- 譽狗尨譬ｼ蟄先�ｷ蠑� --- */
.ludo-cell {
  border-radius: 4px;
  background-color: rgba(255, 192, 203, 0.3); /* 豺｡豺｡逧�ｲ芽牡譬ｼ蟄� */
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  font-size: 14px;
  font-weight: bold;
  color: #db7093;
}

/* 襍ｷ轤ｹ蜥檎ｻ育せ譬ｼ蟄� */
.ludo-cell.start {
  background-color: #90ee90;
  color: #2e8b57;
}
.ludo-cell.end {
  background-color: #ffd700;
  color: #b8860b;
}

/* 迚ｹ谿贋ｺ倶ｻｶ譬ｼ蟄� */
.ludo-cell.event-truth {
  background-color: #ffb6c1;
} /* 逵溷ｿ�ｯ� */
.ludo-cell.event-dare {
  background-color: #add8e6;
} /* 螟ｧ蜀帝勦 */
.ludo-cell.event-kiss {
  background-color: #ff69b4;
} /* 莠ｲ莠ｲ */
.ludo-cell.event-hug {
  background-color: #ffdab9;
} /* 謚ｱ謚ｱ */

.ludo-cell .cell-number {
  font-size: 10px;
  position: absolute;
  top: 2px;
  left: 3px;
  color: rgba(0, 0, 0, 0.2);
}

/* --- 譽句ｭ先�ｷ蠑� --- */
.ludo-piece {
  position: absolute;
  width: 28px;
  height: 28px;
  border-radius: 50%;
  background-size: cover;
  background-position: center;
  border: 2px solid white;
  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.3);
  transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
  z-index: 10;
}
.ludo-piece.user {
  border-color: #87cefa;
}
.ludo-piece.char {
  border-color: #ffc0cb;
}

/* --- 貂ｸ謌乗律蠢� --- */
#ludo-log-container {
  flex-grow: 1;
  background-color: rgba(255, 255, 255, 0.5);
  border-radius: 10px;
  padding: 10px;
  overflow-y: auto;
  min-height: 0;
}
#ludo-game-log .log-entry {
  padding: 6px 8px;
  font-size: 14px;
  border-bottom: 1px solid rgba(0, 0, 0, 0.05);
  line-height: 1.5;
}
#ludo-game-log .log-entry.system {
  color: #db7093;
  font-style: italic;
  text-align: center;
}
#ludo-game-log .log-entry.user {
  color: #007bff;
}
#ludo-game-log .log-entry.char {
  color: #e83e8c;
}
#ludo-game-log .log-entry strong {
  font-weight: 900;
}

/* --- 謫堺ｽ懷玄荳朱ｪｰ蟄仙勘逕ｻ --- */
#ludo-action-area {
  flex-shrink: 0;
  padding: 10px 0;
  display: flex;
  justify-content: center;
  align-items: center;
  min-height: 60px;
}
#ludo-dice-container {
  perspective: 1000px;
}
.dice {
  width: 50px;
  height: 50px;
  position: relative;
  transform-style: preserve-3d;
  transition: transform 1s;
  cursor: pointer;
}
.dice.rolling {
  animation: roll-dice 1.5s ease-out;
}
@keyframes roll-dice {
  0% {
    transform: rotateX(0deg) rotateY(0deg);
  }
  100% {
    transform: rotateX(1080deg) rotateY(720deg);
  }
}
.dice .face {
  position: absolute;
  width: 50px;
  height: 50px;
  border: 1px solid #ccc;
  background: white;
  display: flex;
  justify-content: center;
  align-items: center;
  font-size: 24px;
  font-weight: bold;
}
.face.front {
  transform: rotateY(0deg) translateZ(25px);
}
.face.back {
  transform: rotateY(180deg) translateZ(25px);
}
.face.right {
  transform: rotateY(90deg) translateZ(25px);
}
.face.left {
  transform: rotateY(-90deg) translateZ(25px);
}
.face.top {
  transform: rotateX(90deg) translateZ(25px);
}
.face.bottom {
  transform: rotateX(-90deg) translateZ(25px);
}

/* 笆ｲ笆ｲ笆ｲ 譁ｰ譬ｷ蠑冗ｲ倩ｴｴ扈捺據 笆ｲ笆ｲ笆ｲ */
/* 笆ｼ笆ｼ笆ｼ 縲仙�譁ｰ縲鷹｣櫁｡梧｣矩琉鬚倡ｱｻ蝙区��ｭｾ譬ｷ蠑� 笆ｼ笆ｼ笆ｼ */
.question-type-tag {
  font-size: 10px;
  font-weight: bold;
  padding: 3px 8px;
  border-radius: 10px;
  color: white;
  margin-left: 10px;
  flex-shrink: 0;
}
.question-type-tag.both-answer {
  background-color: #ff8fab; /* 邊芽牡莉｣陦ｨ蜈ｱ蜷悟屓遲� */
}
.question-type-tag.single-answer {
  background-color: #87ceeb; /* 闢晁牡莉｣陦ｨ荳莠ｺ蝗樒ｭ� */
}
/* 笆ｲ笆ｲ笆ｲ 譁ｰ譬ｷ蠑冗ｲ倩ｴｴ扈捺據 笆ｲ笆ｲ笆ｲ */
/* 笆ｼ笆ｼ笆ｼ 縲仙�譁ｰ縲鷹｣櫁｡梧｣狗ｻ鍋ｮ怜今迚��ｷ蠑� 笆ｼ笆ｼ笆ｼ */
#ludo-summary-content h3 {
  text-align: center;
  color: var(--accent-color);
  margin-bottom: 15px;
  font-size: 20px;
  font-weight: bold;
}
#ludo-summary-content .ludo-qa-log {
  margin-top: 20px;
  padding-top: 15px;
  border-top: 1px solid var(--border-color);
  max-height: 300px; /* 扈咎琉遲碑ｮｰ蠖穂ｸ荳ｪ譛螟ｧ鬮伜ｺｦ�悟�螳ｹ螟壻ｺ�庄莉･貊壼勘 */
  overflow-y: auto;
}
#ludo-summary-content h4 {
  margin-bottom: 10px;
  color: var(--text-primary);
}
#ludo-summary-content .qa-item {
  margin-bottom: 15px;
  padding-bottom: 10px;
  border-bottom: 1px dashed #eee;
}
#ludo-summary-content .qa-item:last-child {
  border-bottom: none;
}
#ludo-summary-content .qa-question {
  font-weight: 600;
  color: #db7093; /* 荳荳ｪ蜿ｯ辷ｱ逧�ｲ臥ｴｫ濶ｲ */
  margin-bottom: 8px;
}
#ludo-summary-content .qa-answer {
  padding-left: 15px;
  font-size: 14px;
  color: var(--text-secondary);
}
#ludo-summary-content .qa-answer strong {
  color: var(--text-primary);
}
#phone-screen.dark-mode #ludo-summary-content .qa-answer {
  color: #bbb;
}

/* 笆ｼ笆ｼ笆ｼ 縲千峡螳ｶ螳壼宛縲題ｧ定牡謇区惻豸域�蛻苓｡ｨ - 蜿ｯ辷ｱ逎ｨ遐る乗�蝨�ｧ堤沿 v3.0 笆ｼ笆ｼ笆ｼ */

/* 1. 扈呎ｶ域�蛻苓｡ｨ螳ｹ蝎ｨ蠅槫刈蜀�ｾｹ霍晏柱髣ｴ霍晢ｼ御ｸｺ蜊｡迚�蕗蜃ｺ蜻ｼ蜷ｸ遨ｺ髣ｴ */
#character-chat-list.list-container {
  padding: 15px 10px;
  display: flex;
  flex-direction: column;
  gap: 15px; /* 窶懈�窶晉噪蜊｡迚�柱窶懷�莉紋ｺｺ窶晏今迚�ｹ矩龍逧�龍霍� */
}

/* 2. 驥咲ｽｮ謇譛牙�陦ｨ鬘ｹ逧�渕遑譬ｷ蠑擾ｼ檎ｧｻ髯､譌ｧ逧�ｾｹ譯� */
#character-chat-list .chat-list-item {
  border-bottom: none !important;
}

/* 3. 縲蝉ｽ�逧�ｸ灘ｱ槭大黒迢ｬ隶ｾ鄂ｮ窶懈�逧�ｶ域�窶�(隨ｬ荳荳ｪ)逧�庄辷ｱ閭ｶ蝗頑�ｷ蠑� */
#character-chat-list > .chat-list-item {
  background-color: rgba(255, 255, 255, 0.1); /* 雜�ｺｧ騾乗�逧�區濶ｲ閭梧勹 */
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border-radius: 25px; /* 蜿ｯ辷ｱ逧�Ω蝗雁怕隗� */
  border: 1px solid rgba(255, 255, 255, 0.15); /* 豺｡豺｡逧�ｺｮ霎ｹ�悟｢槫刈雍ｨ諢� */
  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1); /* 譟泌柱逧�亢蠖ｱ�瑚是騾�謔ｬ豬ｮ諢� */
  padding: 15px; /* 蠅槫刈蜀�ｾｹ霍晢ｼ瑚ｮｩ蜀�ｮｹ譖ｴ闊呈恪 */
  color: white; /* 譁�ｭ鈴｢懆牡荵溷序謌千區濶ｲ */
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3); /* 扈呎枚蟄怜刈荳轤ｹ髦ｴ蠖ｱ菫晁ｯ∵ｸ�匆蠎ｦ */
}
#character-chat-list > .chat-list-item .last-msg {
  color: rgba(255, 255, 255, 0.7); /* 鬚�ｧ域ｶ域�逧�枚蟄鈴｢懆牡豺｡荳轤ｹ */
}

/* 4. 縲蝉ｽ�逧�ｸ灘ｱ槭題ｮｾ鄂ｮ窶懷�莉紋ｺｺ豸域�窶晏ｮｹ蝎ｨ逧��ｷ蠑� */
.npc-chat-group {
  background-color: rgba(255, 255, 255, 0.1); /* 蜷梧�ｷ雜�ｺｧ騾乗� */
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border-radius: 25px; /* 螳ｹ蝎ｨ譛ｬ霄ｫ荵滓弍蝨�ｧ� */
  border: 1px solid rgba(255, 255, 255, 0.15);
  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
  overflow: hidden; /* 蜈ｳ髞ｮ�∬ｮｩ蜀�Κ逧��陦ｨ鬘ｹ荳･譬ｼ驕ｵ螳亥ｮｹ蝎ｨ逧�怕隗� */
  padding: 5px 0; /* 螳ｹ蝎ｨ蜀�Κ逧�ｸ贋ｸ狗蕗逋ｽ */
}

/* 5. 隶ｾ鄂ｮ螳ｹ蝎ｨ蜀�Κ蜊穂ｸｪ豸域�逧��ｷ蠑� */
.npc-chat-group .chat-list-item {
  background-color: transparent !important; /* 蜀�Κ逧�｡ｹ螳悟�騾乗� */
  border-bottom: 1px solid rgba(255, 255, 255, 0.1) !important; /* 逕ｨ豺｡豺｡逧�ｺｮ郤ｿ蛻�囈 */
  padding: 12px 15px;
  color: white; /* 譁�ｭ鈴｢懆牡荵滓弍逋ｽ濶ｲ */
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
}
.npc-chat-group .chat-list-item .last-msg {
  color: rgba(255, 255, 255, 0.7);
}

/* 6. 遘ｻ髯､螳ｹ蝎ｨ蜀�先怙蜷惹ｸ荳ｪ縲第ｶ域�逧�ｸ句�郤ｿ�瑚ｮｩ蜊｡迚�ｺ暮Κ譖ｴ蟷ｲ蜃 */
.npc-chat-group .chat-list-item:last-child {
  border-bottom: none !important;
}
/* 笆ｲ笆ｲ笆ｲ 螳壼宛扈捺據 笆ｲ笆ｲ笆ｲ */

/* ======================================================================= */
/* ===         菫ｮ螟坂懈衍謇区惻-螟冶ｧりｮｾ鄂ｮ窶昜ｸｭ鬚�ｧ亥崟霑�､ｧ逧�琉鬚� v1.0         === */
/* ======================================================================= */

/* 1. 菫ｮ螟肴焔譛ｺ螢∫ｺｸ蜥窟pp蜀�｣∫ｺｸ逧�｢�ｧ� */
/* 
   髣ｮ鬚伜次蝗��壻ｹ句燕逧��ｷ蠑乗弍 background-size: cover�御ｼ壼ｼｺ蛻ｶ蝗ｾ迚�｡ｫ貊｡鬚�ｧ域｡�ｼ悟ｯｼ閾ｴ陬∝岡縲�
   隗｣蜀ｳ譁ｹ譯茨ｼ壽隼荳ｺ background-size: contain�瑚ｮｩ蝗ｾ迚�惠譯��螳梧紛譏ｾ遉ｺ縲�
*/
#char-phone-wallpaper-preview,
#char-phone-app-wallpaper-preview {
  background-size: contain !important;
  background-repeat: no-repeat !important; /* 髦ｲ豁｢蝗ｾ迚�惠譌�豕募｡ｫ貊｡譌ｶ驥榊､榊ｹｳ體ｺ */
}

/* 2. 菫ｮ螟堺ｸ､荳ｪ譯碁擇蟆冗ｻ�ｻｶ逧�崟迚�｢�ｧ� */
/* 
   髣ｮ鬚伜次蝗��壼柱荳企擇邀ｻ莨ｼ�御ｽ�ｯｹ莠�<img>譬�ｭｾ�梧而蛻ｶ譏ｾ遉ｺ譁ｹ蠑冗噪螻樊ｧ譏ｯ object-fit縲�
   隗｣蜀ｳ譁ｹ譯茨ｼ壼酔譬ｷ蟆� cover 謾ｹ荳ｺ contain縲�
*/
#char-phone-widget-preview-1,
#char-phone-widget-preview-2 {
  object-fit: contain !important;
  /* (蜿ｯ騾臥ｾ主喧) 荳ｺ豐｡譛牙崟迚�慮逧�｢�ｧ域｡�刈荳ｪ蠎戊牡�梧峩螂ｽ逵� */
  background-color: #f0f2f5;
}
/* ======================================================================= */
/* ===         縲新2 譛扈井ｿｮ螟阪台ｿｮ螟肴衍謇区惻-蟆冗ｻ�ｻｶ鬚�ｧ亥崟霑�､ｧ髣ｮ鬚�         === */
/* ======================================================================= */

#char-phone-widget-preview-1,
#char-phone-widget-preview-2 {
  background-size: contain !important; /* 譬ｸ蠢�ｼ夊ｮｩ閭梧勹蝗ｾ螳梧紛譏ｾ遉ｺ */
  background-repeat: no-repeat !important; /* 髦ｲ豁｢蝗ｾ迚�㍾螟榊ｹｳ體ｺ */
  background-position: center !important; /* 遑ｮ菫晏崟迚�ｱ�ｸｭ */
}

/* 笆ｼ笆ｼ笆ｼ 縲千峡螳ｶ螳壼宛縲大ｿ�勘鬟櫁｡梧｣玖ｾ灘�譯� - 邊芽牡謖蛾聴迚� v1.0 笆ｼ笆ｼ笆ｼ */

/* 1. 霎灘�蛹ｺ蝓溽噪螳ｹ蝎ｨ譬ｷ蠑� (菫晄戟荳榊序) */
#ludo-action-area {
  display: flex !important;
  flex-direction: row !important;
  align-items: center !important;
  gap: 8px !important;
  padding: 10px 12px !important;
}

/* 2. 譁�悽霎灘�譯�噪譬ｷ蠑� (菫晄戟荳榊序) */
#ludo-action-area #ludo-user-speech-input {
  flex-grow: 1;
  border: none;
  padding: 10px 15px;
  border-radius: 20px;
  background-color: var(--secondary-bg);
  font-size: 16px;
  resize: none;
  max-height: 100px;
  line-height: 1.5;
  box-sizing: border-box;
}

/* 3. 窶懃｡ｮ隶､蝗樒ｭ披晄潔髓ｮ逧��ｷ蠑� (蟾ｲ菫ｮ謾ｹ荳ｺ邊芽牡) */
#ludo-action-area .form-button {
  width: auto !important;
  height: 40px;
  border-radius: 20px;
  padding: 0 20px;
  flex-shrink: 0;
  font-size: 14px;
  font-weight: 600;
  margin: 0 !important;
  border: none;
  cursor: pointer;

  /* 笘��笘� 譬ｸ蠢�ｿｮ謾ｹ�壻ｽｿ逕ｨ蜿ｯ辷ｱ逧�ｲ芽牡貂仙序蜥碁亢蠖ｱ 笘��笘� */
  background: linear-gradient(135deg, #ff8fab, #fb6f92);
  color: white;
  box-shadow: 0 4px 10px rgba(251, 111, 146, 0.3);
  transition: all 0.2s ease-in-out;
}

/* 笘��笘� 譁ｰ蠅橸ｼ壻ｸｺ謖蛾聴豺ｻ蜉�譖ｴ逕溷勘逧�ｺ､莠呈譜譫� 笘��笘� */
#ludo-action-area .form-button:hover {
  transform: translateY(-2px);
  box-shadow: 0 6px 12px rgba(251, 111, 146, 0.4);
}
#ludo-action-area .form-button:active {
  transform: translateY(0) scale(0.98);
  box-shadow: 0 2px 5px rgba(251, 111, 146, 0.3);
}

/* 4. 螟憺龍讓｡蠑城る� (菫晄戟荳榊序) */
#phone-screen.dark-mode #ludo-action-area #ludo-user-speech-input {
  background-color: #2c2c2e;
  color: var(--text-primary);
}
/* 笆ｲ笆ｲ笆ｲ 鄒主喧莉｣遐∫ｻ捺據 笆ｲ笆ｲ笆ｲ */
/* 笆ｼ笆ｼ笆ｼ 縲仙�譁ｰ縲大ｿ�｣ｰ髱｢譚ｿ閭梧勹蝗ｾ譬ｷ蠑� 笆ｼ笆ｼ笆ｼ */
#inner-voice-main-panel.modal-content {
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
  /* 謌台ｻｬ扈吝ｮ�刈荳荳ｪ霑�ｸ｡謨域棡�瑚ｮｩ閭梧勹蛻�困譖ｴ蟷ｳ貊� */
  transition: background-image 0.3s ease-in-out;
}
/* 笆ｲ笆ｲ笆ｲ 譁ｰ蠅曚SS扈捺據 笆ｲ笆ｲ笆ｲ */
/* 笆ｼ笆ｼ笆ｼ 縲仙�譁ｰ縲鯛懆ｰ∵弍蜊ｧ蠎補晄ｸｸ謌乗�ｷ蠑� 笆ｼ笆ｼ笆ｼ */

/* 邇ｩ螳ｶ螟ｴ蜒丈ｸ頑仞遉ｺ隗定牡霄ｫ莉ｽ逧�ｰ丞崟譬� */
.player-seat .player-role-display {
  position: absolute;
  bottom: 0;
  right: 0;
  background-color: rgba(0, 0, 0, 0.6);
  color: white;
  font-size: 10px;
  padding: 2px 5px;
  border-radius: 5px;
  font-weight: bold;
}

/* 窶應ｽ�隸ｴ謌醍懸窶晏書險霎灘�蛹ｺ逧�ｾ主喧 */
#undercover-action-area.speaking-mode {
  display: flex;
  flex-direction: row;
  align-items: center;
  gap: 8px;
  width: 100%;
  padding: 0;
}
#undercover-action-area.speaking-mode #undercover-user-speech-input {
  flex-grow: 1;
  border: none;
  padding: 10px 15px;
  border-radius: 20px;
  background-color: var(--secondary-bg);
  font-size: 16px;
  resize: none;
  max-height: 100px;
  line-height: 1.5;
  width: auto !important;
  height: auto !important;
}
#undercover-action-area.speaking-mode #undercover-end-speech-btn {
  height: 40px;
  border-radius: 20px;
  padding: 0 15px;
  flex-shrink: 0;
  font-size: 14px;
  font-weight: 600;
  margin: 0 !important;
  width: auto !important;
  background-color: var(--accent-color);
  color: white;
  border: none;
}
#phone-screen.dark-mode #undercover-action-area.speaking-mode #undercover-user-speech-input {
  background-color: #2c2c2e;
  color: var(--text-primary);
}

/* 笆ｼ笆ｼ笆ｼ 隨ｬ2豁･�壼ｰ�ｿ呎ｮｵ譁ｰ譬ｷ蠑冗ｲ倩ｴｴ蛻ｰ <style> 逧�忰蟆ｾ 笆ｼ笆ｼ笆ｼ */

/* --- 縲仙�譁ｰ縲醍畑謌ｷ蜿大�逧�懆ｧ｣髯､蜈ｳ邉ｻ窶晏今迚��ｷ蠑� --- */

/* 1. 隶ｩ蜊｡迚�噪螳ｹ蝎ｨ豌疲ｳ｡蜿倬乗��梧ｶ磯勁鮟倩ｮ､閭梧勹 */
.message-bubble.is-ls-disconnect .content {
  padding: 0;
  background: transparent;
  box-shadow: none;
  border: none;
  backdrop-filter: none;
  -webkit-backdrop-filter: none;
}

/* 2. 蜊｡迚�ｸｻ菴捺�ｷ蠑� */
.lovers-space-disconnect-card {
  width: 220px; /* 螳ｽ蠎ｦ蜿ｯ莉･閾ｪ蟾ｱ隹�紛 */
  background: linear-gradient(135deg, #f5f7fa, #e9ecef); /* 豬��濶ｲ貂仙序�梧峩譛芽ｴｨ諢� */
  border-radius: 12px;
  border: 1px solid #ced4da;
  display: flex;
  align-items: center;
  gap: 15px; /* 蝗ｾ譬�柱譁�ｭ礼噪髣ｴ霍� */
  padding: 15px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
}

/* 3. 螟憺龍讓｡蠑丈ｸ狗噪蜊｡迚�｢懆牡 */
#phone-screen.dark-mode .lovers-space-disconnect-card {
  background: linear-gradient(135deg, #495057, #343a40);
  border-color: #6c757d;
}

/* 4. 蠢�｢� Emoji 蝗ｾ譬�噪譬ｷ蠑� */
.lovers-space-disconnect-card .icon {
  font-size: 32px; /* Emoji 螟ｧ蟆� */
  line-height: 1;
}

/* 5. 譁�ｭ怜玄蝓溽噪譬ｷ蠑� */
.lovers-space-disconnect-card .text-content .title {
  font-weight: 600;
  font-size: 16px;
  color: var(--text-primary);
}

/* 笆ｲ笆ｲ笆ｲ 譁ｰ蠅曚SS扈捺據 笆ｲ笆ｲ笆ｲ */
/* 笆ｼ笆ｼ笆ｼ 縲仙�譁ｰ縲題ｿ呎弍User閾ｪ蟾ｱ逧�ｧ∽ｿ｡蜉溯�逧�園譛画眠譬ｷ蠑� 笆ｼ笆ｼ笆ｼ */

/* --- 1. 遘∽ｿ｡蛻苓｡ｨ鬘ｵ髱｢ --- */
#user-dm-list-container .dm-list-item {
  display: flex;
  align-items: center;
  padding: 12px 15px;
  cursor: pointer;
  border-bottom: 1px solid var(--border-color);
}
#user-dm-list-container .dm-list-item:hover {
  background-color: #f5f5f5;
}
#phone-screen.dark-mode #user-dm-list-container .dm-list-item:hover {
  background-color: #2c2c2e;
}
#user-dm-list-container .dm-avatar {
  width: 50px;
  height: 50px;
  border-radius: 50%;
  margin-right: 12px;
  object-fit: cover;
}
#user-dm-list-container .dm-info {
  flex-grow: 1;
  overflow: hidden;
}
#user-dm-list-container .dm-name-line {
  display: flex;
  align-items: center;
  gap: 8px;
  margin-bottom: 5px;
}
#user-dm-list-container .dm-name {
  font-weight: 600;
  font-size: 16px;
}
#user-dm-list-container .dm-persona-tag {
  font-size: 10px;
  color: var(--text-secondary);
  background-color: #f0f0f0;
  padding: 2px 6px;
  border-radius: 4px;
}
#phone-screen.dark-mode #user-dm-list-container .dm-persona-tag {
  background-color: #3a3a3c;
}
#user-dm-list-container .dm-last-msg {
  font-size: 14px;
  color: var(--text-secondary);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

/* --- 2. 遘∽ｿ｡隸ｦ諠�｡ｵ髱｢ (閨雁､ｩ逡碁擇) --- */
#user-dm-messages-container {
  background-color: #f0f2f5 !important;
}
#phone-screen.dark-mode #user-dm-messages-container {
  background-color: #000000 !important;
}

/* 螟咲畑荳ｻ閨雁､ｩ逡碁擇逧�ｰ疲ｳ｡譬ｷ蠑擾ｼ御ｽ�ｸｺ邊我ｸ晏柱User螳壻ｹ臥音螳壼ｯｹ鮨先婿蠑� */
#user-dm-messages-container .message-wrapper.fan {
  align-self: flex-start;
}
#user-dm-messages-container .message-wrapper.fan .message-bubble {
  flex-direction: row;
}
#user-dm-messages-container .message-wrapper.fan .content {
  background-color: #ffffff; /* 邊我ｸ晉畑逋ｽ濶ｲ豌疲ｳ｡ */
  color: var(--text-primary);
  border-radius: 2px 18px 18px 18px;
}

#user-dm-messages-container .message-wrapper.user-self {
  /* 菴ｿ逕ｨ譁ｰclass�碁∩蜈榊�遯� */
  align-self: flex-end;
}
#user-dm-messages-container .message-wrapper.user-self .message-bubble {
  flex-direction: row-reverse;
}
/* 菴�閾ｪ蟾ｱ逧�ｶ域��御ｽｿ逕ｨ蠕ｮ蜊夂噪讖呵牡 */
#user-dm-messages-container .message-wrapper.user-self .content {
  background-color: #ff8200;
  color: white;
  border-radius: 18px 2px 18px 18px;
}

/* 螟憺龍讓｡蠑城る� */
#phone-screen.dark-mode #user-dm-messages-container .message-wrapper.fan .content {
  background-color: #2c2c2e;
}
#phone-screen.dark-mode #user-dm-messages-container .message-wrapper.user-self .content {
  background-color: #e67300;
}

/* 笆ｼ笆ｼ笆ｼ 逕ｨ霑吶蝉ｸ謨ｴ蝮励台ｻ｣遐�ｼ梧崛謐｢謗我ｽ�譌ｧ逧� user-dm-input-area 逶ｸ蜈ｳ譬ｷ蠑� 笆ｼ笆ｼ笆ｼ */

/* --- 1. 遘∽ｿ｡霎灘�蛹ｺ蝓溽噪謨ｴ菴楢レ譎ｯ蜥瑚ｾｹ霍� (霑咎Κ蛻�ｿ晄戟荳榊序) --- */
#user-dm-input-area {
  border-top: 1px solid var(--border-color);
  background-color: #f7f7f7;
  padding: 10px 12px;
  padding-bottom: calc(10px + env(safe-area-inset-bottom));
}

/* --- 2. 譬ｸ蠢�ｸ�ｱ�壼ｼｺ蛻ｶ霎灘�譯�柱謖蛾聴蝨ｨ蜷御ｸ陦� --- */
/* 謌台ｻｬ逕ｨ荳荳ｪ譖ｴ邊ｾ遑ｮ逧�画叫蝎ｨ�梧擂遑ｮ菫晄�ｷ蠑剰�逕滓譜 */
#user-dm-detail-screen .chat-input-main-row {
  display: flex; /* 蜈ｳ髞ｮ�夊ｮｾ荳ｺflex蟶�ｱ */
  flex-direction: row; /* 蜈ｳ髞ｮ�壼ｼｺ蛻ｶ讓ｪ蜷第賜蛻� */
  align-items: flex-end; /* 隶ｩ螟夊｡瑚ｾ灘�譌ｶ�梧潔髓ｮ蜥瑚ｾ灘�譯�ｺ暮Κ蟇ｹ鮨撰ｼ梧峩螂ｽ逵� */
  gap: 8px; /* 霎灘�譯�柱謖蛾聴扈�ｹ矩龍逧�龍霍� */
}

/* --- 3. 霎灘�譯�ｼ夊ｮｩ螳��蜉ｨ莨ｸ螻包ｼ悟頃貊｡蟾ｦ萓ｧ謇譛臥ｩｺ髣ｴ --- */
#user-dm-input-area #user-dm-input {
  flex-grow: 1; /* 蜈ｳ髞ｮ�� */

  /* 荳矩擇譏ｯ霎灘�譯�噪螟冶ｧゑｼ御ｿ晄戟荳榊序 */
  border: 1px solid #ddd;
  border-radius: 18px;
  padding: 8px 15px;
  line-height: 1.5;
  min-height: 38px;
  max-height: 100px;
  resize: none;
  background-color: #fff;
}

/* --- 4. 謖蛾聴螳ｹ蝎ｨ�夊ｮｩ謇譛画潔髓ｮ蝨ｨ驥碁擇讓ｪ蜷第賜蛻� --- */
#user-dm-input-area #input-actions-wrapper {
  display: flex;
  align-items: flex-end;
  gap: 8px;
  flex-shrink: 0; /* 髦ｲ豁｢謖蛾聴莉ｬ陲ｫ謖､蜴句序蠖｢ */
}

/* --- 5. 縲蝉ｽ�逧�ｦ∵ｱゅ台ｿｮ謾ｹ窶懷書騾≫晄潔髓ｮ荳ｺ蝨�ｧ堤洸蠖｢ --- */
#user-dm-input-area #user-dm-send-btn {
  height: 38px;
  border-radius: 8px; /* 笘��笘� 菫ｮ謾ｹ轤ｹ蝨ｨ霑咎㈹�∽ｻ� 18px 謾ｹ荳ｺ 8px 笘��笘� */
  background-color: #ff8200;
  /* --- 莉･荳倶ｸｺ陦･蜈��ｷ蠑擾ｼ瑚ｮｩ謖蛾聴譖ｴ螂ｽ逵� --- */
  border: none;
  color: white;
  font-weight: 600;
  font-size: 14px;
  padding: 0 15px; /* 隶ｩ譁�ｭ嶺ｸ埼ぅ荵域凶謖､ */
}

/* --- 6. 蜈ｶ莉紋ｸ､荳ｪ蝗ｾ譬�潔髓ｮ逧��ｷ蠑� (菫晄戟荳榊序) --- */
#user-dm-input-area .chat-action-icon-btn {
  width: 38px;
  height: 38px;
  border-radius: 50%;
  padding: 0;
  font-size: 24px;
  background-color: rgba(0, 0, 0, 0.05);
  color: var(--text-primary);
  border: 1px solid rgba(0, 0, 0, 0.05);
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
}

/* --- 7. 螟憺龍讓｡蠑城る� (菫晄戟荳榊序) --- */
#phone-screen.dark-mode #user-dm-input-area {
  background-color: #1c1c1e;
  border-top-color: #38383a;
}
#phone-screen.dark-mode #user-dm-input-area #user-dm-input {
  background-color: #2c2c2e;
  border-color: #38383a;
  color: white;
}
#phone-screen.dark-mode #user-dm-input-area .chat-action-icon-btn {
  background-color: rgba(255, 255, 255, 0.1);
  border-color: rgba(255, 255, 255, 0.1);
}

/* 笆ｲ笆ｲ笆ｲ 譖ｿ謐｢扈捺據 笆ｲ笆ｲ笆ｲ */
/* 笆ｼ笆ｼ笆ｼ 縲仙�譁ｰ縲題ｿ呎弍荳ｺUser遘∽ｿ｡霎灘�譯�眠蠅樒噪謖蛾聴譬ｷ蠑� 笆ｼ笆ｼ笆ｼ */

#user-dm-input-area #input-actions-wrapper {
  display: flex;
  align-items: flex-end; /* 遑ｮ菫晄潔髓ｮ蠎暮Κ蟇ｹ鮨� */
  gap: 8px; /* 謖蛾聴荵矩龍逧�龍霍� */
}

/* 螟咲畑荳ｻ閨雁､ｩ逡碁擇逧�ｰ丞崟譬�潔髓ｮ譬ｷ蠑� */
#user-dm-input-area .chat-action-icon-btn {
  width: 38px;
  height: 38px;
  border-radius: 50%;
  padding: 0;
  font-size: 24px;
  background-color: rgba(0, 0, 0, 0.05);
  color: var(--text-primary);
  border: 1px solid rgba(0, 0, 0, 0.05);
}

#phone-screen.dark-mode #user-dm-input-area .chat-action-icon-btn {
  background-color: rgba(255, 255, 255, 0.1);
  border-color: rgba(255, 255, 255, 0.1);
}
/* 笆ｲ笆ｲ笆ｲ 譁ｰ蠅樊�ｷ蠑冗ｻ捺據 笆ｲ笆ｲ笆ｲ */
/* 笆ｼ笆ｼ笆ｼ 縲仙�譁ｰ縲題ｿ呎弍User遘∽ｿ｡蛻�髯､蜉溯�逧�園譛画眠譬ｷ蠑� 笆ｼ笆ｼ笆ｼ */

/* --- 蜊墓擅豸域�蛻�髯､謖蛾聴 --- */
/* 1. 隶ｩ豈乗擅豸域�逧�ｮｹ蝎ｨ蜿ｯ莉･菴應ｸｺ蛻�髯､謖蛾聴逧�ｮ壻ｽ榊盾閠�せ */
#user-dm-messages-container .message-wrapper {
  position: relative;
}

/* 2. 蛻�髯､謖蛾聴譛ｬ霄ｫ逧��ｷ蠑� */
.user-dm-message-delete-btn {
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  width: 22px;
  height: 22px;
  background-color: rgba(0, 0, 0, 0.1);
  color: #555;
  border-radius: 50%;
  border: none;
  cursor: pointer;
  font-size: 16px;
  line-height: 22px;
  text-align: center;
  opacity: 0; /* 鮟倩ｮ､髫占酪 */
  transition: all 0.2s ease;
  z-index: 10;
}

/* 3. 鮠�譬�ぎ蛛懷惠謨ｴ譚｡豸域�荳頑慮�梧燕譏ｾ遉ｺ蛻�髯､謖蛾聴 */
#user-dm-messages-container .message-wrapper:hover .user-dm-message-delete-btn {
  opacity: 1;
}
.user-dm-message-delete-btn:hover {
  background-color: #ff3b30;
  color: white;
}

/* 4. 譬ｹ謐ｮ豸域�譏ｯ邊我ｸ晉噪霑俶弍菴�逧�ｼ悟�螳壽潔髓ｮ逧�ｽ咲ｽｮ */
#user-dm-messages-container .message-wrapper.fan .user-dm-message-delete-btn {
  right: -28px; /* 謾ｾ蝨ｨ豌疲ｳ｡蜿ｳ霎ｹ */
}
#user-dm-messages-container .message-wrapper.user-self .user-dm-message-delete-btn {
  left: -28px; /* 謾ｾ蝨ｨ豌疲ｳ｡蟾ｦ霎ｹ */
}

/* --- 蟾ｦ貊大唖髯､謨ｴ荳ｪ蟇ｹ隸� --- */
/* 1. 貊大勘螳ｹ蝎ｨ */
.user-dm-list-item-swipe-container {
  position: relative;
  overflow: hidden;
  background-color: var(--secondary-bg);
}

/* 2. 蜿ｯ貊大勘逧��螳ｹ蛹ｺ */
.user-dm-list-item-content {
  position: relative;
  z-index: 2;
  background-color: inherit;
  transition: transform 0.3s ease;
}
.user-dm-list-item-content.swiped {
  transform: translateX(-80px); /* 蜷大ｷｦ貊大勘80px�碁愆蜃ｺ蛻�髯､謖蛾聴 */
}

/* 3. 髫占酪蝨ｨ蜷朱擇逧�桃菴懈潔髓ｮ蛹ｺ蝓� */
.user-dm-swipe-actions {
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  z-index: 1;
  display: flex;
}

/* 4. 窶懷唖髯､窶晄潔髓ｮ逧��ｷ蠑� */
.user-dm-swipe-actions .swipe-action-btn {
  height: 100%;
  padding: 0 20px;
  border: none;
  color: white;
  font-weight: 500;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  width: 80px;
  background-color: #ff3b30; /* 郤｢濶ｲ閭梧勹 */
}

/* 5. 菫ｮ螟榊�蜑ｲ郤ｿ�瑚ｮｩ貊大勘謨域棡譖ｴ螳檎ｾ� */
#user-dm-list-container .dm-list-item {
  border-bottom: none; /* 遘ｻ髯､蜴溷ｧ狗噪蛻�牡郤ｿ */
}
#user-dm-list-container .user-dm-list-item-swipe-container:not(:last-child) {
  border-bottom: 1px solid var(--border-color); /* 蝨ｨ貊大勘螳ｹ蝎ｨ荳頑ｷｻ蜉�譁ｰ蛻�牡郤ｿ */
}

/* 笆ｲ笆ｲ笆ｲ 譁ｰ譬ｷ蠑冗ｲ倩ｴｴ扈捺據 笆ｲ笆ｲ笆ｲ */
/* 笆ｼ笆ｼ笆ｼ 縲仙�譁ｰ縲醍ｻｭ轣ｫ闃ｱ蝗ｾ譬��ｷ蠑� 笆ｼ笆ｼ笆ｼ */
.streak-indicator {
  display: inline-flex;
  align-items: center;
  gap: 3px;
  font-size: 13px; /* 隹�紛莠�ｭ嶺ｽ灘､ｧ蟆擾ｼ瑚ｮｩ螳�峩邊ｾ閾ｴ */
  color: #ff6f00; /* 貂ｩ證也噪讖呵牡 */
  font-weight: bold;
  margin-left: 8px; /* 蜥瑚ｧ定牡蜷榊ｭ玲級蠑荳轤ｹ霍晉ｦｻ */
  text-shadow: 0 0 5px rgba(255, 152, 0, 0.5); /* 蜉�荳轤ｹ蜿大�謨域棡 */
}
/* 笆ｲ笆ｲ笆ｲ 譁ｰ譬ｷ蠑冗ｲ倩ｴｴ扈捺據 笆ｲ笆ｲ笆ｲ */
/* 笆ｼ笆ｼ笆ｼ 謚願ｿ吩ｸ謨ｴ蝮怜�譁ｰ逧ГSS�檎ｲ倩ｴｴ蛻ｰ <style> 逧�怙譛ｫ蟆ｾ 笆ｼ笆ｼ笆ｼ */

/* --- 縲仙�譁ｰ縲醍ｾ､謌仙遭邂｡逅��陦ｨ譬ｷ蠑� --- */
#member-management-list .list-container-title {
  padding: 10px 15px;
  font-size: 14px;
  color: var(--text-secondary);
  background-color: #f0f2f5;
}
#phone-screen.dark-mode #member-management-list .list-container-title {
  background-color: #1c1c1e;
}

#member-management-list .member-management-item {
  background-color: var(--secondary-bg);
}

/* 蜊穂ｸｪ謌仙遭鬘ｹ */
.member-management-item {
  display: flex;
  align-items: center;
  padding: 10px 15px;
  border-bottom: 1px solid var(--border-color);
}

.member-management-item .avatar {
  width: 40px;
  height: 40px;
  border-radius: 6px; /* 譁ｹ蠖｢蝨�ｧ貞､ｴ蜒� */
  margin-right: 12px;
}

/* 謌仙遭菫｡諱ｯ�域亰遘ｰ縲∝､ｴ陦斐∬ｺｫ莉ｽ�� */
.member-management-item .info {
  flex-grow: 1;
  display: flex;
  flex-direction: column;
  gap: 4px;
}
.member-management-item .info .name {
  font-weight: 500;
}
.member-management-item .info .tags {
  display: flex;
  align-items: center;
  gap: 6px;
}

/* 霄ｫ莉ｽ譬�ｭｾ�育ｾ､荳ｻ/邂｡逅�遭�� */
.member-management-item .role-tag {
  font-size: 10px;
  padding: 2px 6px;
  border-radius: 4px;
  font-weight: bold;
  color: white;
}
.role-tag.owner {
  background-color: #ffc107;
} /* 鮟�牡 */
.role-tag.admin {
  background-color: #28a745;
} /* 扈ｿ濶ｲ */

/* 螟ｴ陦疲��ｭｾ */
.member-management-item .title-tag {
  font-size: 11px;
  color: var(--text-secondary);
  background-color: #f0f2f5;
  padding: 2px 6px;
  border-radius: 4px;
}
#phone-screen.dark-mode .member-management-item .title-tag {
  background-color: #3a3a3c;
}

/* 謫堺ｽ懈潔髓ｮ */
.member-management-item .actions {
  display: flex;
  gap: 8px;
}
.member-management-item .actions button {
  padding: 5px 10px;
  font-size: 12px;
  border-radius: 5px;
  cursor: pointer;
  border: 1px solid var(--border-color);
  background-color: #f8f9fa;
}
#phone-screen.dark-mode .member-management-item .actions button {
  background-color: #3e3e42;
  border-color: #545458;
}
.member-management-item .actions button.danger {
  border-color: #ff4d4f;
  color: #ff4d4f;
}

/* --- 縲仙�譁ｰ縲題♀螟ｩ逡碁擇蜀�噪霄ｫ莉ｽ/螟ｴ陦疲��ｭｾ --- */
.group-sender-tags {
  display: inline-flex;
  align-items: center;
  gap: 5px;
  margin-left: 6px;
  vertical-align: middle;
}
.group-role-tag,
.group-title-tag {
  font-size: 10px;
  padding: 1px 5px;
  border-radius: 8px;
  font-weight: 500;
  line-height: 1.4;
}
.group-role-tag.owner {
  background-color: #fff2c2;
  color: #d98c00;
  border: 1px solid #ffe89d;
}
.group-role-tag.admin {
  background-color: #d4edda;
  color: #155724;
  border: 1px solid #c3e6cb;
}
.group-title-tag {
  background-color: #f0f2f5;
  color: var(--text-secondary);
}

#phone-screen.dark-mode .group-role-tag.owner {
  background-color: #594200;
  color: #ffd466;
  border-color: #795b00;
}
#phone-screen.dark-mode .group-role-tag.admin {
  background-color: #104a3c;
  color: #76ddc4;
  border-color: #176854;
}
#phone-screen.dark-mode .group-title-tag {
  background-color: #3a3a3c;
}

/* 笆ｲ笆ｲ笆ｲ 譁ｰCSS邊倩ｴｴ扈捺據 笆ｲ笆ｲ笆ｲ */
/* 笆ｼ笆ｼ笆ｼ 縲千峡螳ｶ螳壼宛縲題ｯｷ蟆�ｿ呎ｮｵ縲仙�譁ｰ縲醍噪CSS莉｣遐�ｼ檎ｲ倩ｴｴ蛻ｰ<style>譬�ｭｾ逧�忰蟆ｾ 笆ｼ笆ｼ笆ｼ */

/* 譬ｸ蠢�ｼ壻ｸ馴葎荳ｺ逕ｨ謌ｷ��ser�牙惠鄒､閨贋ｸｭ逧�ｶ域�陦悟ｮ壻ｹ画�ｷ蠑� */
.message-wrapper.user .group-sender-line {
  /* 1. 螳壻ｽ搾ｼ壻ｻ主ｷｦ萓ｧ螳壻ｽ肴隼荳ｺ蜿ｳ萓ｧ螳壻ｽ搾ｼ御ｸ惹ｽ�逧�､ｴ蜒丞ｯｹ鮨� */
  left: auto;
  right: 50px; /* 蜴滓擂譏ｯ left: 50px */

  /* 2. 蟶�ｱ鄙ｻ霓ｬ�夊ｿ呎弍螳樒鴫窶懈��ｭｾ蝨ｨ蟾ｦ�梧亰遘ｰ蝨ｨ蜿ｳ窶晉噪蜈ｳ髞ｮ��*/
  flex-direction: row-reverse;
}

/* 笆ｲ笆ｲ笆ｲ 邊倩ｴｴ扈捺據 笆ｲ笆ｲ笆ｲ */
/* 笆ｼ笆ｼ笆ｼ 縲仙�譁ｰ縲醍ｾ､蜈ｬ蜻雁粥閭ｽ譬ｷ蠑� 笆ｼ笆ｼ笆ｼ */

/* 霑呎弍謌台ｻｬ譁ｰ蜉�逧�ｾ､蜈ｬ蜻雁ｰ城ｻ第攸蝗ｾ譬�噪譬ｷ蠑� */
/* 笆ｼ笆ｼ笆ｼ 隸ｷ逕ｨ霑吝摎莉｣遐∵崛謐｢菴�譌ｧ逧� #group-announcement-btn 譬ｷ蠑� 笆ｼ笆ｼ笆ｼ */
#group-announcement-btn {
  display: none; /* JS謗ｧ蛻ｶ譏ｾ遉ｺ�御ｿ晄戟荳榊序 */
  position: absolute; /* 譬ｸ蠢�ｿｮ謾ｹ�夂ｻ晏ｯｹ螳壻ｽ� */
  left: 100%; /* 螳壻ｽ榊惠譬�｢倡噪蜿ｳ霎ｹ */
  top: 50%; /* 蝙ら峩螻�ｸｭ逧�ｬｬ荳豁･ */
  transform: translateY(-50%); /* 蝙ら峩螻�ｸｭ逧�ｬｬ莠梧ｭ･ */
  margin-left: 5px; /* 荳取��｢倡噪髣ｴ霍� */

  /* 菫晄戟隗�ｧ画�ｷ蠑� */
  display: flex;
  align-items: center;
  justify-content: center;
  width: 30px;
  height: 30px;
  cursor: pointer;
  color: var(--accent-color);
  transition: background-color 0.2s;
  border-radius: 50%;
}
/* 笆ｲ笆ｲ笆ｲ 譖ｿ謐｢扈捺據 笆ｲ笆ｲ笆ｲ */
#group-announcement-btn:hover {
  background-color: rgba(0, 0, 0, 0.05); /* 鮠�譬�ぎ蛛懈慮扈吩ｸ轤ｹ蜿埼ｦ� */
}
#phone-screen.dark-mode #group-announcement-btn:hover {
  background-color: rgba(255, 255, 255, 0.1);
}

/* 蜈ｬ蜻雁ｼｹ遯礼噪譬ｷ蠑� */
#group-announcement-modal .modal-content {
  height: 70%; /* 隶ｩ蠑ｹ遯鈴ｫ倅ｸ莠幢ｼ梧婿萓ｿ逵句�蜻� */
}

/* 蜈ｬ蜻雁�螳ｹ逧�仞遉ｺ蛹ｺ蝓� */
#group-announcement-modal .modal-body {
  white-space: pre-wrap; /* 隶ｩ謐｢陦檎ｬｦ逕滓譜 */
  word-break: break-word; /* 髦ｲ豁｢髟ｿ蜊戊ｯ肴ｺ｢蜃ｺ */
  line-height: 1.7; /* 蠅槫刈陦碁ｫ假ｼ梧峩譏楢ｯｻ */
  font-size: 15px;
}

/* 郛冶ｾ大�蜻頑慮�梧枚譛ｬ蝓溽噪譬ｷ蠑� */
#group-announcement-modal textarea {
  width: 100%;
  height: 100%; /* 蜊�貊｡謨ｴ荳ｪ蜀�ｮｹ蛹ｺ */
  min-height: 300px;
  box-sizing: border-box;
  border: 1px solid var(--border-color);
  border-radius: 6px;
  padding: 10px;
  font-size: 15px;
  line-height: 1.7;
  resize: vertical; /* 蜈∬ｮｸ逕ｨ謌ｷ蝙ら峩諡門勘隹�紛螟ｧ蟆� */
}

/* 笆ｲ笆ｲ笆ｲ 譁ｰ蠅曚SS扈捺據 笆ｲ笆ｲ笆ｲ */

/* 笆ｼ笆ｼ笆ｼ 縲千峡螳ｶ螳壼宛縲醍ｾ､閨頑亰遘ｰ荳取��ｭｾ鬘ｺ蠎丈ｿｮ螟� 笆ｼ笆ｼ笆ｼ */

/* 1. 蜈ｨ螻螳壻ｹ画仞遉ｺ鬘ｺ蠎擾ｼ夊ｮｩ譬�ｭｾ豌ｸ霑懷惠蜷榊ｭ怜燕髱｢ */
.group-sender-line > .group-sender-tags {
  order: 1;
}
.group-sender-line > .sender-name {
  order: 2;
}

/* 2. 荳ｺ縲植I/莉紋ｺｺ豸域�縲題ｮｾ鄂ｮ蟇ｹ鮨先婿蠑� (髱�蟾ｦ) */
.message-wrapper.ai .group-sender-line {
  justify-content: flex-start; /* 遑ｮ菫晏�螳ｹ莉主ｷｦ霎ｹ蠑蟋� */
}

/* 3. 縲先�ｸ蠢�ｿｮ螟阪台ｿｮ豁｣縲蝉ｽ�逧�ｶ域�縲醍噪蟇ｹ鮨先婿蠑� (髱�蜿ｳ) */
/* 霑吝摎莉｣遐∽ｼ夊ｦ�尠謗画立逧�∝ｯｼ閾ｴ鬘ｺ蠎城漠荵ｱ逧�ｧ�� */
.message-wrapper.user .group-sender-line {
  left: auto;
  right: 50px; /* 菫晄戟蜴滓怏逧�承萓ｧ螳壻ｽ� */
  flex-direction: row; /* 遘ｻ髯､譌ｧ逧�懷渚霓ｬ窶晄譜譫� */
  justify-content: flex-end; /* 隶ｩ蜀�ｮｹ蝮玲紛菴馴擒蜿ｳ�瑚ｿ呎�ｷ蜷榊ｭ怜ｰｱ閭ｽ雍ｴ霑台ｽ�逧�､ｴ蜒丈ｺ� */
}

/* 笆ｲ笆ｲ笆ｲ 菫ｮ螟咲ｻ捺據 笆ｲ笆ｲ笆ｲ */
/* 笆ｼ笆ｼ笆ｼ 縲仙�譁ｰ縲醍畑謌ｷ陦ｨ諠�擇譚ｿ謇ｹ驥丞唖髯､蜉溯�譬ｷ蠑� 笆ｼ笆ｼ笆ｼ */

/* 1. 蠖楢｡ｨ諠�擇譚ｿ霑帛�騾画叫讓｡蠑乗慮�碁嚼阯鞘懈ｷｻ蜉�/荳贋ｼ�窶晄潔髓ｮ */
#sticker-panel.selection-mode #add-sticker-btn,
#sticker-panel.selection-mode #upload-sticker-btn {
  display: none;
}

/* 2. 荳ｺ陦ｨ諠��ｼ蟄先ｷｻ蜉�騾画叫譯�噪隗�ｧ画譜譫� */
.sticker-item.in-selection-mode::before {
  content: '';
  position: absolute;
  top: 5px;
  right: 5px;
  width: 20px;
  height: 20px;
  border-radius: 50%;
  border: 2px solid rgba(0, 0, 0, 0.2);
  background-color: rgba(255, 255, 255, 0.7);
  transition: all 0.2s ease-in-out;
}

/* 3. 蠖楢｡ｨ諠�｢ｫ騾我ｸｭ譌ｶ�瑚ｮｩ騾画叫譯�序謌仙ｸｦ蟇ｹ蜍ｾ逧�� */
.sticker-item.selected::before {
  background-color: var(--accent-color); /* 菴ｿ逕ｨ菴�逧�ｸｻ鬚倩牡 */
  border-color: var(--accent-color);
  content: '笨�';
  color: white;
  font-size: 14px;
  text-align: center;
  line-height: 20px;
}

/* 4. 蠎暮Κ謇ｹ驥丞唖髯､謫堺ｽ懈�冗噪譬ｷ蠑� */
#sticker-panel-footer {
  padding: 10px 15px;
  /* 騾る�iPhone蠎暮Κ螳牙�蛹ｺ */
  padding-bottom: calc(10px + env(safe-area-inset-bottom));
  background-color: rgba(247, 247, 247, 0.9);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  border-top: 1px solid var(--border-color);
  flex-shrink: 0;
}

#sticker-panel-footer button {
  width: 100%;
  padding: 12px;
  border: none;
  border-radius: 8px;
  background-color: #ff3b30; /* 驢堤岼逧�ｺ｢濶ｲ */
  color: white;
  font-size: 16px;
  font-weight: 600;
  cursor: pointer;
}

#sticker-panel-footer button:disabled {
  background-color: #ccc;
  cursor: not-allowed;
}

/* 笆ｲ笆ｲ笆ｲ 譁ｰ譬ｷ蠑冗ｲ倩ｴｴ扈捺據 笆ｲ笆ｲ笆ｲ */
/* 笆ｼ笆ｼ笆ｼ 縲仙�譁ｰ縲題ｧ定牡陦ｨ諠�桁謇ｹ驥丞唖髯､蜉溯�譬ｷ蠑� 笆ｼ笆ｼ笆ｼ */

/* 1. 蠖楢ｿ帛�騾画叫讓｡蠑乗慮�碁嚼阯城｡ｶ驛ｨ逧�懈音驥乗ｷｻ蜉�/譛ｬ蝨ｰ荳贋ｼ�窶晄潔髓ｮ */
#char-sticker-manager-screen.selection-mode .panel-btn {
  display: none;
}

/* 2. 隗定牡陦ｨ諠�桁逧�ｺ暮Κ謫堺ｽ懈�乗�ｷ蠑擾ｼ悟柱逕ｨ謌ｷ陦ｨ諠�桁逧�ｱｻ莨ｼ */
#char-sticker-footer {
  padding: 10px 15px;
  padding-bottom: calc(10px + env(safe-area-inset-bottom));
  background-color: rgba(247, 247, 247, 0.9);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  border-top: 1px solid var(--border-color);
  flex-shrink: 0;
}

#char-sticker-footer button {
  width: 100%;
  padding: 12px;
  border: none;
  border-radius: 8px;
  background-color: #ff3b30;
  color: white;
  font-size: 16px;
  font-weight: 600;
  cursor: pointer;
}

#char-sticker-footer button:disabled {
  background-color: #ccc;
  cursor: not-allowed;
}

/* 3. 荳ｺ鬘ｵ遲ｾ蜀�ｮｹ蛹ｺ豺ｻ蜉� active 邀ｻ�檎畑莠捌S謗ｧ蛻ｶ譏ｾ遉ｺ/髫占酪 */
.frame-content {
  display: none;
}
.frame-content.active {
  display: flex;
  flex-direction: column;
  flex-grow: 1;
}

/* 笆ｲ笆ｲ笆ｲ 譁ｰ譬ｷ蠑冗ｲ倩ｴｴ扈捺據 笆ｲ笆ｲ笆ｲ */
/* 笆ｼ笆ｼ笆ｼ 縲仙�譁ｰ縲題ｿ呎弍荳ｺ蠢�｣ｰ髱｢譚ｿ郛冶ｾ大粥閭ｽ譁ｰ蠅樒噪CSS 笆ｼ笆ｼ笆ｼ */

/* 蠖灘､ｴ驛ｨ譛芽ｿ吩ｸｪclass譌ｶ�悟ｼｺ蛻ｶ髫占酪蠎暮Κ霎ｹ譯� */
#inner-voice-main-panel .modal-header.no-border {
  border-bottom: none !important;
}

/* 笆ｲ笆ｲ笆ｲ 譁ｰ蠅曚SS扈捺據 笆ｲ笆ｲ笆ｲ */
/* 蠑ｺ蛻ｶ謠仙合窶懷ｿ�｣ｰ譬ｷ蠑冗ｼ冶ｾ大勣窶晉噪螻らｺｧ�檎｡ｮ菫晏ｮ��隕�尠蝨ｨ蠢�｣ｰ髱｢譚ｿ荵倶ｸ� */
#inner-voice-editor-modal {
  z-index: 1001; /* 霑吩ｸｪ蛟ｼ豈泌ｿ�｣ｰ髱｢譚ｿ逧�ｻ倩ｮ､螻らｺｧ(1000)隕�ｫ� */
}

/* 笆ｲ笆ｲ笆ｲ 菫ｮ螟咲ｻ捺據 笆ｲ笆ｲ笆ｲ */
/* 笆ｼ笆ｼ笆ｼ 縲仙�譁ｰ縲題ｿ呎弍荳ｺ蠢�｣ｰ髱｢譚ｿ蝗ｾ譬�眠蠅樒噪鬚懆牡謗ｧ蛻ｶ譬ｷ蠑� 笆ｼ笆ｼ笆ｼ */

/* 1. 荳ｺ蠢�｣ｰ髱｢譚ｿ螳壻ｹ我ｸ荳ｪCSS蜿倬㍼�悟ｹｶ隶ｾ鄂ｮ鮟倩ｮ､鬚懆牡 */
#inner-voice-main-panel {
  --iv-icon-color: #ff8a80; /* 菴�蜿ｯ莉･菫ｮ謾ｹ霑吩ｸｪ鮟倩ｮ､逧�ｲ臥ｺ｢濶ｲ */
}

/* 2. 隶ｩ謇譛臥岼譬�崟譬�噪鬚懆牡驛ｽ菴ｿ逕ｨ霑吩ｸｪ蜿倬㍼ */
#close-inner-voice-modal {
  color: var(--iv-icon-color);
}

#inner-voice-edit-btn svg,
#change-inner-voice-bg-btn svg,
#inner-voice-history-btn svg {
  /* 譬ｸ蠢�ｼ壼ｰ�崟譬�噪郤ｿ譚｡鬚懆牡隶ｾ鄂ｮ荳ｺ謌台ｻｬ螳壻ｹ臥噪蜿倬㍼ */
  stroke: var(--iv-icon-color);
}
/* 笆ｲ笆ｲ笆ｲ 譁ｰ蠅樊�ｷ蠑冗ｻ捺據 笆ｲ笆ｲ笆ｲ */
/* 笆ｼ笆ｼ笆ｼ 縲仙�譁ｰ縲羨I逕滓�鄒､謌仙遭謖蛾聴譬ｷ蠑� 笆ｼ笆ｼ笆ｼ */
#member-management-actions #ai-generate-members-btn {
  background-color: #007bff; /* 荳荳ｪ驢堤岼逧�統濶ｲ */
  color: white;
}
/* 笆ｲ笆ｲ笆ｲ 譁ｰ蠅曚SS扈捺據 笆ｲ笆ｲ笆ｲ */
/* 笆ｼ笆ｼ笆ｼ 縲仙�譁ｰ縲醍ｺｦ莨壼､ｧ菴懈�App譬ｷ蠑� (V5 - 扈域栫菫ｮ螟咲沿) 笆ｼ笆ｼ笆ｼ */

#date-a-live-screen {
  background-color: #f0f2f5;
}
#phone-screen.dark-mode #date-a-live-screen {
  background-color: #000;
}

/* 笘��笘� 霑呎弍譛ｬ谺｡蜚ｯ荳逧�∽ｽ�怙蜈ｳ髞ｮ逧�ｿｮ謾ｹ蛹ｺ蝓� 笘��笘� */
#dating-scene-content {
  flex: 1; /* 笘��笘� 譬ｸ蠢�1: 隶ｩ蜀�ｮｹ蛹ｺ蜊�謐ｮ辷ｶ螳ｹ蝎ｨ�亥ｱ丞ｹ包ｼ臥噪謇譛牙黄菴咏ｩｺ髣ｴ */
  min-height: 0; /* 笘��笘� 譬ｸ蠢�2: flex蟶�ｱ逧�ｸ荳ｪ驥崎ｦ∵橿蟾ｧ�碁亟豁｢蜀�ｮｹ貅｢蜃ｺ譌ｶ莠ｧ逕滓э螟也噪蟶�ｱ髣ｮ鬚� */
  overflow-y: auto; /* 笘��笘� 譬ｸ蠢�3: 蠖灘�螳ｹ雜��螳ｹ蝎ｨ鬮伜ｺｦ譌ｶ�瑚�蜉ｨ譏ｾ遉ｺ蝙ら峩貊壼勘譚｡��*/

  padding: 20px;
  display: flex;
  flex-direction: column;
  gap: 20px;
}
/* 笘��笘� 菫ｮ謾ｹ扈捺據 笘��笘� */

.dating-scene-card {
  width: 100%;
  background-color: var(--secondary-bg);
  border-radius: 12px;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
  overflow: hidden;
  position: relative;
  transition: transform 0.3s ease, opacity 0.3s ease;

  /* 菫晄戟蜊｡迚��驛ｨ荳ｺ蝙ら峩flex蟶�ｱ�檎｡ｮ菫晏崟迚�惠荳奇ｼ梧枚蟄怜惠荳� */
  display: flex;
  flex-direction: column;
  flex-shrink: 0; /* 髦ｲ豁｢蜊｡迚��霄ｫ陲ｫ諢丞､門視郛ｩ */
}

.dating-scene-delete-btn {
  position: absolute;
  top: 10px;
  right: 10px;
  width: 28px;
  height: 28px;
  border-radius: 50%;
  background-color: rgba(0, 0, 0, 0.5);
  color: white;
  border: none;
  font-size: 20px;
  line-height: 28px;
  text-align: center;
  cursor: pointer;
  z-index: 5;
  opacity: 0;
  transition: background-color 0.2s;
}
.dating-scene-card:hover .dating-scene-delete-btn {
  opacity: 1;
}
.dating-scene-delete-btn:hover {
  background-color: #ff3b30;
}

.dating-scene-image-container {
  width: 100%;
  aspect-ratio: 16 / 10;
  background-color: #e9ecef;
  display: flex;
  justify-content: center;
  align-items: center;
  color: var(--text-secondary);
  font-size: 14px;
  flex-shrink: 0;
}
#phone-screen.dark-mode .dating-scene-image-container {
  background-color: #2c2c2e;
}

.dating-scene-image-container .loading-spinner {
  width: 30px;
  height: 30px;
  border: 3px solid rgba(0, 0, 0, 0.1);
  border-top-color: var(--accent-color);
  border-radius: 50%;
  animation: spin 1s linear infinite;
}

.dating-scene-image-container img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.dating-scene-info {
  padding: 15px;
  text-align: center;
  flex-shrink: 0; /* 髦ｲ豁｢譁�ｭ怜玄蝓溯｢ｫ蜴狗ｼｩ */
}

.dating-scene-info .name {
  font-size: 18px;
  font-weight: 600;
  color: var(--text-primary);
}

.dating-scene-info .cost {
  font-size: 16px;
  color: #ff5722;
  font-weight: bold;
  margin-top: 8px;
}
/* 笆ｲ笆ｲ笆ｲ 譬ｷ蠑冗ｻ捺據 笆ｲ笆ｲ笆ｲ */
/* 笆ｼ笆ｼ笆ｼ 縲仙�譁ｰ縲大滄蝶蛻苓｡ｨ鬘ｹ鄒主喧譬ｷ蠑� 笆ｼ笆ｼ笆ｼ */
#borrow-money-char-list .character-select-item {
  gap: 12px; /* 蝨ｨ螟ｴ蜒丞柱蜷榊ｭ嶺ｹ矩龍蠅槫刈荳莠幃龍霍� */
}
/* 笆ｲ笆ｲ笆ｲ 譁ｰ蠅曚SS扈捺據 笆ｲ笆ｲ笆ｲ */
/* 笆ｼ笆ｼ笆ｼ 縲仙�譁ｰ縲大滓擅蜊｡迚��ｷ蠑� 笆ｼ笆ｼ笆ｼ */
.message-bubble.is-borrow-request .content {
  padding: 0;
  background: transparent;
  box-shadow: none;
  border: none;
}

.borrow-card {
  width: 220px;
  border-radius: 12px;
  background: linear-gradient(135deg, #e0c3fc, #8ec5fc); /* 貂ｩ譟皮噪邏ｫ闢晁牡貂仙序 */
  color: white;
  padding: 15px;
  box-shadow: 0 4px 12px rgba(142, 197, 252, 0.4);
  position: relative;
  overflow: hidden;
}
.borrow-card::before {
  content: '�頂'; /* 鬟樣蝶逧Еmoji菴應ｸｺ陬�･ｰ */
  position: absolute;
  top: -5px;
  right: 10px;
  font-size: 32px;
  opacity: 0.15;
  transform: rotate(15deg);
}

.borrow-card .borrow-header {
  display: flex;
  align-items: center;
  gap: 8px;
  font-size: 16px;
  font-weight: 600;
  margin-bottom: 10px;
  padding-bottom: 8px;
  border-bottom: 1px solid rgba(255, 255, 255, 0.3);
}
.borrow-card .borrow-header span {
  color: #4a00e0; /* 豺ｱ邏ｫ濶ｲ遯∝�蛟滄蝶蟇ｹ雎｡ */
  text-shadow: 0 0 5px rgba(255, 255, 255, 0.5);
}

.borrow-card .borrow-body .label {
  font-size: 13px;
  opacity: 0.8;
}

.borrow-card .borrow-body .amount {
  font-size: 32px;
  font-weight: 700;
  margin: 4px 0 10px 0;
}

.borrow-card .borrow-body .reason {
  font-size: 12px;
  line-height: 1.5;
  opacity: 0.9;
  padding-top: 8px;
  margin-top: 8px;
  border-top: 1px solid rgba(255, 255, 255, 0.2);
  word-break: break-all;
}
/* 笆ｲ笆ｲ笆ｲ 譁ｰ蠅曚SS扈捺據 笆ｲ笆ｲ笆ｲ */
/* 1. 荳ｻ螳ｹ蝎ｨ (菫晄戟荳榊序) */
#dating-game-screen {
  background-color: #000;
  color: white;
}

/* 2. 閭梧勹蝗ｾ螻� (譛蠎募ｱ�) */
#dating-game-background {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-size: cover;
  background-position: center;
  transition: background-image 0.5s ease-in-out, filter 0.5s ease-in-out;
  filter: blur(3px) brightness(0.8);
  transform: scale(1.05);
  z-index: 1; /* 笘��笘� 譬ｸ蠢�ｿｮ謾ｹ�壽�遑ｮ謖�ｮ壼ｱらｺｧ荳ｺ 1 笘��笘� */
}

/* 4. UI螻� (譛鬘ｶ螻�) */
.dating-game-ui-overlay {
  position: relative; /* 逶ｸ蟇ｹ螳壻ｽ搾ｼ悟屏荳ｺ螳�怙隕∬�辟ｶ蝨ｰ謗貞惠譛荳雁ｱ� */
  width: 100%;
  height: 100%;
  display: flex;
  flex-direction: column;
  justify-content: flex-end; /* 蟆��螳ｹ謗ｨ蛻ｰ蠎暮Κ */
  padding-bottom: calc(env(safe-area-inset-bottom) + 15px);
  box-sizing: border-box;
  z-index: 3; /* 笘��笘� 譬ｸ蠢�ｿｮ謾ｹ�壽�遑ｮ謖�ｮ壼ｱらｺｧ荳ｺ 3�梧ｯ皮ｫ狗ｻ倬ｫ假ｼ檎｡ｮ菫晏ｮ�ｰｸ霑懷惠譛荳企擇�� 笘��笘� */
}
#dating-game-screen .header {
  position: absolute;
  top: 0;
  width: 100%;
  box-sizing: border-box;
  background-color: rgba(0, 0, 0, 0.3);
  backdrop-filter: blur(5px);
  -webkit-backdrop-filter: blur(5px);
  border-bottom: 1px solid rgba(255, 255, 255, 0.2);
  color: white;
}
#dating-game-screen .header .back-btn {
  color: white;
}

/* --- 笆ｼ笆ｼ笆ｼ 霑咎㈹譏ｯ譛ｬ谺｡菫ｮ謾ｹ逧��ｸ蠢�玄蝓� 笆ｼ笆ｼ笆ｼ --- */

.dating-game-textbox {
  display: flex; /* 1. 謾ｹ荳ｺFlex蟶�ｱ */
  flex-direction: column;
  justify-content: space-between; /* 2. 隶ｩ蜀�ｮｹ蜥梧署遉ｺ蛻�ｼ */
  background-color: rgba(0, 0, 0, 0.75);
  padding: 15px 20px;
  margin: 0 15px 15px 15px;
  border-radius: 12px;
  border: 1px solid rgba(255, 255, 255, 0.1);
  min-height: 120px; /* 3. 隶ｾ鄂ｮ荳荳ｪ蝗ｺ螳夂噪譛蟆城ｫ伜ｺｦ */
  transition: opacity 0.5s, transform 0.5s;
  cursor: pointer;
  /* 4. 遘ｻ髯､ overflow: auto�檎ｦ∵ｭ｢蜈ｶ閾ｪ霄ｫ貊壼勘 */
}

/* --- 笆ｼ笆ｼ笆ｼ 蝨ｨ .dating-game-textbox 隗��荵句錘�檎ｲ倩ｴｴ荳矩擇霑呎ｮｵ譁ｰ莉｣遐� 笆ｼ笆ｼ笆ｼ --- */

/* 譁�悽蜀�ｮｹ逧�ｮｹ蝎ｨ�梧�莉ｬ扈吝ｮ�ｸ荳ｪ豺｡蜈･豺｡蜃ｺ逧�勘逕ｻ */
.dating-game-textbox #dating-game-text-content {
  transition: opacity 0.2s ease-in-out;
}
/* 蠖灘唱蟄仙�謐｢譌ｶ�悟�隶ｩ譌ｧ蜿･蟄先ｷ｡蜃ｺ */
.dating-game-textbox #dating-game-text-content.fade-out {
  opacity: 0;
}

/* 窶懃せ蜃ｻ扈ｧ扈ｭ窶晉噪謠千､ｺ */
.dating-game-textbox .continue-indicator {
  display: block;
  text-align: right;
  margin-top: 10px;
  font-size: 14px;
  color: #888;
  animation: pulse-indicator 1.5s infinite;
}
@keyframes pulse-indicator {
  0%,
  100% {
    opacity: 1;
  }
  50% {
    opacity: 0.5;
  }
}

/* --- 笆ｲ笆ｲ笆ｲ 譁ｰ蠅樔ｻ｣遐∫ｻ捺據 笆ｲ笆ｲ笆ｲ --- */

.dating-game-choices {
  display: flex;
  flex-direction: column;
  gap: 10px;
  padding: 0 15px;
  margin-bottom: 15px;
}

.dating-game-choice-btn {
  width: 100%;
  padding: 15px;
  background-color: rgba(255, 255, 255, 0.2);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
  border-radius: 25px;
  font-size: 15px;
  font-weight: 500;
  cursor: pointer;
  backdrop-filter: blur(5px);
  -webkit-backdrop-filter: blur(5px);
  transition: background-color 0.2s, transform 0.1s;
}

.dating-game-choice-btn.input-action {
  background-color: rgba(0, 123, 255, 0.4);
  border-color: rgba(0, 123, 255, 0.6);
}

.dating-game-choice-btn:hover {
  background-color: rgba(255, 255, 255, 0.4);
}
.dating-game-choice-btn:active {
  transform: scale(0.98);
}
/* 笆ｲ笆ｲ笆ｲ 譁ｰ譬ｷ蠑冗ｲ倩ｴｴ扈捺據 笆ｲ笆ｲ笆ｲ */
/* 笆ｼ笆ｼ笆ｼ 縲仙�譁ｰ縲醍ｺｦ莨壼､ｧ菴懈�-譁�ｸｸ逡碁擇UI蠅槫ｼｺ譬ｷ蠑� 笆ｼ笆ｼ笆ｼ */

/* 1. 荳ｺ譁�ｸｸ逡碁擇鬘ｶ驛ｨ譬乗ｷｻ蜉�謖蛾聴螳ｹ蝎ｨ (霑呎ｮｵ莉｣遐∝ｷｲ蛹�性蝨ｨ豁･鬪､1荳ｭ�悟ｦよ棡蟾ｲ豺ｻ蜉�蜿ｯ蠢ｽ逡･) */
#dating-game-screen .header {
  justify-content: space-between;
}

/* 3. 遶狗ｻ伜ｱ� (荳ｭ髣ｴ螻�) */
#dating-game-sprite-container {
  position: absolute;
  bottom: 0;
  left: 50%;
  transform: translateX(-50%);
  width: 80%;
  height: auto;
  max-height: 80%;
  pointer-events: none;
  transition: all 0.5s ease-in-out;
  z-index: 2; /* 笘��笘� 譬ｸ蠢�ｿｮ謾ｹ�壽�遑ｮ謖�ｮ壼ｱらｺｧ荳ｺ 2�梧ｯ碑レ譎ｯ鬮� 笘��笘� */
}
#dating-game-sprite-container img {
  width: 100%;
  height: 100%;
  object-fit: contain;
  filter: drop-shadow(0 4px 8px rgba(0, 0, 0, 0.5));
}

/* 3. 隶ｾ鄂ｮ蠑ｹ遯玲�ｷ蠑� */
#dating-game-settings-modal .modal-content {
  height: 85%;
}
#dating-game-settings-modal .form-group {
  margin-bottom: 15px;
}
#dating-game-settings-modal hr {
  margin: 15px 0;
}
#dating-game-settings-modal .modal-body {
  padding-bottom: 15px;
}

/* 4. 遶狗ｻ伜ｮ壻ｽ肴而蛻ｶ逧��ｷ蠑� */
.position-controls {
  display: flex;
  gap: 10px;
  align-items: center;
}
.position-controls label {
  flex-shrink: 0;
}
.position-controls input[type='range'] {
  flex-grow: 1;
}

/* 笆ｲ笆ｲ笆ｲ 譬ｷ蠑冗ｲ倩ｴｴ扈捺據 笆ｲ笆ｲ笆ｲ */
/* 笆ｼ笆ｼ笆ｼ 縲仙�譁ｰ縲題ｿ呎弍荳ｺ窶懃ｫ狗ｻ倬｢�ｮｾ窶晏粥閭ｽ譁ｰ蠅樒噪謇譛韻SS譬ｷ蠑� 笆ｼ笆ｼ笆ｼ */

/* --- 遶狗ｻ倡ｻ�ｼ冶ｾ大勣 --- */
.sprite-edit-card {
  background-color: #f9f9f9;
  border-radius: 8px;
  padding: 12px;
  border: 1px solid var(--border-color);
  position: relative;
  display: flex;
  gap: 15px;
  align-items: flex-start;
}
#phone-screen.dark-mode .sprite-edit-card {
  background-color: #2c2c2e;
}

.sprite-edit-card .preview-container {
  width: 80px;
  height: 120px;
  background-color: #e9ecef;
  border-radius: 6px;
  border: 1px dashed #ccc;
  background-size: contain;
  background-position: center;
  background-repeat: no-repeat;
  flex-shrink: 0;
}
#phone-screen.dark-mode .sprite-edit-card .preview-container {
  background-color: #3a3a3c;
  border-color: #555;
}

.sprite-edit-card .fields-container {
  display: flex;
  flex-direction: column;
  gap: 10px;
  flex-grow: 1;
}
.sprite-edit-card textarea {
  min-height: 50px;
  resize: vertical;
}

.sprite-edit-card .delete-sprite-btn {
  position: absolute;
  top: -8px;
  right: -8px;
  width: 24px;
  height: 24px;
  background-color: #ff3b30;
  color: white;
  border: none;
  border-radius: 50%;
  font-size: 16px;
  line-height: 24px;
  text-align: center;
  cursor: pointer;
}

/* --- 遶狗ｻ倡ｻ�ｮ｡逅��陦ｨ --- */
.sprite-group-list-item {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 12px 15px;
  border-bottom: 1px solid var(--border-color);
}
.sprite-group-list-item:hover {
  background-color: #f5f5f5;
}
#phone-screen.dark-mode .sprite-group-list-item:hover {
  background-color: #2c2c2e;
}
.sprite-group-list-item .group-name {
  font-weight: 500;
}
.sprite-group-list-item .group-actions button {
  margin-left: 8px;
  padding: 5px 10px;
  font-size: 13px;
}
/* 笆ｲ笆ｲ笆ｲ 譁ｰ蠅曚SS扈捺據 笆ｲ笆ｲ笆ｲ */
/* 笆ｼ笆ｼ笆ｼ 縲仙�譁ｰ縲醍ｺｦ莨壼､ｧ菴懈�-遶狗ｻ伜ｮ壻ｽ肴而蛻ｶ譬ｷ蠑� 笆ｼ笆ｼ笆ｼ */

/* 霑呎弍蛹�｣ｹ豈丈ｸｪ貊大摎�域��ｭｾ+貊大摎譛ｬ霄ｫ�臥噪螳ｹ蝎ｨ */
.sprite-edit-card .position-controls {
  display: flex;
  align-items: center;
  gap: 10px; /* 譬�ｭｾ蜥梧ｻ大摎逧�龍霍� */
  margin-top: 8px;
}

/* 霑呎弍窶弭 菴咲ｽｮ窶昴≫弸 菴咲ｽｮ窶昴≫懷､ｧ蟆鞘晁ｿ吩ｺ帶枚蟄玲��ｭｾ逧��ｷ蠑� */
.sprite-edit-card .position-controls label {
  flex-shrink: 0; /* 髦ｲ豁｢譬�ｭｾ譁�ｭ苓｢ｫ蜴狗ｼｩ謐｢陦� */
  width: 90px; /* 扈吩ｸ荳ｪ蝗ｺ螳夂噪螳ｽ蠎ｦ�瑚ｮｩ謇譛画ｻ大摎閭ｽ蟾ｦ蟇ｹ鮨� */
  font-size: 13px;
  color: var(--text-secondary);
}

/* 霑呎弍貊大摎譌∬ｾｹ逧�ｮ樊慮謨ｰ蛟ｼ譏ｾ遉ｺ逧��ｷ蠑� */
.sprite-edit-card .position-controls .pos-value {
  font-weight: 500;
  color: var(--text-primary);
}

/* 霑呎弍貊大摎譛ｬ霄ｫ逧��ｷ蠑� */
.sprite-edit-card .position-controls input[type='range'] {
  flex-grow: 1; /* 隶ｩ貊大摎蜊�謐ｮ謇譛牙黄菴咏ｩｺ髣ｴ */
  width: 100%; /* 遑ｮ菫晏ｮ��謦第ｻ｡ */
}

/* 笆ｲ笆ｲ笆ｲ 譁ｰ譬ｷ蠑冗ｲ倩ｴｴ扈捺據 笆ｲ笆ｲ笆ｲ */
/* 笆ｼ笆ｼ笆ｼ 縲仙�譁ｰ縲題ｿ呎弍郤ｦ莨壼惻譎ｯ荳灘ｱ樒噪窶懷･ｽ諢溷ｺｦ窶晏柱窶懈ｬｲ譛帛ｼ窶晏ｿ�ｽ｢UI譬ｷ蠑� 笆ｼ笆ｼ笆ｼ */

/* 笆ｼ笆ｼ笆ｼ 縲千峡螳ｶ螳壼宛縲題ｿ呎弍荳ｺ菴�菫ｮ謾ｹ蜷守噪窶懷ｷｦ荳願ｧ停晉沿譛ｬ 笆ｼ笆ｼ笆ｼ */

/* 霑呎弍蛹�｣ｹ荳､荳ｪ謨ｰ蛟ｼ譚｡逧�ｻ螳ｹ蝎ｨ */
#dating-values-container {
  position: absolute;

  /* 笆ｼ笆ｼ笆ｼ 譬ｸ蠢�ｿｮ謾ｹ1�夊ｰ�紛蝙ら峩菴咲ｽｮ�梧滑螳��遑ｮ蝨ｰ謾ｾ蛻ｰHeader荳区婿 笆ｼ笆ｼ笆ｼ */
  /* 菴�逧Зeader鬮伜ｺｦ譏ｯ110px�梧�莉ｬ蜀榊刈10px逧�龍霍晢ｼ梧園莉･隶ｾ鄂ｮ荳ｺ120px */
  top: 120px;

  /* 笆ｼ笆ｼ笆ｼ 譬ｸ蠢�ｿｮ謾ｹ2�夊ｰ�紛豌ｴ蟷ｳ菴咲ｽｮ�御ｻ主承霎ｹ遘ｻ蜉ｨ蛻ｰ蟾ｦ霎ｹ 笆ｼ笆ｼ笆ｼ */
  left: 15px; /* 蜴滓擂譏ｯ right: 15px; */

  z-index: 5;
  display: none;
  flex-direction: column;
  gap: 8px;

  /* 笆ｼ笆ｼ笆ｼ 譬ｸ蠢�ｿｮ謾ｹ3�夊ｮｩ蜀�Κ蜈�ｴ�髱�蟾ｦ蟇ｹ鮨撰ｼ梧峩螂ｽ逵� 笆ｼ笆ｼ笆ｼ */
  align-items: flex-start; /* 蜴滓擂譏ｯ align-items: flex-end; */
}
/* 笆ｲ笆ｲ笆ｲ 譖ｿ謐｢扈捺據 笆ｲ笆ｲ笆ｲ */

/* 霑呎弍豈丈ｸ陦梧焚蛟ｼ譚｡�井ｾ句ｦや懈ｵｪ貍ｫ蛟ｼ窶晞ぅ荳陦鯉ｼ臥噪譬ｷ蠑� */
.value-display {
  display: flex;
  align-items: center;
  gap: 4px; /* 蠢�ｸ主ｿ�ｹ矩龍逧�龍霍� */
  background-color: rgba(0, 0, 0, 0.2); /* 扈吩ｸ荳ｪ蜊企乗�逧�ｷｱ濶ｲ閭梧勹譚ｿ�瑚ｮｩ蠢�ｽ｢譖ｴ遯∝� */
  padding: 4px 8px;
  border-radius: 12px;
  backdrop-filter: blur(5px);
  -webkit-backdrop-filter: blur(5px);
}

/* 霑呎弍蜊穂ｸｪ蠢�ｽ｢蝗ｾ譬�噪譬ｷ蠑� */
.value-display svg {
  width: 20px;
  height: 20px;
  stroke-width: 1.5; /* 謠剰ｾｹ螳ｽ蠎ｦ */
  transition: all 0.3s ease-in-out; /* 荳ｺ蝪ｫ蜈�柱鬚懆牡蜿伜喧豺ｻ蜉�蜉ｨ逕ｻ */
}

/* 霑呎弍窶懈ｵｪ貍ｫ蛟ｼ窶晏崟譬�噪鬚懆牡 */
#romance-value svg {
  color: #ff8fab; /* 蜿ｯ辷ｱ逧�ｲ臥ｺ｢濶ｲ */
  stroke: #ffc2d1; /* 謠剰ｾｹ逕ｨ譖ｴ豺｡逧�ｲ芽牡 */
}
/* 霑呎弍窶懈ｧ谺ｲ蛟ｼ窶晏崟譬�噪鬚懆牡 */
#lust-value svg {
  color: #ffde59; /* 隸ｱ莠ｺ逧�≡鮟�牡 */
  stroke: #ffeda6; /* 謠剰ｾｹ逕ｨ譖ｴ豺｡逧�ｻ�牡 */
}

/* 窶懃ｩｺ蠢�晉憾諤�ｼ壼｡ｫ蜈�牡荳ｺ騾乗� */
.value-display svg .heart-fill {
  fill: transparent;
}
/* 窶懷ｮ槫ｿ�晉憾諤�ｼ壼｡ｫ蜈�牡荳ｺ蝗ｾ譬�噪鬚懆牡 */
.value-display svg.filled .heart-fill {
  fill: currentColor;
}
/* 笆ｲ笆ｲ笆ｲ 譁ｰ蠅曚SS譬ｷ蠑冗ｻ捺據 笆ｲ笆ｲ笆ｲ */
/* 笆ｼ笆ｼ笆ｼ 縲仙�譁ｰ縲醍ｺｦ莨壼ｮ梧�蠎ｦ霑帛ｺｦ譚｡譬ｷ蠑� 笆ｼ笆ｼ笆ｼ */

/* 笆ｼ笆ｼ笆ｼ 霑呎弍荳ｺ菴�菫ｮ螟榊錘逧�ｿ帛ｺｦ譚｡譬ｷ蠑� 笆ｼ笆ｼ笆ｼ */

/* 霑呎弍霑帛ｺｦ譚｡逧�ｮｹ蝎ｨ (蟾ｲ遘ｻ閾ｳ蠎暮Κ) */
#dating-completion-bar-container {
  position: absolute;
  bottom: calc(20px + env(safe-area-inset-bottom));

  /* 蜈ｶ莉匁�ｷ蠑丈ｿ晄戟荳榊序 */
  left: 15px;
  right: 15px;
  height: 18px;
  background-color: rgba(0, 0, 0, 0.3);
  border-radius: 9px;
  border: 1px solid rgba(255, 255, 255, 0.2);
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.2) inset;
  overflow: hidden;
  z-index: 4;
  display: none;
  transition: width 0.5s ease-in-out;
}
/* 笆ｲ笆ｲ笆ｲ 譖ｿ謐｢扈捺據 笆ｲ笆ｲ笆ｲ */

/* 霑帛ｺｦ譚｡逧�｡ｫ蜈�Κ蛻� */
#dating-completion-bar-fill {
  width: 0%; /* 蛻晏ｧ倶ｸｺ0% */
  height: 100%;
  /* 菴ｿ逕ｨ荳荳ｪ貍ゆｺｮ逧�ｲ芽牡貂仙序菴應ｸｺ蝪ｫ蜈�牡 */
  background: linear-gradient(90deg, #ff8fab, #fb6f92);
  border-radius: 9px;
  transition: width 0.5s cubic-bezier(0.4, 0, 0.2, 1); /* 蟷ｳ貊醍噪螳ｽ蠎ｦ蜿伜喧蜉ｨ逕ｻ */
}

/* 霑帛ｺｦ譚｡荳顔噪逋ｾ蛻�ｯ疲枚蟄� */
#dating-completion-text {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  font-size: 12px;
  color: white;
  font-weight: bold;
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.6); /* 譁�ｭ鈴亢蠖ｱ�檎｡ｮ菫晄ｸ�匆 */
}

/* 笆ｲ笆ｲ笆ｲ 譁ｰ蠅曚SS扈捺據 笆ｲ笆ｲ笆ｲ */
/* 笆ｼ笆ｼ笆ｼ 縲仙�譁ｰ縲醍ｺｦ莨夂ｻ鍋ｮ怜今迚��ｷ蠑� 笆ｼ笆ｼ笆ｼ */

#dating-summary-overlay {
  background-color: rgba(0, 0, 0, 0.7);
  backdrop-filter: blur(8px);
  -webkit-backdrop-filter: blur(8px);
}

.dating-summary-card {
  background-color: transparent;
  width: 320px;
  height: 500px;
  perspective: 1000px; /* 荳ｺ3D鄙ｻ霓ｬ謨域棡隶ｾ鄂ｮ騾剰ｧ� */
}

.dating-summary-card-inner {
  position: relative;
  width: 100%;
  height: 100%;
  text-align: center;
  transition: transform 0.6s;
  transform-style: preserve-3d;
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);
  border-radius: 20px;
}

/* 蠖灘今迚�｢ｫ鄙ｻ霓ｬ譌ｶ */
.dating-summary-card.is-flipped .dating-summary-card-inner {
  transform: rotateY(180deg);
}

/* 蜊｡迚�噪豁｣髱｢蜥瑚レ髱｢ */
.card-front,
.card-back {
  position: absolute;
  width: 100%;
  height: 100%;
  -webkit-backface-visibility: hidden; /* Safari */
  backface-visibility: hidden;
  border-radius: 20px;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 20px;
  box-sizing: border-box;
}

/* 豁｣髱｢譬ｷ蠑� */
.card-front {
  color: white;
  background: linear-gradient(135deg, #a8b2c5, #8e9eab); /* 譛溷ｾ�ｹ句､懃噪鮟倩ｮ､轣ｰ濶ｲ貂仙序 */
  transition: background 0.3s;
}

/* 荳榊酔隸�ｺｧ逧�レ譎ｯ鬚懆牡 */
.card-front.romantic {
  background: linear-gradient(135deg, #ff8fab, #fb6f92); /* 邊芽牡貂仙序 */
}
.card-front.passionate {
  background: linear-gradient(135deg, #fff9c4, #fff176); /* 蜈ｨ譁ｰ菫ｮ謾ｹ�夊ｿ呎弍荳荳ｪ髱槫ｸｸ貍ゆｺｮ逧�ｷ｡鮟�牡貂仙序 */
}

/* 笆ｼ笆ｼ笆ｼ 霑呎弍荳ｺ菴�螳壼宛逧�懷ｮ檎ｾ惹ｹ句､懌晁眠陦｣闕芽牡�瑚ｯｷ逕ｨ螳�崛謐｢譌ｧ逧� .card-front.perfect 譬ｷ蠑� 笆ｼ笆ｼ笆ｼ */
.card-front.perfect {
  /* 譬ｸ蠢�ｿｮ謾ｹ�夊ｿ咎㈹菴ｿ逕ｨ莠�ｻ取ｷ｡邏ｫ蛻ｰ逡･豺ｱ邏ｫ濶ｲ逧�ｼ倬寉貂仙序�瑚是騾�蜃ｺ豬ｪ貍ｫ譴ｦ蟷ｻ逧�─隗� */
  background: linear-gradient(135deg, #d1c4e9, #b39ddb);
}

.card-front #summary-card-avatar {
  width: 120px;
  height: 120px;
  border-radius: 50%;
  border: 4px solid rgba(255, 255, 255, 0.8);
  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
  object-fit: cover;
  margin-bottom: 20px;
}

.card-front #summary-card-rating {
  font-size: 28px;
  font-weight: bold;
  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
  margin: 0 0 10px 0;
}

.card-front .summary-card-tip {
  font-size: 14px;
  opacity: 0.8;
  margin-top: auto; /* 蟆�署遉ｺ謗ｨ蛻ｰ蠎暮Κ */
}

.summary-card-actions {
  display: flex;
  gap: 15px;
  width: 100%;
  margin-top: 20px;
}

.summary-card-actions button {
  flex: 1;
  padding: 12px;
  border-radius: 20px;
  border: none;
  font-size: 16px;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.2s;
}

#summary-share-btn {
  background-color: rgba(255, 255, 255, 0.9);
  color: #333;
}
#summary-close-btn {
  background-color: rgba(0, 0, 0, 0.2);
  color: white;
}

/* 閭碁擇譬ｷ蠑� */
.card-back {
  background-color: #f8f9fa;
  color: #333;
  transform: rotateY(180deg);
  justify-content: flex-start; /* 蜀�ｮｹ莉朱｡ｶ驛ｨ蠑蟋� */
}

.card-back-header {
  width: 100%;
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding-bottom: 10px;
  margin-bottom: 10px;
  border-bottom: 1px solid #e0e0e0;
  flex-shrink: 0;
}
.card-back-header span {
  font-weight: 600;
}
.card-back-header button {
  background: none;
  border: none;
  color: var(--accent-color);
  font-size: 16px;
  cursor: pointer;
}

.card-back-content {
  width: 100%;
  flex-grow: 1;
  overflow-y: auto;
  text-align: left;
  line-height: 1.6;
  font-size: 14px;
}
.card-back-content p {
  margin: 0 0 10px 0;
}

/* 閨雁､ｩ隶ｰ蠖暮㈹蛻�ｺｫ蜊｡迚�噪譬ｷ蠑� */
.message-bubble.is-dating-summary .content {
  padding: 0;
  background: transparent;
  box-shadow: none;
  border: none;
}

.dating-summary-chat-card {
  width: 220px;
  height: 120px;
  border-radius: 12px;
  padding: 15px;
  color: white;
  cursor: pointer;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  text-align: center;
  position: relative;
  overflow: hidden;
}
.dating-summary-chat-card::before {
  content: '�猪';
  position: absolute;
  top: -10px;
  left: -10px;
  font-size: 40px;
  opacity: 0.1;
  transform: rotate(-15deg);
}

.dating-summary-chat-card .rating {
  font-size: 20px;
  font-weight: bold;
  text-shadow: 0 1px 3px rgba(0, 0, 0, 0.3);
}

.dating-summary-chat-card .tip {
  font-size: 12px;
  opacity: 0.8;
  margin-top: 8px;
}
/* 笆ｲ笆ｲ笆ｲ 譁ｰ蠅曚SS譬ｷ蠑冗ｻ捺據 笆ｲ笆ｲ笆ｲ */
/* 笆ｼ笆ｼ笆ｼ 謚願ｿ吩ｸ謨ｴ蝮怜�譁ｰ逧ГSS�檎ｲ倩ｴｴ蛻ｰ <style> 逧�忰蟆ｾ 笆ｼ笆ｼ笆ｼ */

/* --- 縲仙�譁ｰ縲醍ｺｦ莨壼紙蜿ｲ隶ｰ蠖募粥閭ｽ譬ｷ蠑� --- */

/* --- 縲仙�譁ｰ | 蟾ｲ菫ｮ螟榊ｸ�ｱ縲醍ｺｦ莨壼紙蜿ｲ隶ｰ蠖募粥閭ｽ譬ｷ蠑� --- */

/* 蜴�彰隶ｰ蠖暮｡ｵ髱｢逧�ｸｻ螳ｹ蝎ｨ�檎鴫蝨ｨ雍溯ｴ｣貊壼勘蜥悟ｸ�ｱ */
#dating-history-list {
  background-color: #f0f2f5; /* 菫晄戟蜴滓怏逧�レ譎ｯ濶ｲ */

  /* 笆ｼ笆ｼ笆ｼ 霑呎弍隗｣蜀ｳ諡･謖､蜥碁㍾蜿�髣ｮ鬚倡噪譬ｸ蠢�ｻ｣遐� 笆ｼ笆ｼ笆ｼ */
  display: flex; /* 1. 菴ｿ逕ｨ Flex 蟶�ｱ�瑚ｮｩ蜊｡迚�ｻｬ蜷ｬ隸晏慍謗貞� */
  flex-direction: column; /* 2. 隶ｾ鄂ｮ荳ｺ蝙ら峩譁ｹ蜷托ｼ御ｻ惹ｸ雁芦荳句��匠 */
  gap: 15px; /* 3. 蝨ｨ豈丞ｼ�蜊｡迚�ｹ矩龍蛻帛ｻｺ 15px 逧�桙逶ｴ髣ｴ霍� */
  padding: 20px 15px; /* 4. 蝨ｨ蛻苓｡ｨ逧�ｸ贋ｸ�(20px)蜥悟ｷｦ蜿ｳ(15px)驛ｽ蜉�荳雁�霎ｹ霍晢ｼ瑚ｮｩ謨ｴ菴謎ｸ肴凶謖､ */
  box-sizing: border-box; /* (謗ｨ闕�) 遑ｮ菫晏�霎ｹ霍昜ｸ堺ｼ壼ｽｱ蜩榊ｸ�ｱ隶｡邂� */

  /* 
       貊壼勘譚｡逧�粥閭ｽ逕ｱ螳�噪辷ｶ螳ｹ蝎ｨ .list-container 謠蝉ｾ幢ｼ�
       謌台ｻｬ蝨ｨ霑咎㈹豁｣遑ｮ蝨ｰ隶ｾ鄂ｮ莠�ｸ�ｱ�檎宛螳ｹ蝎ｨ蟆ｱ閭ｽ豁｣蟶ｸ貊壼勘莠�ｼ�
    */
}

#phone-screen.dark-mode #dating-history-list {
  background-color: #1c1c1e; /* 螟憺龍讓｡蠑冗噪閭梧勹濶ｲ */
}

/* 蜴�彰蛻苓｡ｨ荳ｭ逧�今迚�ｼ梧�莉ｬ隶ｩ螳�峩騾ょ粋蛻苓｡ｨ譏ｾ遉ｺ */
#dating-history-list .dating-summary-card {
  width: 100%; /* 蜊｡迚�ｮｽ蠎ｦ謦第ｻ｡ (菫晄戟荳榊序) */
  height: 180px; /* 扈吩ｸ荳ｪ蝗ｺ螳夂噪鬮伜ｺｦ�瑚ｮｩ蛻苓｡ｨ譖ｴ謨ｴ鮨� (菫晄戟荳榊序) */
  position: relative;
  transform: none;
  left: auto;
  top: auto;
  margin: 0; /* (菫晄戟荳榊序) */

  /* 縲先眠蠅槭鷹亟豁｢蜊｡迚�惠 Flex 蟶�ｱ荳ｭ陲ｫ諢丞､門視郛ｩ蜿伜ｽ｢ */
  flex-shrink: 0;
}

/* 蜴�彰蛻苓｡ｨ荳ｭ逧�今迚�ｼ梧ｭ｣髱｢譬ｷ蠑丞ｾｮ隹� */
#dating-history-list .card-front {
  padding: 15px;
  justify-content: center;
  cursor: pointer; /* 鮠�譬�叛荳雁悉譌ｶ譏ｾ遉ｺ蟆乗焔�梧署遉ｺ蜿ｯ莉･轤ｹ蜃ｻ */
}

#dating-history-list .card-front img {
  width: 70px !important;
  height: 70px !important;
  margin-bottom: 10px !important;
  border-radius: 50% !important;
  border: 3px solid rgba(255, 255, 255, 0.7) !important;
  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2) !important;
}

#dating-history-list .card-front h2 {
  font-size: 22px !important;
  margin: 0 0 5px 0 !important;
}

#dating-history-list .card-front p {
  margin-top: 5px !important;
}

/* 蜴�彰蛻苓｡ｨ荳ｭ逧�今迚�ｼ瑚レ髱｢譬ｷ蠑丞ｾｮ隹� */
#dating-history-list .card-back-header {
  flex-shrink: 0; /* 髦ｲ豁｢螟ｴ驛ｨ陲ｫ蜴狗ｼｩ */
}
#dating-history-list .card-back-content {
  font-family: sans-serif; /* 閭碁擇蜿ｯ莉･逕ｨ譖ｴ譏楢ｯｻ逧�撼陦ｬ郤ｿ蟄嶺ｽ� */
  font-size: 13px;
  line-height: 1.6;
}

/* 笆ｲ笆ｲ笆ｲ 譁ｰ蠅曚SS譬ｷ蠑冗ｻ捺據 笆ｲ笆ｲ笆ｲ */

/* 笆ｼ笆ｼ笆ｼ 縲新4 - 扈域栫菫ｮ螟咲沿縲題ｯｷ逕ｨ霑呎紛蝮嶺ｻ｣遐�ｼ梧崛謐｢謇譛画立逧Тticker逶ｸ蜈ｳ譬ｷ蠑� 笆ｼ笆ｼ笆ｼ */

/* 1. 霑呎弍豈丈ｸｪ陦ｨ諠�噪窶懈�ｼ蟄絶晢ｼ檎鴫蝨ｨ螳�弍荳荳ｪflex螳ｹ蝎ｨ�瑚ｴ溯ｴ｣隶ｩ蝗ｾ迚�柱譁�ｭ怜桙逶ｴ螻�ｸｭ謗貞� */
.sticker-item {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 4px; /* 蝗ｾ迚�柱譁�ｭ嶺ｹ矩龍逧�龍霍� */
  cursor: pointer;
}

/* 笆ｼ笆ｼ笆ｼ 霑呎弍菫ｮ謾ｹ蜷守噪莉｣遐� 笆ｼ笆ｼ笆ｼ */
/* 2. 縲先�ｸ蠢�題ｿ呎弍荳馴葎逕ｨ譚･譏ｾ遉ｺ窶懷崟迚�晉噪div */
.sticker-image {
  width: 100px; /* 笘� 菫ｮ謾ｹ�壻ｻ� 80px 蠅槫､ｧ蛻ｰ 100px */
  height: 100px; /* 笘� 菫ｮ謾ｹ�壻ｻ� 80px 蠅槫､ｧ蛻ｰ 100px */
  position: relative;
  background-size: contain;
  background-repeat: no-repeat;
  background-position: center;
  border-radius: 10px;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.08);
}

/* 3. 霑呎弍謠剰ｿｰ譁�ｭ礼噪譬ｷ蠑� (謾ｯ謖∵怙螟�2陦�) */
.sticker-name {
  font-size: 12px;
  color: var(--text-secondary);
  text-align: center;
  width: 100%;
  line-height: 1.4;
  height: calc(12px * 1.4 * 2); /* 鬚�蕗荳､陦檎噪鬮伜ｺｦ�碁亟豁｢蟶�ｱ霍ｳ蜉ｨ */

  /* 螳樒鴫譛螟壻ｸ､陦檎噪逵∫払蜿ｷ謨域棡 */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-line-clamp: 2;
  overflow: hidden;
  word-break: break-all;
}

/* 4. 蛻�髯､謖蛾聴逧��ｷ蠑擾ｼ檎鴫蝨ｨ螳�噪辷ｶ郤ｧ譏ｯ .sticker-image */
.sticker-image .delete-btn {
  display: none;
  position: absolute;
  top: -5px;
  right: -5px;
  width: 20px;
  height: 20px;
  background-color: #ff3b30;
  color: white;
  border-radius: 50%;
  text-align: center;
  line-height: 20px;
  font-size: 14px;
  cursor: pointer;
  border: 2px solid white;
  z-index: 10;
}

/* 5. 縲仙ｷｲ菫ｮ螟阪鷹画叫讓｡蠑丈ｸ狗噪蜍ｾ騾画��ｮｰ譬ｷ蠑� */
.sticker-image.in-selection-mode::before {
  content: '';
  position: absolute;
  top: 4px;
  right: 4px;
  width: 22px;
  height: 22px;
  border-radius: 50%;
  border: 2px solid rgba(120, 120, 128, 0.4);
  background-color: rgba(255, 255, 255, 0.7);
  backdrop-filter: blur(2px);
  -webkit-backdrop-filter: blur(2px);
  transition: all 0.2s ease-in-out;
  box-sizing: border-box;
}

.sticker-image.selected::before {
  background-color: var(--accent-color);
  border-color: var(--accent-color);
  content: '笨�';
  color: white;
  font-size: 14px;
  font-weight: bold;
  text-align: center;
  line-height: 18px;
}

/* 笆ｲ笆ｲ笆ｲ V4 菫ｮ螟咲沿CSS扈捺據 笆ｲ笆ｲ笆ｲ */
/* 笆ｼ笆ｼ笆ｼ 縲仙�譁ｰ縲題｡ｨ諠�擇譚ｿ蛻�ｱｻ蜉溯�譬ｷ蠑� 笆ｼ笆ｼ笆ｼ */

/* 1. 蛻�ｱｻ鬘ｵ遲ｾ譬丞ｮｹ蝎ｨ */
#sticker-category-tabs {
  flex-shrink: 0;
  padding: 10px 15px;
  border-top: 1px solid var(--border-color);
  display: flex;
  gap: 10px;
  overflow-x: auto;

  /* 髫占酪貊壼勘譚｡�瑚ｮｩ逡碁擇譖ｴ蟷ｲ蜃 */
  scrollbar-width: none;
  -ms-overflow-style: none;
}
#sticker-category-tabs::-webkit-scrollbar {
  display: none;
}

/* 2. 蜊穂ｸｪ蛻�ｱｻ閭ｶ蝗頑潔髓ｮ */
.sticker-category-btn {
  padding: 6px 15px;
  border: 1px solid transparent;
  border-radius: 16px; /* 蝨�ｶｦ逧�Ω蝗雁ｽ｢迥ｶ */
  background-color: #e9ecef;
  color: var(--text-secondary);
  font-size: 14px;
  font-weight: 500;
  cursor: pointer;
  white-space: nowrap; /* 髦ｲ豁｢譁�ｭ玲困陦� */
  transition: all 0.2s ease-in-out;
}

/* 螟憺龍讓｡蠑城る� */
#phone-screen.dark-mode .sticker-category-btn {
  background-color: #3a3a3c;
}

/* 3. 豼豢ｻ迥ｶ諤∫噪閭ｶ蝗頑潔髓ｮ */
.sticker-category-btn.active {
  background-color: var(--accent-color);
  color: white;
  border-color: var(--accent-color);
}

/* 4. 蛻�ｱｻ邂｡逅�ｼｹ遯怜�逧��陦ｨ鬘ｹ */
#sticker-category-list label {
  display: block;
  padding: 10px 12px;
  cursor: pointer;
  border-radius: 6px;
}
#sticker-category-list label input {
  margin-right: 8px;
  vertical-align: middle;
}
#sticker-category-list label:hover {
  background-color: #f0f2f5;
}
#phone-screen.dark-mode #sticker-category-list label:hover {
  background-color: #2c2c2e;
}

/* 5. 郛冶ｾ第ｨ｡蠑丈ｸ句ｺ暮Κ謫堺ｽ懈�冗噪蟶�ｱ */
#sticker-panel-footer {
  display: flex;
  gap: 10px;
}
#sticker-panel-footer button {
  flex: 1; /* 隶ｩ荳､荳ｪ謖蛾聴蟷ｳ蛻�ｮｽ蠎ｦ */
}
/* --- 笆ｼ笆ｼ笆ｼ 蝨ｨ霑咎㈹邊倩ｴｴ荳矩擇逧�眠譬ｷ蠑� 笆ｼ笆ｼ笆ｼ --- */

/* 笆ｼ笆ｼ笆ｼ 逕ｨ霑吝摎縲千ｾ主喧迚医台ｻ｣遐∵崛謐｢譌ｧ逧� .sticker-category-delete-btn 譬ｷ蠑� 笆ｼ笆ｼ笆ｼ */
.sticker-category-delete-btn {
  display: none;
  position: absolute;
  top: -6px;
  right: -6px;
  width: 20px;
  height: 20px;
  /* 笘� 譬ｸ蠢�ｿｮ謾ｹ1�夊レ譎ｯ濶ｲ莉守ｺ｢濶ｲ謾ｹ荳ｺ蜊企乗�逧�ｷｱ轣ｰ濶ｲ�梧峩譛芽ｴｨ諢� */
  background-color: rgba(0, 0, 0, 0.4);
  color: white;
  border-radius: 50%;
  font-size: 14px;
  font-weight: bold;
  line-height: 20px;
  text-align: center;
  cursor: pointer;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.2);
  transition: transform 0.2s ease, background-color 0.2s; /* 豺ｻ蜉�閭梧勹濶ｲ霑�ｸ｡ */
  z-index: 1;
}

/* 笘� 譬ｸ蠢�ｿｮ謾ｹ2�夐ｼ�譬�ぎ蛛懈慮�瑚レ譎ｯ濶ｲ蜉�豺ｱ�瑚御ｸ肴弍蜿倡ｺ｢ */
.sticker-category-delete-btn:hover {
  background-color: rgba(0, 0, 0, 0.6);
  transform: scale(1.1);
}
/* 笆ｲ笆ｲ笆ｲ 譖ｿ謐｢扈捺據 笆ｲ笆ｲ笆ｲ */

/* 笆ｲ笆ｲ笆ｲ 譁ｰ譬ｷ蠑冗ｲ倩ｴｴ扈捺據 笆ｲ笆ｲ笆ｲ */
/* 笆ｼ笆ｼ笆ｼ 縲仙�譁ｰ縲台ｸｺ隗定牡陦ｨ諠�擇譚ｿ蜊慕峡隶ｾ鄂ｮ譖ｴ蟆冗噪蟆ｺ蟇ｸ 笆ｼ笆ｼ笆ｼ */

/* 1. 郛ｩ蟆剰ｧ定牡陦ｨ諠�擇譚ｿ逧�ｽ第�ｼ蜊募�蟆ｺ蟇ｸ */
#char-sticker-manager-screen .sticker-grid {
  grid-template-columns: repeat(auto-fill, minmax(80px, 1fr));
}

/* 2. 郛ｩ蟆剰ｧ定牡陦ｨ諠�擇譚ｿ驥鯉ｼ梧ｯ丈ｸｪ陦ｨ諠�崟迚�ｮｹ蝎ｨ逧�ｰｺ蟇ｸ */
#char-sticker-manager-screen .sticker-image {
  width: 80px;
  height: 80px;
}

/* 笆ｲ笆ｲ笆ｲ 譁ｰ蠅樔ｻ｣遐∫ｻ捺據 笆ｲ笆ｲ笆ｲ */

/* 笆ｼ笆ｼ笆ｼ RealImag螟壼崟蟶�ｱ譬ｷ蠑� 笆ｼ笆ｼ笆ｼ */
/* 螟壼崟螳ｹ蝎ｨ */
.post-images-grid {
  display: grid;
  gap: 8px; /* 蝗ｾ迚�ｹ矩龍逧�崋螳夐龍霍� */
  margin-top: 10px;
}

/* 蜊募ｼ�蝗ｾ迚� - 螟ｧ蝗ｾ�檎ｭ画ｯ比ｾ狗ｼｩ謾ｾ */
.post-images-grid.grid-1 {
  grid-template-columns: 1fr;
  justify-items: start;
}
.post-images-grid.grid-1 .realimag-image,
.post-images-grid.grid-1 .naiimag-image {
  max-width: 280px;
  max-height: 280px;
  width: auto;
  height: auto;
}

/* 2蠑�蝗ｾ迚� - 讓ｪ蜷大ｹｶ謗抵ｼ檎ｭ画ｯ比ｾ狗ｼｩ謾ｾ */
.post-images-grid.grid-2 {
  grid-template-columns: auto auto;
  gap: 5px;
  justify-content: start;
}
.post-images-grid.grid-2 .realimag-image,
.post-images-grid.grid-2 .naiimag-image {
  max-width: 135px;
  max-height: 135px;
  width: auto;
  height: auto;
}

/* 3蠑�蝗ｾ迚� - 讓ｪ蜷第賜蛻暦ｼ檎ｭ画ｯ比ｾ狗ｼｩ謾ｾ */
.post-images-grid.grid-3 {
  grid-template-columns: repeat(3, 1fr);
  gap: 5px;
}
.post-images-grid.grid-3 .realimag-image {
  max-width: 130px;
  max-height: 130px;
  width: auto;
  height: auto;
}

/* 4蠑�蝗ｾ迚� - 2x2譁ｹ譬ｼ�檎ｭ画ｯ比ｾ狗ｼｩ謾ｾ */
.post-images-grid.grid-4 {
  grid-template-columns: repeat(2, 1fr);
  gap: 5px;
}
.post-images-grid.grid-4 .realimag-image {
  max-width: 195px;
  max-height: 195px;
  width: auto;
  height: auto;
}

/* 5蠑�蝗ｾ迚� - 荳�2荳�3�檎ｭ画ｯ比ｾ狗ｼｩ謾ｾ */
.post-images-grid.grid-5 {
  display: grid;
  grid-template-columns: repeat(6, 1fr);
  gap: 5px;
}
.post-images-grid.grid-5 .realimag-image:nth-child(1),
.post-images-grid.grid-5 .realimag-image:nth-child(2) {
  grid-column: span 3;
  max-width: 195px;
  max-height: 195px;
  width: auto;
  height: auto;
}
.post-images-grid.grid-5 .realimag-image:nth-child(n + 3) {
  grid-column: span 2;
  max-width: 130px;
  max-height: 130px;
  width: auto;
  height: auto;
}

/* 6蠑�蝗ｾ迚� - 3x2鄂第�ｼ�檎ｭ画ｯ比ｾ狗ｼｩ謾ｾ */
.post-images-grid.grid-6 {
  grid-template-columns: repeat(3, 1fr);
  gap: 5px;
}
.post-images-grid.grid-6 .realimag-image {
  max-width: 130px;
  max-height: 130px;
  width: auto;
  height: auto;
}

/* 7-9蠑�蝗ｾ迚� - 3x3荵晏ｮｫ譬ｼ�檎ｭ画ｯ比ｾ狗ｼｩ謾ｾ */
.post-images-grid.grid-7,
.post-images-grid.grid-8,
.post-images-grid.grid-9 {
  grid-template-columns: repeat(3, 1fr);
  gap: 5px;
}
.post-images-grid.grid-7 .realimag-image,
.post-images-grid.grid-8 .realimag-image,
.post-images-grid.grid-9 .realimag-image {
  max-width: 130px;
  max-height: 130px;
  width: auto;
  height: auto;
}

/* 蝗ｾ迚�渕遑譬ｷ蠑� - 螳梧紛譏ｾ遉ｺ�檎ｭ画ｯ比ｾ狗ｼｩ謾ｾ�御ｸ崎｣∝岡 */
.post-images-grid .realimag-image,
.post-images-grid .naiimag-image {
  object-fit: contain;
  border-radius: 8px;
  cursor: pointer;
  transition: transform 0.2s;
}
.post-images-grid .realimag-image:hover,
.post-images-grid .naiimag-image:hover {
  transform: scale(1.05);
}
/* 笆ｲ笆ｲ笆ｲ RealImag螟壼崟蟶�ｱ譬ｷ蠑冗ｻ捺據 笆ｲ笆ｲ笆ｲ */
/* --- 譯�ｮ昶懈�逧�晞｡ｵ髱｢莠､譏捺�扈��ｷ蠑丈ｼ伜喧 --- */
.transaction-item {
  /* 蟆�ｸｻ霓ｴ蟇ｹ鮨先婿蠑乗隼荳ｺ螻�ｸｭ�瑚ｮｩ蟾ｦ蜿ｳ荳､霎ｹ閭ｽ蝙ら峩蟇ｹ鮨� */
  align-items: center;
}

.transaction-amount-wrapper {
  display: flex;
  align-items: center;
  gap: 10px; /* 蝨ｨ驥鷹｢晏柱蛻�髯､謖蛾聴荵矩龍蠅槫刈荳轤ｹ髣ｴ霍� */
  margin-left: auto; /* 蜈ｳ髞ｮ�∬ｮｩ霑吩ｸｪ螳ｹ蝎ｨ閾ｪ蜉ｨ謗ｨ蛻ｰ譛蜿ｳ霎ｹ */
}

.delete-transaction-btn {
  background-color: #ffdddd;
  color: #ff3b30;
  border: 1px solid #ffc2d1;
  border-radius: 50%;
  width: 24px;
  height: 24px;
  font-size: 16px;
  font-weight: bold;
  cursor: pointer;
  line-height: 22px; /* 蝙ら峩螻�ｸｭ蜿牙捷 */
  padding: 0;
  flex-shrink: 0; /* 髦ｲ豁｢謖蛾聴陲ｫ謖､蜴句序蠖｢ */
}

.delete-transaction-btn:hover {
  background-color: #ffc2d1;
}
#send-location-btn {
  display: flex !important; /* 遑ｮ菫晄潔髓ｮ譛ｬ霄ｫ譏ｯ蜿ｯ隗∫噪 */
  background-image: url('data:image/svg+xml;utf8,<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path><circle cx="12" cy="10" r="3"></circle></svg>');
  background-size: 60%;
  background-position: center;
  background-repeat: no-repeat;
}
/* 笆ｼ笆ｼ笆ｼ 霑呎弍荳ｺ窶懆｡ｨ諠��邀ｻ蛻�髯､窶晏粥閭ｽ譁ｰ蠅樒噪CSS 笆ｼ笆ｼ笆ｼ */

/* 1. 隶ｩ豈丈ｸｪ蛻�ｱｻ謖蛾聴謌蝉ｸｺ蛻�髯､謖蛾聴逧�ｮ壻ｽ榊盾閠�せ */
.sticker-category-btn {
  position: relative; /* 蜈ｳ髞ｮ��*/
  display: inline-flex; /* 隶ｩ謖蛾聴蜀�Κ逧�枚蟄怜柱蛻�髯､蝗ｾ譬��蟇ｹ鮨� */
  align-items: center;
  padding-right: 10px; /* 荳ｺ蜿ｳ萓ｧ逧�唖髯､謖蛾聴逡吝�荳轤ｹ遨ｺ髣ｴ */
}

/* 2. 郛冶ｾ第ｨ｡蠑丈ｸ具ｼ御ｸｺ蛻�ｱｻ謖蛾聴豺ｻ蜉�荳荳ｪ隗�ｧ画署遉ｺ */
#sticker-panel.selection-mode .sticker-category-btn:not(:first-child):hover {
  background-color: #ffe5e5;
  border-color: #ffc2d1;
}

/* 笆ｼ笆ｼ笆ｼ 逕ｨ霑吝摎縲千ｾ主喧迚医台ｻ｣遐∵崛謐｢譌ｧ逧� .sticker-category-delete-btn 譬ｷ蠑� 笆ｼ笆ｼ笆ｼ */
.sticker-category-delete-btn {
  display: none;
  position: absolute;
  top: -6px;
  right: -6px;
  width: 20px;
  height: 20px;
  /* 笘� 譬ｸ蠢�ｿｮ謾ｹ1�夊レ譎ｯ濶ｲ莉守ｺ｢濶ｲ謾ｹ荳ｺ蜊企乗�逧�ｷｱ轣ｰ濶ｲ�梧峩譛芽ｴｨ諢� */
  background-color: rgba(0, 0, 0, 0.4);
  color: white;
  border-radius: 50%;
  font-size: 14px;
  font-weight: bold;
  line-height: 20px;
  text-align: center;
  cursor: pointer;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.2);
  transition: transform 0.2s ease, background-color 0.2s; /* 豺ｻ蜉�閭梧勹濶ｲ霑�ｸ｡ */
  z-index: 1;
}

/* 笘� 譬ｸ蠢�ｿｮ謾ｹ2�夐ｼ�譬�ぎ蛛懈慮�瑚レ譎ｯ濶ｲ蜉�豺ｱ�瑚御ｸ肴弍蜿倡ｺ｢ */
.sticker-category-delete-btn:hover {
  background-color: rgba(0, 0, 0, 0.6);
  transform: scale(1.1);
}
/* 笆ｲ笆ｲ笆ｲ 譖ｿ謐｢扈捺據 笆ｲ笆ｲ笆ｲ */

/* 4. 縲先�ｸ蠢�大ｽ楢｡ｨ諠�擇譚ｿ螟�ｺ守ｼ冶ｾ第ｨ｡蠑乗慮�梧燕譏ｾ遉ｺ蛻�髯､謖蛾聴 */
#sticker-panel.selection-mode .sticker-category-btn:not(:first-child) .sticker-category-delete-btn {
  display: block; /* 蝨ｨ郛冶ｾ第ｨ｡蠑丈ｸ区仞遉ｺ */
}

/* 笆ｲ笆ｲ笆ｲ 譁ｰ蠅曚SS扈捺據 笆ｲ笆ｲ笆ｲ */
/* 1. 莠ｲ蟇�ｮｰ蠖墓潔髓ｮ 笨ｨ */
.intimacy-panel-btn {
  font-size: 14px; /* 蝗ｾ譬�､ｧ蟆� */
  margin-left: 6px; /* 蜥檎↓闃ｱ蝗ｾ譬�噪髣ｴ霍� */
  cursor: pointer;
  opacity: 0.7;
  transition: all 0.2s ease;
  vertical-align: middle; /* 遑ｮ菫晏柱轣ｫ闃ｱ蝗ｾ譬�桙逶ｴ蟇ｹ鮨� */
  display: inline-block; /* 蜈∬ｮｸ transform */
}
.intimacy-panel-btn:hover {
  opacity: 1;
  transform: scale(1.3) rotate(20deg); /* 謔ｬ豬ｮ譌ｶ謾ｾ螟ｧ蟷ｶ譌玖ｽｬ�悟｢槫刈雜｣蜻ｳ諤ｧ */
}

/* 2. 莠ｲ蟇�ｮｰ蠖暮擇譚ｿ謨ｴ菴� */
#intimacy-panel .modal-body {
  display: flex;
  flex-direction: column;
  gap: 20px; /* 蜷�ｸｪ蛹ｺ蝮嶺ｹ矩龍逧�龍霍� */
  padding: 15px 20px;
}

/* 3. 髱｢譚ｿ蜀�噪蜷�ｸｪ蛹ｺ蝮� */
.intimacy-summary {
  text-align: center;
  padding: 10px 0;
  border-bottom: 1px solid var(--border-color);
}
.intimacy-summary h3 {
  margin: 0 0 5px 0;
  color: var(--accent-color); /* 菴ｿ逕ｨ菴�逧�ｸｻ鬚倩牡 */
  font-size: 24px;
}
.intimacy-summary p {
  margin: 0;
  color: var(--text-secondary);
  font-size: 14px;
}
.intimacy-section h4 {
  margin-bottom: 15px;
  border-left: 4px solid var(--accent-color);
  padding-left: 10px;
  font-size: 16px;
}

/* 4. 豈乗律莠貞勘隶ｰ蠖募�陦ｨ */
#intimacy-daily-log {
  background-color: var(--secondary-bg);
  border-radius: 8px;
}
#intimacy-daily-log .log-item {
  display: flex;
  justify-content: space-between;
  padding: 10px 15px;
  font-size: 14px;
  border-bottom: 1px solid var(--border-color);
}
#intimacy-daily-log .log-item:last-child {
  border-bottom: none;
}
#intimacy-daily-log .date {
  color: var(--text-secondary);
}
#intimacy-daily-log .count {
  font-weight: 500;
}

/* 5. 謌仙ｰｱ蠕ｽ遶�鄂第�ｼ */
.achievements-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(65px, 1fr));
  gap: 20px;
  text-align: center;
}
.achievement-item {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 5px;
}
.achievement-item .icon {
  font-size: 36px;
  line-height: 1;
}
.achievement-item .name {
  font-size: 12px;
  color: var(--text-secondary);
}
/* 扈呎悴闔ｷ蠕礼噪謌仙ｰｱ荳荳ｪ鄂ｮ轣ｰ謨域棡 */
.achievement-item.locked {
  opacity: 0.3;
  filter: grayscale(1);
}
/* 笆ｼ笆ｼ笆ｼ 縲仙�譁ｰ縲台ｺｲ蟇�ｼ邉ｻ扈溽嶌蜈ｳCSS譬ｷ蠑� 笆ｼ笆ｼ笆ｼ */

/* 閨雁､ｩ蛻苓｡ｨ驥檎噪莠ｲ蟇�ｼ謖蛾聴 */
.intimacy-btn {
  font-size: 14px; /* 蝗ｾ譬�､ｧ蟆� */
  margin-left: 8px; /* 蜥檎↓闃ｱ蝗ｾ譬�級蠑荳轤ｹ霍晉ｦｻ */
  cursor: pointer;
  transition: transform 0.2s ease;
  filter: grayscale(0.5); /* 鮟倩ｮ､譏ｯ轣ｰ濶ｲ�檎恚襍ｷ譚･荳咲ｪ∝� */
}
.intimacy-btn:hover {
  transform: scale(1.2);
  filter: grayscale(0); /* 謔ｬ豬ｮ譌ｶ蜿伜ｽｩ濶ｲ */
}

/* 莠ｲ蟇�ｼ髱｢譚ｿ謨ｴ菴捺�ｷ蠑� */
#intimacy-panel .modal-content {
  background-color: #f7f3f8; /* 貂ｩ譟皮噪豺｡邏ｫ濶ｲ閭梧勹 */
  background-image: linear-gradient(180deg, rgba(255, 255, 255, 0.3) 0%, rgba(255, 255, 255, 0) 100%);
  border: 1px solid #e1dbe6;
  max-width: 340px;
  width: 90%;
  height: auto;
  max-height: 85vh;
}
#intimacy-panel .modal-header span {
  font-weight: 600;
  color: #6a4c95;
}
#intimacy-panel .modal-body {
  display: flex;
  flex-direction: column;
  gap: 15px;
}
#intimacy-panel hr {
  width: 100%;
  border: none;
  border-top: 1px solid #e1dbe6;
  margin: 5px 0;
}
#intimacy-panel h3 {
  font-size: 16px;
  color: #6a4c95;
  margin: 0 0 10px 0;
  border-left: 3px solid #8e6ac5;
  padding-left: 8px;
}

/* 莠ｲ蟇�ｼ蛻�焚譏ｾ遉ｺ蛹ｺ蝓� */
#intimacy-display {
  text-align: center;
  padding: 10px 0;
}
#intimacy-display p {
  margin: 0;
  font-size: 14px;
  color: #8a8a8a;
}
#intimacy-score-display {
  font-size: 48px;
  font-weight: 700;
  color: #ff69b4; /* 豬ｪ貍ｫ逧�ｲ臥ｺ｢濶ｲ */
  text-shadow: 0 2px 8px rgba(255, 105, 180, 0.4);
  margin: 5px 0;
}

/* 隸ｦ扈�焚謐ｮ螻慕､ｺ蛹ｺ蝓� */
#intimacy-details {
  display: flex;
  flex-direction: column;
  gap: 8px;
  font-size: 14px;
}
.detail-item {
  display: flex;
  justify-content: space-between;
  align-items: center;
  background-color: rgba(255, 255, 255, 0.5);
  padding: 8px 12px;
  border-radius: 8px;
}
.detail-item span:last-child {
  font-weight: 500;
  color: #4a4a4a;
}

/* 蠕ｽ遶�蛻苓｡ｨ蛹ｺ蝓� */
#symbol-list-container {
  display: flex;
  flex-wrap: wrap;
  gap: 15px;
  justify-content: center;
}
.symbol-item {
  display: flex;
  flex-direction: column;
  align-items: center;
  width: 60px;
}
.symbol-icon {
  font-size: 32px;
  width: 50px;
  height: 50px;
  display: flex;
  justify-content: center;
  align-items: center;
  border-radius: 50%;
  background-color: #e9e4ed;
  color: #a9a9a9;
  transition: all 0.3s ease;
  margin-bottom: 5px;
}
.symbol-item.unlocked .symbol-icon {
  background-color: #ffeff7;
  color: #ff69b4;
  transform: scale(1.1);
  box-shadow: 0 4px 10px rgba(255, 105, 180, 0.3);
}
.symbol-name {
  font-size: 12px;
  color: #888;
  text-align: center;
}
.symbol-item.unlocked .symbol-name {
  color: #333;
  font-weight: 500;
}
.symbol-level {
  font-size: 10px;
  color: #aaa;
}

/* 隗｣髞∬ｮｰ蠖募玄蝓� */
#unlocked-symbols-record {
  display: flex;
  flex-direction: column;
  gap: 10px;
  max-height: 150px;
  overflow-y: auto;
  background-color: rgba(255, 255, 255, 0.5);
  padding: 10px;
  border-radius: 8px;
}
.record-item {
  font-size: 13px;
  color: #555;
}
.record-item .symbol {
  margin-right: 8px;
}
.record-item .date {
  float: right;
  color: #999;
  font-size: 12px;
}

/* 笆ｲ笆ｲ笆ｲ 譁ｰ蠅曚SS譬ｷ蠑冗ｻ捺據 笆ｲ笆ｲ笆ｲ */
/* 笆ｼ笆ｼ笆ｼ 縲仙�譁ｰ縲台ｺｲ蟇�ｼ蠕ｽ遶�邉ｻ扈� v2.1 (蟆ｺ蟇ｸ隹�紛迚�) CSS譬ｷ蠑� 笆ｼ笆ｼ笆ｼ */

/* 閨雁､ｩ蛻苓｡ｨ驥御ｽｩ謌ｴ逧�ｾｽ遶�蝗ｾ迚� - 蝓ｺ遑譬ｷ蠑� */
.intimacy-badge-display img {
  height: 1.1em; /* 鮟倩ｮ､螟ｧ蟆擾ｼ碁ら畑莠寂懈弌蜈蛾略辜≫晏柱窶懃Ο諠�ｦら↓窶� */
  vertical-align: middle;
  margin-left: 5px;
}

/* 笘��笘� 霑吝ｰｱ譏ｯ謌台ｻｬ譛ｬ谺｡譁ｰ蠅樒噪譬ｸ蠢�ｻ｣遐� 笘��笘� */
/* 荳ｺ髴隕∫ｼｩ蟆冗噪蠕ｽ遶�隶ｾ鄂ｮ荳荳ｪ譖ｴ蟆冗噪鬮伜ｺｦ */
.intimacy-badge-display img.first_heartbeat,
.intimacy-badge-display img.only_crown,
.intimacy-badge-display img.eternal_diamond {
  height: 0.9em; /* 菴�蜿ｯ莉･隹�紛霑吩ｸｪ蛟ｼ�梧ｯ泌ｦ� 0.95em 謌� 1em */
}
/* 笘��笘� 譁ｰ蠅樔ｻ｣遐∫ｻ捺據 笘��笘� */

/* 莠ｲ蟇�ｼ髱｢譚ｿ - 蠕ｽ遶�蛻苓｡ｨ螳ｹ蝎ｨ */
#symbol-list-container {
  display: flex;
  flex-wrap: wrap;
  gap: 15px;
  justify-content: center;
}

/* 莠ｲ蟇�ｼ髱｢譚ｿ - 蜊穂ｸｪ蠕ｽ遶�鬘ｹ逶ｮ */
.symbol-item {
  display: flex;
  flex-direction: column;
  align-items: center;
  width: 60px;
  cursor: pointer;
  transition: transform 0.2s ease;
}
.symbol-item:hover {
  transform: translateY(-3px);
}

/* 莠ｲ蟇�ｼ髱｢譚ｿ - 蠕ｽ遶�蝗ｾ譬�ｮｹ蝎ｨ */
.symbol-icon {
  width: 50px;
  height: 50px;
  display: flex;
  justify-content: center;
  align-items: center;
  border-radius: 50%;
  background-color: #e9e4ed;
  border: 2px solid transparent;
  transition: all 0.3s ease;
  margin-bottom: 5px;
  overflow: hidden;
}
.symbol-icon img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}
.symbol-icon.not-unlocked img {
  filter: grayscale(1);
  opacity: 0.6;
}

/* 隗｣髞∝錘逧�ｾｽ遶�譬ｷ蠑� */
.symbol-item.unlocked .symbol-icon {
  background-color: #ffeff7;
  transform: scale(1.1);
  box-shadow: 0 4px 10px rgba(255, 105, 180, 0.3);
}
.symbol-item.unlocked .symbol-icon img {
  filter: grayscale(0);
  opacity: 1;
}

/* 陲ｫ菴ｩ謌ｴ逧�ｾｽ遶�逧�音谿頑�ｷ蠑� */
.symbol-item.selected .symbol-icon {
  border-color: #ff69b4;
  box-shadow: 0 0 15px rgba(255, 105, 180, 0.7);
}

/* 蠕ｽ遶�蜷咲ｧｰ */
.symbol-name {
  font-size: 12px;
  color: #888;
  text-align: center;
}
.symbol-item.unlocked .symbol-name {
  color: #333;
  font-weight: 500;
}

/* 隗｣髞∫ｭ臥ｺｧ */
.symbol-level {
  font-size: 10px;
  color: #aaa;
}

/* "荳堺ｽｩ謌ｴ" 謖蛾聴逧�音谿頑�ｷ蠑� */
.symbol-icon.no-badge {
  font-size: 32px;
  background: #ddd;
  color: #fff;
}
/* 笆ｲ笆ｲ笆ｲ 譁ｰ蠅曚SS譬ｷ蠑冗ｻ捺據 笆ｲ笆ｲ笆ｲ */
/* 隶ｩ窶憺･ｿ莠�ｹ遺晉噪鄒朱｣溷今迚�惠鮠�譬�ぎ豬ｮ譌ｶ譛我ｺ､莠呈譜譫� */
.eleme-food-card {
  cursor: pointer;
  transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
}

.eleme-food-card:hover {
  transform: translateY(-4px);
  box-shadow: 0 6px 12px rgba(0, 0, 0, 0.1);
}
/* 笆ｼ笆ｼ笆ｼ 蝨ｨ <style> 譬�ｭｾ蜀�ｲ倩ｴｴ 笆ｼ笆ｼ笆ｼ */

/* 霑呎弍螟門獄蜊｡迚�ｸ灘ｱ樒噪騾乗�豌疲ｳ｡譬ｷ蠑� */
.message-bubble.is-waimai-gift-from-char {
  background-color: transparent !important;
  padding: 0 !important;
  box-shadow: none !important;
  max-width: 250px; /* 隶ｩ蜊｡迚�ｮｽ蠎ｦ騾ゆｸｭ */
}

/* 笆ｲ笆ｲ笆ｲ 邊倩ｴｴ扈捺據 笆ｲ笆ｲ笆ｲ */
/* 霑呎弍荳ｺ蠑よｭ･蜉�霓ｽ蝗ｾ迚�眠蠅樒噪螳ｹ蝎ｨ譬ｷ蠑� */
.product-card .product-image-container {
  width: 100%;
  /* 謌台ｻｬ隶ｩ鬮伜ｺｦ遲我ｺ主ｮｽ蠎ｦ�悟ｮ樒鴫1:1逧�ｭ｣譁ｹ蠖｢豈比ｾ� */
  padding-bottom: 100%;
  position: relative;
  background-color: #f0f2f5; /* 蜉�霓ｽ譌ｶ逧�頃菴崎レ譎ｯ濶ｲ */
  border-radius: 8px 8px 0 0;
  overflow: hidden;
  display: flex;
  justify-content: center;
  align-items: center;
}

/* 蜉�霓ｽ蜉ｨ逕ｻ譬ｷ蠑� (菴�蜿ｯ莉･螟咲畑蜈ｶ莉門慍譁ｹ逧�) */
.product-card .loading-spinner {
  width: 24px;
  height: 24px;
  border: 3px solid rgba(0, 0, 0, 0.1);
  border-top-color: var(--accent-color, #007bff);
  border-radius: 50%;
  animation: spin 1s linear infinite;
}

/* 遑ｮ菫晏崟迚��豁｣遑ｮ蝪ｫ蜈�ｮｹ蝎ｨ */
.product-card .product-image-container img {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  object-fit: cover;
}

/* 笆ｼ笆ｼ笆ｼ 縲占｡ｨ諠�桁逋ｽ蠎�/霎ｹ譯�ｻ域栫菫ｮ螟阪題ｯｷ蟆�ｿ吝摎莉｣遐∫ｲ倩ｴｴ蛻ｰ譬ｷ蠑乗忰蟆ｾ 笆ｼ笆ｼ笆ｼ */

/* 
  譬ｸ蠢�次逅�ｼ�
  霑吩ｸｪ騾画叫蝎ｨ髱槫ｸｸ邊ｾ遑ｮ蝨ｰ謖�髄莠�應ｽ應ｸｺ陦ｨ諠�桁逧�ｰ疲ｳ｡窶晏�驛ｨ逧�懷�螳ｹ蛹ｺ蝓溪晢ｼ�
  蟷ｶ逕ｨ !important 蠑ｺ蛻ｶ隕�尠謗画園譛牙庄閭ｽ逧�ｸｻ鬚俶�ｷ蠑擾ｼ瑚ｮｩ螳�ｽｻ蠎補懈ｶ亥､ｱ窶昴�
*/
.message-bubble.is-sticker .content {
  padding: 0 !important; /* 蠑ｺ蛻ｶ遘ｻ髯､蜀�ｾｹ霍� */
  background: transparent !important; /* 蠑ｺ蛻ｶ遘ｻ髯､閭梧勹 */
  border: none !important; /* 蠑ｺ蛻ｶ遘ｻ髯､霎ｹ譯� */
  box-shadow: none !important; /* 蠑ｺ蛻ｶ遘ｻ髯､髦ｴ蠖ｱ */
}

/* 笆ｲ笆ｲ笆ｲ 菫ｮ螟咲ｻ捺據 笆ｲ笆ｲ笆ｲ */
/* 螟門獄蜊｡迚�､�ｳｨ譬ｷ蠑� */
.waimai-remark {
  margin-top: 12px;
  padding-top: 8px;
  border-top: 1px dashed rgba(0, 0, 0, 0.1);
  font-size: 13px;
  text-align: left;
}
.waimai-remark .remark-label {
  font-weight: 600;
  color: #007bff; /* 鬣ｿ莠�ｹ郁統 */
  margin-right: 5px;
}
.waimai-remark .remark-text {
  color: #333;
}
/* 笆ｼ笆ｼ笆ｼ 霑呎弍荳ｺ窶憺ｦ夜｡ｵ窶晄頗邏｢譬乗眠蠅樒噪鄒主喧莉｣遐� 笆ｼ笆ｼ笆ｼ */

/* 1. 謚企ｦ夜｡ｵ逧�頗邏｢譬丞ｮｹ蝎ｨ蜿俶�荳荳ｪ蝨�ｶｦ逧�區濶ｲ窶懆Ω蝗岩� */
#products-view .taobao-search-bar {
  display: flex;
  align-items: center;
  gap: 8px;
  background-color: white;
  padding: 6px 8px;
  border-radius: 25px; /* 螟ｧ蝨�ｧ抵ｼ悟ｽ｢謌占Ω蝗雁ｽ｢迥ｶ */
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08); /* 蜉�荳轤ｹ豺｡豺｡逧�亢蠖ｱ */
  /* 遘ｻ髯､譌ｧ逧�ｾｹ譯�柱蜀�ｾｹ霍晢ｼ御ｻ･譁ｰ譬ｷ蠑丈ｸｺ蜃� */
  border: none;
  margin-bottom: 15px; /* 蜥御ｸ区婿逧��邀ｻ菫晄戟荳轤ｹ霍晉ｦｻ */
}

/* 2. 鄒主喧鬥夜｡ｵ逧�ｾ灘�譯�ｼ瑚ｮｩ螳�懆檮蜈･窶晉區濶ｲ閭ｶ蝗願レ譎ｯ */
#products-view #product-search-input {
  flex-grow: 1; /* 蜊�謐ｮ謇譛牙庄逕ｨ遨ｺ髣ｴ */
  border: none; /* 蜴ｻ謗牙ｮ��蟾ｱ逧�ｾｹ譯� */
  background: transparent; /* 閭梧勹騾乗� */
  outline: none; /* 蜴ｻ謗臥せ蜃ｻ譌ｶ逧�ｽｮ蟒鍋ｺｿ */
  padding: 8px; /* 扈呎枚蟄嶺ｸ轤ｹ蜻ｼ蜷ｸ逧�ｩｺ髣ｴ */
  font-size: 15px;
  color: #333;
}

/* 3. 鄒主喧鬥夜｡ｵ逧�懈頗邏｢窶晄潔髓ｮ */
#products-view #product-search-btn {
  background-color: #ff5722; /* 豺伜ｮ晄ｩ呵牡 */
  color: white;
  border: none;
  border-radius: 18px; /* 隶ｩ謖蛾聴荵溷序蝨�ｶｦ */
  padding: 8px 15px;
  font-weight: 500;
  cursor: pointer;
}

/* 笆ｲ笆ｲ笆ｲ 邊倩ｴｴ蛻ｰ霑咎㈹扈捺據 笆ｲ笆ｲ笆ｲ */
/* 笆ｼ笆ｼ笆ｼ 霑呎弍荳ｺ窶憺･ｿ莠�ｹ遺晄頗邏｢譬乗眠蠅樒噪蟶�ｱ蜥檎ｾ主喧莉｣遐� 笆ｼ笆ｼ笆ｼ */

/* 1. 蟆�･ｿ莠�ｹ育噪謳懃ｴ｢諤ｻ螳ｹ蝎ｨ謾ｹ荳ｺ蝙ら峩謗貞��瑚ｮｩ荳､扈�潔髓ｮ荳贋ｸ句��匠 */
#eleme-view .taobao-search-bar {
  display: flex;
  flex-direction: column; /* 謾ｹ荳ｺ蝙ら峩謗貞� */
  gap: 12px; /* 隶ｾ鄂ｮ荳､陦御ｹ矩龍逧�桙逶ｴ髣ｴ霍� */
  background-color: transparent; /* 遘ｻ髯､螳ｹ蝎ｨ譛ｬ霄ｫ逧�レ譎ｯ蜥瑚ｾｹ譯� */
  padding: 0;
  box-shadow: none;
  border: none;
}

/* 2. 荳ｺ隨ｬ荳陦鯉ｼ域頗邏｢譯�+謳懃ｴ｢謖蛾聴�芽ｮｾ鄂ｮ蜥碁ｦ夜｡ｵ荳譬ｷ逧�懆Ω蝗岩晄�ｷ蠑� */
.eleme-search-group {
  display: flex;
  background-color: white;
  padding: 5px;
  border-radius: 25px; /* 蝨�ｶｦ逧�Ω蝗雁ｽ｢迥ｶ */
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
}

.eleme-search-group #eleme-search-input {
  flex-grow: 1;
  border: none;
  background: transparent;
  outline: none;
  padding: 8px;
  font-size: 15px;
}

.eleme-search-group #eleme-search-btn {
  background-color: #ff5722; /* 豺伜ｮ晄ｩ� */
  color: white;
  border: none;
  border-radius: 18px; /* 謖蛾聴荵溷序蝨�ｶｦ */
  padding: 8px 15px;
  font-weight: 500;
  cursor: pointer;
}

/* 3. 荳ｺ隨ｬ莠瑚｡鯉ｼ井ｸ我ｸｪ蜉溯�謖蛾聴�芽ｮｾ鄂ｮ蟶�ｱ�瑚ｮｩ螳�ｻｬ螻�ｸｭ蟷ｶ謗� */
.eleme-actions-group {
  display: flex; /* 菴ｿ逕ｨflex蟶�ｱ */
  justify-content: center; /* 謨ｴ菴灘ｱ�ｸｭ */
  gap: 10px; /* 謖蛾聴荵矩龍逧�龍霍� */
}

/* 4. 鄒主喧隨ｬ莠瑚｡檎噪荳我ｸｪ蜉溯�謖蛾聴 */
.eleme-actions-group button {
  flex: 1; /* 隶ｩ荳我ｸｪ謖蛾聴蟷ｳ蛻�ｮｽ蠎ｦ�梧賜蛻玲峩謨ｴ鮨� */
  padding: 10px; /* 蠅槫刈謖蛾聴逧�ｫ伜ｺｦ */
  border-radius: 12px; /* 蜿ｯ辷ｱ逧�怕隗� */
  border: 1px solid #e0e0e0;
  background-color: white;
  font-size: 16px;
  font-weight: 500;
  color: #555;
  cursor: pointer;
  transition: all 0.2s ease;
}

/* 荳ｺ謖蛾聴豺ｻ蜉�荳荳ｪ貍ゆｺｮ逧�せ蜃ｻ謨域棡 */
.eleme-actions-group button:active {
  transform: scale(0.95);
  background-color: #f0f0f0;
}

/* 騾る�螟憺龍讓｡蠑� */
#phone-screen.dark-mode .eleme-search-group {
  background-color: #2c2c2e;
}
#phone-screen.dark-mode .eleme-search-group #eleme-search-input {
  color: white;
}
#phone-screen.dark-mode .eleme-actions-group button {
  background-color: #2c2c2e;
  border-color: #38383a;
  color: white;
}

/* 笆ｲ笆ｲ笆ｲ 譁ｰ蠅樔ｻ｣遐∫ｻ捺據 笆ｲ笆ｲ笆ｲ */
/* 笆ｼ笆ｼ笆ｼ 霑呎弍荳ｺ菴�隶ｾ隶｡逧�憺･ｿ莠�ｹ遺晏粥閭ｽ謖蛾聴鄒主喧譬ｷ蠑� v3.0 (蟆丞ｷｧ迚�) 笆ｼ笆ｼ笆ｼ */

/* 1. 荳ｺ謖蛾聴逧�ｮｹ蝎ｨ蠅槫刈荳荳ｪ荳玖ｾｹ霍� */
.eleme-actions-group {
  margin-bottom: 15px;
}

/* 2. 驥肴眠螳壻ｹ画潔髓ｮ逧��ｷ蠑擾ｼ瑚ｮｩ螳�序蟆� */
.eleme-actions-group button {
  /* --- 譬ｸ蠢�ｿｮ謾ｹ蝨ｨ霑咎㈹ --- */
  width: 90px; /* 譁ｰ蠅橸ｼ夂ｻ呎潔髓ｮ荳荳ｪ蝗ｺ螳夂噪縲∝ｰ丞ｷｧ逧�ｮｽ蠎ｦ */
  padding: 6px 0; /* 菫ｮ謾ｹ�壼㍼蟆台ｺ�ｸ贋ｸ狗噪蜀�ｾｹ霍晢ｼ瑚ｮｩ謖蛾聴蜿倡洌 */
  font-size: 15px; /* 菫ｮ謾ｹ�夂ｨ榊ｾｮ郛ｩ蟆丞ｭ嶺ｽ� */

  background-color: transparent;
  border: 1.5px solid #ff9a69;
  color: #ff5722;
  border-radius: 20px;
  font-weight: 600;
  transition: all 0.2s ease;

  /* 遘ｻ髯､荵句燕隶ｩ謖蛾聴閾ｪ蜉ｨ諡我ｼｸ逧�ｱ樊ｧ */
  flex: none; /* 謌冶�峩謗･蛻�髯､ flex: 1 驍｣荳陦� */
}

/* 3. 蜊慕峡蠕ｮ隹� "+" 謖蛾聴�瑚ｮｩ螳�恚襍ｷ譚･譖ｴ闊呈恪 */
#eleme-add-manual-btn {
  font-size: 22px; /* 謚雁刈蜿ｷ譛ｬ霄ｫ謾ｾ螟ｧ荳轤ｹ�瑚ｧ�ｧ我ｸ頑峩蟷ｳ陦｡ */
  line-height: 1; /* 霎�勧蝙ら峩螻�ｸｭ */
}

/* 4. 莠､莠呈譜譫應ｿ晄戟荳榊序 */
.eleme-actions-group button:hover {
  background-color: #ff5722;
  color: white;
  border-color: #ff5722;
}

.eleme-actions-group button:active {
  transform: scale(0.96);
  opacity: 0.9;
}

/* 5. 騾る�螟憺龍讓｡蠑� */
#phone-screen.dark-mode .eleme-actions-group button {
  background-color: transparent;
  border-color: #ff9a69;
  color: #ff9a69;
}

#phone-screen.dark-mode .eleme-actions-group button:hover {
  background-color: #ff5722;
  color: white;
}

/* 笆ｲ笆ｲ笆ｲ 譁ｰ蠅樔ｻ｣遐∫ｻ捺據 笆ｲ笆ｲ笆ｲ */
/* 笆ｼ笆ｼ笆ｼ 逕ｨ霑呎紛蝮嶺ｻ｣遐�ｼ梧崛謐｢謗画園譛画立逧� waimai-meituan-card 蜥� waimai-gift-card 譬ｷ蠑� 笆ｼ笆ｼ笆ｼ */

/* ======================================= */
/* === 縲仙�譁ｰ | 扈滉ｸ鬟取�ｼ縲大､門獄蜊｡迚��ｷ蠑� === */
/* ======================================= */

/* 1. 蟆�ｸ､荳ｪ蜊｡迚�噪譬ｷ蠑丞粋蟷ｶ�檎｡ｮ菫晏ｮｽ蠎ｦ荳閾ｴ */
.waimai-meituan-card,
.waimai-gift-card {
  width: 240px; /* 扈滉ｸ螳ｽ蠎ｦ荳ｺ240px */
  border-radius: 12px;
  overflow: hidden;
  background-color: #fff;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
}

/* 2. 扈滉ｸ隶ｾ鄂ｮ螟ｴ驛ｨ逧��ｷ蠑擾ｼ育ｾ主屬鮟�ｼ�ｼ� */
.waimai-meituan-card .gift-card-header,
.waimai-gift-card .header {
  /* 蜈ｼ螳ｹ荳､遘堺ｸ榊酔逧�､ｴ驛ｨclass蜷� */
  background-color: #ffd100; /* 鄒主屬鮟� */
  color: #333333;
  padding: 10px 15px;
  display: flex;
  align-items: center;
  gap: 10px;
}

.waimai-meituan-card .gift-card-header .icon,
.waimai-gift-card .header .icon {
  font-size: 24px;
  line-height: 1;
}

/* 3. 縲先�ｸ蠢�ｿｮ螟阪題ｮｩ譬�｢伜庄莉･閾ｪ蜉ｨ謐｢陦� */
.waimai-meituan-card .gift-card-header .title,
.waimai-gift-card .header .title {
  font-weight: 600;
  font-size: 15px;
  flex-grow: 1; /* 蜈∬ｮｸ譬�｢伜頃謐ｮ蜑ｩ菴咏ｩｺ髣ｴ */
  min-width: 0; /* flex蟶�ｱ荳区困陦檎噪蜈ｳ髞ｮ */
  white-space: normal; /* 蜈∬ｮｸ謐｢陦� */
}

/* 4. 扈滉ｸ蜀�ｮｹ蛹ｺ蝓溽噪譬ｷ蠑� */
.waimai-meituan-card .gift-card-body,
.waimai-gift-card .body {
  padding: 15px;
}

.waimai-meituan-card .greeting,
.waimai-gift-card .body .food-name {
  font-weight: bold;
  font-size: 16px;
  color: #333;
  margin: 0 0 4px 0;
}

.waimai-meituan-card .gift-card-body p:not(.greeting),
.waimai-gift-card .body .restaurant {
  font-size: 13px;
  color: #888;
  margin: 0;
}

.waimai-meituan-card .waimai-remark,
.waimai-gift-card .footer {
  margin-top: 12px;
  padding-top: 8px;
  border-top: 1px dashed #e0e0e0;
  font-size: 13px;
  text-align: left;
  color: #555;
}
.waimai-meituan-card .waimai-remark .remark-label {
  font-weight: 600;
  color: #8a8a8a;
  margin-right: 5px;
}

/* 笆ｲ笆ｲ笆ｲ 譖ｿ謐｢扈捺據 笆ｲ笆ｲ笆ｲ */
/* 笆ｼ笆ｼ笆ｼ 縲仙�譁ｰ縲第ュ萓｣遨ｺ髣ｴ - 莉頑律雜ｳ霑ｹ譬ｷ蠑� 笆ｼ笆ｼ笆ｼ */

/* 逕滓�謖蛾聴逧�ｮｹ蝎ｨ */
.ls-activity-generate-container {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 80px 20px;
  text-align: center;
  color: var(--text-secondary);
}

.ls-activity-generate-container p {
  margin-bottom: 20px;
  font-size: 16px;
}

.ls-activity-generate-container .hint {
  font-size: 12px;
  color: #b0b0b0;
  margin-top: 10px;
}

#ls-generate-activity-btn {
  padding: 12px 24px;
  font-size: 16px;
  font-weight: bold;
  background-color: var(--accent-color);
  color: white;
  border: none;
  border-radius: 25px;
  cursor: pointer;
  box-shadow: 0 4px 10px rgba(0, 123, 255, 0.3);
  transition: all 0.2s ease;
}

#ls-generate-activity-btn:hover {
  transform: translateY(-2px);
  box-shadow: 0 6px 15px rgba(0, 123, 255, 0.4);
}

/* 豢ｻ蜉ｨ蛻苓｡ｨ譬ｷ蠑� */
#ls-activity-list {
  padding: 15px;
  display: flex;
  flex-direction: column;
  gap: 20px;
}

.ls-activity-item {
  display: flex;
  align-items: flex-start;
  gap: 15px;
}

.activity-icon {
  flex-shrink: 0;
  width: 40px;
  height: 40px;
  font-size: 20px;
  background-color: #f0f2f5;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
}

.activity-content {
  padding-top: 2px;
  border-bottom: 1px solid var(--border-color);
  padding-bottom: 20px;
  flex-grow: 1;
}

.ls-activity-item:last-child .activity-content {
  border-bottom: none;
}

.activity-time {
  font-weight: 600;
  color: var(--text-primary);
}

.activity-description {
  margin: 4px 0 0 0;
  color: var(--text-secondary);
  line-height: 1.5;
}

/* 笆ｲ笆ｲ笆ｲ 莉頑律雜ｳ霑ｹ譬ｷ蠑冗ｻ捺據 笆ｲ笆ｲ笆ｲ */
/* 笆ｼ笆ｼ笆ｼ 縲蝉ｼ伜喧迚医題ｿ呎弍豈乗律雜ｳ霑ｹ逧�Ω蝗頑ｰ疲ｳ｡譬ｷ蠑� 笆ｼ笆ｼ笆ｼ */

/* 蛻苓｡ｨ諤ｻ螳ｹ蝎ｨ譬ｷ蠑擾ｼ井ｿ晄戟荳榊序�� */
#ls-activity-list {
  padding: 15px;
  display: flex;
  flex-direction: column;
  gap: 12px;
}

/* 笆ｼ笆ｼ笆ｼ 霑呎弍縲千悉迺�ｴｨ諢滉ｿｮ螟咲沿縲醍噪閭ｶ蝗頑ｰ疲ｳ｡譬ｷ蠑� 笆ｼ笆ｼ笆ｼ */
.ls-activity-item {
  position: relative; /* 螳壻ｽ榊渕蜃�ｼ御ｿ晄戟荳榊序 */

  /* --- 譬ｸ蠢�ｿｮ謾ｹ�壼ｮ樒鴫邇ｻ迺�ｴｨ諢� --- */
  background-color: rgba(255, 255, 255, 0.15); /* 1. 蜊企乗�逧�區濶ｲ閭梧勹 */
  backdrop-filter: blur(10px) saturate(1.5); /* 2. 譬ｸ蠢�ｼ∵ｯ帷悉迺�ｨ｡邉頑譜譫懷ｹｶ蠅槫刈荳轤ｹ鬣ｱ蜥悟ｺｦ */
  -webkit-backdrop-filter: blur(10px) saturate(1.5); /* 蜈ｼ螳ｹ Safari 豬剰ｧ亥勣 */
  border: 1px solid rgba(255, 255, 255, 0.2); /* 3. 荳荳ｪ髱槫ｸｸ蠕ｮ螯咏噪莠ｮ濶ｲ霎ｹ譯�ｼ梧ｨ｡諡溽悉迺�ｾｹ郛� */
  /* --- 菫ｮ謾ｹ扈捺據 --- */

  border-radius: 50px; /* 閭ｶ蝗雁ｽ｢迥ｶ�御ｿ晄戟荳榊序 */
  padding: 12px 20px 12px 75px; /* 蜀�ｾｹ霍晢ｼ御ｿ晄戟荳榊序 */
  display: flex;
  align-items: center;
  gap: 12px;
  min-height: 38px;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1); /* 蜿ｯ莉･菫晉蕗荳荳ｪ譖ｴ譟泌柱逧�亢蠖ｱ */
}
/* 笆ｲ笆ｲ笆ｲ 譖ｿ謐｢扈捺據 笆ｲ笆ｲ笆ｲ */

/* 笘��笘� 譬ｸ蠢�ｿｮ謾ｹ 1�夊ｰ�紛譌ｶ髣ｴ謌ｳ逧�ｽ咲ｽｮ蜥悟､冶ｧ� 笘��笘� */
.ls-activity-item .activity-time {
  position: absolute;
  left: 20px; /* 霍晉ｦｻ蟾ｦ霎ｹ郛�20px */
  top: 13px; /* 霍晉ｦｻ鬘ｶ驛ｨ13px�御ｽｿ蜈ｶ蝨ｨ隗�ｧ我ｸ頑峩蜊剰ｰ� */
  /* 遘ｻ髯､莠� transform 蜥悟桙逶ｴ螻�ｸｭ逧�ｻ｣遐� */

  font-size: 18px;
  font-weight: 600;
  color: var(--text-primary);
  /* 遘ｻ髯､莠�レ譎ｯ濶ｲ�瑚ｮｩ螳�峩郤ｯ蜃 */
  padding: 0;
  background-color: transparent;
}

/* 笘��笘� 譬ｸ蠢�ｿｮ謾ｹ 2�夂｡ｮ菫� Emoji 蝗ｾ譬�悽霄ｫ豐｡譛芽レ譎ｯ 笘��笘� */
.ls-activity-item .activity-icon {
  font-size: 20px;
  background: none; /* 譏守｡ｮ隶ｾ鄂ｮ閭梧勹荳ｺ譌��碁亟豁｢諢丞､匁�ｷ蠑� */
}

/* 荳ｭ髣ｴ荳ｻ隕∝�螳ｹ逧�ｮｹ蝎ｨ�井ｿ晄戟荳榊序�� */
.ls-activity-item .activity-content {
  display: flex;
  flex-direction: column;
  justify-content: center;
  line-height: 1.4;
}

/* 謠剰ｿｰ譁�ｭ礼噪譬ｷ蠑擾ｼ井ｿ晄戟荳榊序�� */
.ls-activity-item .activity-description {
  margin: 0;
  color: var(--text-primary);
  font-size: 14px;
}

/* 譌ｶ髟ｿ譁�ｭ礼噪譬ｷ蠑擾ｼ井ｿ晄戟荳榊序�� */
.ls-activity-item .activity-duration {
  font-size: 12px;
  color: var(--text-secondary);
}

/* 笆ｲ笆ｲ笆ｲ 譬ｷ蠑乗崛謐｢扈捺據 笆ｲ笆ｲ笆ｲ */
/* 笆ｼ笆ｼ笆ｼ 縲仙�譁ｰ縲第ュ萓｣遨ｺ髣ｴ - 莉頑律雜ｳ霑ｹHTML蟆丞鴬蝨ｺ譬ｷ蠑� 笆ｼ笆ｼ笆ｼ */

/* 蟆丞鴬蝨ｺ蜊｡迚�噪騾夂畑螳ｹ蝎ｨ譬ｷ蠑� */
.ls-activity-snippet {
  width: 85%;
  max-width: 280px; /* 髯仙宛譛螟ｧ螳ｽ蠎ｦ�碁∩蜈榊惠螳ｽ螻丈ｸ雁､ｪ荳� */
  margin: 10px auto 25px auto; /* 荳贋ｸ玖ｾｹ霍晢ｼ悟ｷｦ蜿ｳ閾ｪ蜉ｨ螻�ｸｭ */
  padding: 15px;
  border-radius: 12px;
  background-color: #ffffff;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans',
    'Helvetica Neue', sans-serif;
  color: #333;
}

/* 逕ｵ蠖ｱ逾ｨ譬ｹ逧�ｸ灘ｱ樊�ｷ蠑� */
.movie-ticket {
  padding: 0;
  border: 1px dashed #ccc;
  position: relative;
}
.movie-ticket::before,
.movie-ticket::after {
  content: '';
  position: absolute;
  width: 20px;
  height: 20px;
  background-color: var(--secondary-bg, #f0f2f5); /* 遑ｮ菫晏柱閭梧勹濶ｲ荳閾ｴ */
  border-radius: 50%;
  border: 1px dashed #ccc;
}
.movie-ticket::before {
  top: 50%;
  left: -11px;
  transform: translateY(-50%);
}
.movie-ticket::after {
  top: 50%;
  right: -11px;
  transform: translateY(-50%);
}
.movie-ticket .ticket-header {
  background-color: #d82626;
  color: white;
  font-weight: bold;
  text-align: center;
  padding: 8px;
  border-top-left-radius: 11px;
  border-top-right-radius: 11px;
}
.movie-ticket .ticket-body {
  padding: 15px;
  text-align: center;
}
.movie-ticket .ticket-body h3 {
  margin: 0 0 8px 0;
  font-size: 18px;
}
.movie-ticket .ticket-body p {
  margin: 0;
  font-size: 13px;
  color: #555;
}

/* 雍ｭ迚ｩ蟆冗･ｨ/謾ｶ謐ｮ逧�ｸ灘ｱ樊�ｷ蠑� */
.receipt {
  padding: 10px;
  background-color: #fffaf0; /* 豺｡鮟�牡閭梧勹 */
  border: 1px solid #eee;
  font-family: 'Courier New', Courier, monospace; /* 菴ｿ逕ｨ遲牙ｮｽ蟄嶺ｽ難ｼ梧峩蜒丞ｰ冗･ｨ */
}
.receipt .receipt-header {
  text-align: center;
  font-weight: bold;
  padding-bottom: 8px;
  border-bottom: 1px dashed #ccc;
  margin-bottom: 8px;
}
.receipt ul {
  list-style: none;
  padding: 0;
  margin: 0;
}
.receipt ul li {
  display: flex;
  justify-content: space-between;
  font-size: 13px;
  line-height: 1.8;
}
.receipt .receipt-total {
  margin-top: 8px;
  padding-top: 8px;
  border-top: 1px dashed #ccc;
  display: flex;
  justify-content: space-between;
  font-size: 14px;
}

/* 笆ｲ笆ｲ笆ｲ 譬ｷ蠑乗ｷｻ蜉�扈捺據 笆ｲ笆ｲ笆ｲ */
/* 縲仙�譁ｰ縲第ｯ乗律雜ｳ霑ｹ - 鬘ｶ驛ｨ譬ｷ蠑� */
.ls-activity-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 10px 15px;
  background-color: rgba(255, 255, 255, 0.8);
  border-radius: 12px;
  margin: 10px;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
  backdrop-filter: blur(5px);
}

.ls-activity-date-display {
  font-size: 16px;
  font-weight: bold;
  color: var(--text-primary);
}

#ls-activity-calendar-icon {
  cursor: pointer;
  transition: transform 0.2s;
}
#ls-activity-calendar-icon:hover {
  transform: scale(1.1);
}

/* 縲仙�譁ｰ縲第ｯ乗律雜ｳ霑ｹ - 譌･蜴�ｼｹ遯嶺ｸ灘ｱ樊�ｷ蠑� */
.ls-calendar-day.has-activity {
  background-color: #fff0f5; /* 譛芽ｶｳ霑ｹ逧�律譛滂ｼ檎ｻ吩ｸ荳ｪ豺｡豺｡逧�ｲ芽牡閭梧勹 */
  border-radius: 8px;
  position: relative;
}
.activity-dot {
  font-size: 12px; /* 蜿ｯ辷ｱ逧�ｰ冗穐蜊ｰ �誓 */
  position: absolute;
  bottom: 2px;
  right: 4px;
  line-height: 1;
}
#character-chat-list.list-container {
  flex-grow: 1;      /* 隶ｩ螳�頃謐ｮ謇譛牙黄菴咏噪蝙ら峩遨ｺ髣ｴ */
  overflow-y: auto;  /* 蠖灘�螳ｹ雜��譌ｶ�瑚�蜉ｨ譏ｾ遉ｺ蝙ら峩貊壼勘譚｡ */
  min-height: 0;     /* 隗｣蜀ｳFlex蟶�ｱ荳狗噪貊壼勘蜈ｼ螳ｹ諤ｧ髣ｮ鬚假ｼ瑚ｿ呎弍霑呎ｬ｡菫ｮ螟肴怙蜈ｳ髞ｮ逧�ｸ陦鯉ｼ� */
  padding: 0;        /* 菫晄戟菴�逧��閨疲�ｷ蠑擾ｼ檎ｧｻ髯､蜀�ｾｹ霍� */
  background-color: var(--secondary-bg); /* 豺ｻ蜉�荳荳ｪ閭梧勹濶ｲ�御ｸ朱｡ｵ髱｢扈滉ｸ */
}

/* 螟憺龍讓｡蠑城る��檎｡ｮ菫晄ｻ壼勘蛹ｺ蝓溽噪閭梧勹濶ｲ蝨ｨ螟憺龍讓｡蠑丈ｸ倶ｹ滓ｭ｣遑ｮ */
#phone-screen.dark-mode #character-chat-list.list-container {
    background-color: #000000;
}

/* 笆ｼ笆ｼ笆ｼ 縲仙�譁ｰ縲台ｺｲ螻槫今蜉溯�譬ｷ蠑� 笆ｼ笆ｼ笆ｼ */

/* 莠ｲ螻槫今蛻苓｡ｨ鬘ｹ譬ｷ蠑� */
.family-card-item {
    background: white;
    border-radius: 12px;
    padding: 20px;
    cursor: pointer;
    transition: all 0.3s ease;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    position: relative;
    overflow: hidden;
}

.family-card-item:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
}

.family-card-item::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 8px;
}

.family-card-item-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 15px;
}

.family-card-item-name {
    font-size: 18px;
    font-weight: bold;
    color: #333;
}

.family-card-item-actions {
    display: flex;
    gap: 8px;
}

.family-card-item-action-btn {
    padding: 5px 12px;
    border: none;
    border-radius: 6px;
    font-size: 12px;
    cursor: pointer;
    transition: all 0.2s;
}

.family-card-item-action-btn.send {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
}

.family-card-item-action-btn.edit {
    background: #f0f0f0;
    color: #666;
}

.family-card-item-action-btn.delete {
    background: #ffebee;
    color: #f44336;
}

.family-card-item-action-btn:hover {
    transform: scale(1.05);
}

.family-card-item-details {
    display: flex;
    flex-direction: column;
    gap: 8px;
}

.family-card-item-detail {
    display: flex;
    justify-content: space-between;
    font-size: 14px;
    color: #666;
}

.family-card-item-detail-label {
    font-weight: 500;
}

.family-card-item-detail-value {
    color: #333;
}

/* 鬚懆牡騾画叫蝎ｨ譬ｷ蠑� */
.family-card-color-option {
    width: 60px;
    height: 40px;
    border-radius: 8px;
    cursor: pointer;
    transition: all 0.2s;
    border: 3px solid transparent;
}

.family-card-color-option:hover {
    transform: scale(1.1);
}

.family-card-color-option.selected {
    border-color: #333;
    transform: scale(1.15);
}

/* 莠ｲ螻槫今豸域�豌疲ｳ｡譬ｷ蠑� */
.family-card-message {
    background: white;
    border-radius: 12px;
    padding: 20px;
    box-shadow: 0 2px 12px rgba(0, 0, 0, 0.1);
    max-width: 280px;
}

.family-card-message-header {
    text-align: center;
    padding: 20px;
    border-radius: 12px;
    color: white;
    margin-bottom: 15px;
}

.family-card-message-title {
    font-size: 16px;
    font-weight: bold;
    margin-bottom: 8px;
}

.family-card-message-amount {
    font-size: 28px;
    font-weight: bold;
    margin: 10px 0;
}

.family-card-message-cycle {
    font-size: 14px;
    opacity: 0.9;
}

.family-card-message-note {
    padding: 12px;
    background: #f8f9fa;
    border-radius: 8px;
    font-size: 14px;
    color: #666;
    margin-top: 12px;
}

.family-card-message-status {
    text-align: center;
    margin-top: 15px;
    padding: 10px;
    border-radius: 8px;
    font-size: 14px;
    font-weight: 500;
}

.family-card-message-status.accepted {
    background: #e8f5e9;
    color: #4caf50;
}

.family-card-message-status.declined {
    background: #ffebee;
    color: #f44336;
}

.family-card-message-status.pending {
    background: #fff3e0;
    color: #ff9800;
}

.family-card-message-actions {
    display: flex;
    gap: 10px;
    margin-top: 15px;
}

.family-card-message-action-btn {
    flex: 1;
    padding: 12px;
    border: none;
    border-radius: 8px;
    font-size: 14px;
    font-weight: 500;
    cursor: pointer;
    transition: all 0.2s;
}

.family-card-message-action-btn.accept {
    background: linear-gradient(135deg, #4caf50 0%, #66bb6a 100%);
    color: white;
}

.family-card-message-action-btn.decline {
    background: #f5f5f5;
    color: #666;
}

.family-card-message-action-btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
}

/* 螟憺龍讓｡蠑城る� */
#phone-screen.dark-mode .family-card-item {
    background: #2c2c2e;
}

#phone-screen.dark-mode .family-card-item-name,
#phone-screen.dark-mode .family-card-item-detail-value {
    color: #f5f5f5;
}

#phone-screen.dark-mode .family-card-item-detail-label {
    color: #999;
}

#phone-screen.dark-mode .family-card-message {
    background: #2c2c2e;
}

#phone-screen.dark-mode .family-card-message-note {
    background: #1c1c1e;
    color: #999;
}

/* 笆ｲ笆ｲ笆ｲ 莠ｲ螻槫今蜉溯�譬ｷ蠑冗ｻ捺據 笆ｲ笆ｲ笆ｲ *//* 笆ｼ笆ｼ笆?閾ｪ螳壻ｹ牙ｰ冗ｻ�ｻｶ譬ｷ蠑� 笆ｼ笆ｼ笆?*/

/* 蟆冗ｻ�ｻｶ邀ｻ蝙矩画叫蝎?*/
.widget-type-selector {
  display: flex;
  gap: 15px;
  justify-content: space-around;
  margin-top: 10px;
}

.widget-type-card {
  flex: 1;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 10px;
  padding: 15px;
  background: var(--bg-secondary);
  border-radius: 12px;
  cursor: pointer;
  transition: all 0.3s;
  border: 2px solid transparent;
}

.widget-type-card:hover {
  transform: translateY(-3px);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
}

.widget-type-card.selected {
  border-color: var(--accent-color);
  background: linear-gradient(135deg, rgba(var(--accent-color-rgb), 0.1), rgba(var(--accent-color-rgb), 0.05));
}

.widget-type-card span {
  font-size: 13px;
  font-weight: 500;
  color: var(--text-primary);
  text-align: center;
}

/* 蟆冗ｻ�ｻｶ鬚�ｧ?*/
.widget-preview {
  display: flex;
  align-items: center;
  justify-content: center;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
}

.dynamic-island-preview {
  width: 80px;
  height: 30px;
  border-radius: 20px;
}

.square-preview {
  width: 60px;
  height: 60px;
  border-radius: 12px;
}

.circle-preview {
  width: 60px;
  height: 60px;
  border-radius: 50%;
}

/* 蟆冗ｻ�ｻｶ蛻苓｡ｨ鬘ｹ */
.custom-widget-item {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 12px;
  background: var(--bg-primary);
  border-radius: 8px;
  margin-bottom: 8px;
  transition: background 0.2s;
}

.custom-widget-item:hover {
  background: rgba(var(--accent-color-rgb, 0, 122, 255), 0.05);
}

.custom-widget-item:last-child {
  margin-bottom: 0;
}

.custom-widget-info {
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: 4px;
}

.custom-widget-name {
  font-weight: 500;
  color: var(--text-primary);
  font-size: 14px;
}

.custom-widget-details {
  font-size: 12px;
  color: var(--text-secondary);
}

.custom-widget-actions {
  display: flex;
  gap: 8px;
}

.custom-widget-action-btn {
  padding: 6px 12px;
  border-radius: 6px;
  border: none;
  font-size: 12px;
  cursor: pointer;
  transition: all 0.2s;
  background: var(--bg-secondary);
  color: var(--text-primary);
}

.custom-widget-action-btn:hover {
  transform: scale(1.05);
  background: var(--accent-color);
  color: white;
}

.custom-widget-action-btn.delete {
  background: #ffdddd;
  color: #ff3b30;
}

.custom-widget-action-btn.delete:hover {
  background: #ff3b30;
  color: white;
}

/* 蟆ｺ蟇ｸ騾画叫蝎?*/
.widget-size-selector {
  margin-top: 10px;
}

.size-presets {
  display: flex;
  gap: 10px;
  flex-wrap: wrap;
}

.size-preset-btn {
  flex: 1;
  min-width: 100px;
  padding: 10px 15px;
  border-radius: 8px;
  border: 2px solid var(--border-color);
  background: var(--bg-secondary);
  color: var(--text-primary);
  font-size: 13px;
  cursor: pointer;
  transition: all 0.2s;
}

.size-preset-btn:hover {
  border-color: var(--accent-color);
  background: rgba(var(--accent-color-rgb, 0, 122, 255), 0.1);
}

.size-preset-btn.selected {
  border-color: var(--accent-color);
  background: var(--accent-color);
  color: white;
}

/* 荳ｻ螻丞ｹ穂ｸ顔噪閾ｪ螳壻ｹ牙ｰ冗ｻ�ｻ?*/
.custom-home-widget {
  position: absolute;
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
  cursor: pointer;
  transition: all 0.3s;
  overflow: hidden;
  display: flex;
  align-items: center;
  justify-content: center;
}

.custom-home-widget:hover {
  transform: scale(1.05);
  z-index: 10;
}

.custom-home-widget.dragging {
  opacity: 0.7;
  cursor: move;
  z-index: 100;
}

/* 荳榊酔邀ｻ蝙句ｰ冗ｻ�ｻｶ逧�ｻ倩ｮ､譬ｷ蠑� */
.custom-home-widget.dynamic-island {
  border-radius: 999px;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
}

.custom-home-widget.square {
  border-radius: 16px;
  background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
}

.custom-home-widget.circle {
  border-radius: 50%;
  background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
}

/* 蟆冗ｻ�ｻｶ郛冶ｾ第ｨ｡蠑?*/
.widget-placement-mode #home-screen {
  cursor: crosshair;
}

.widget-placement-mode .home-page {
  position: relative;
}

/* 蜿ｯ隗�喧謾ｾ鄂ｮ譌ｶ逧�署遉ｺ譯� */
.widget-placement-hint {
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  background: rgba(0, 0, 0, 0.85);
  color: white;
  padding: 20px 30px;
  border-radius: 12px;
  font-size: 14px;
  text-align: center;
  z-index: 9999;
  pointer-events: none;
  animation: fadeIn 0.3s;
}

@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translate(-50%, -50%) scale(0.9);
  }
  to {
    opacity: 1;
    transform: translate(-50%, -50%) scale(1);
  }
}

/* 蟆冗ｻ�ｻｶ鬚�ｧ亥�譬?*/
.widget-cursor-preview {
  position: fixed;
  pointer-events: none;
  z-index: 9998;
  opacity: 0.6;
  transform: translate(-50%, -50%);
}

/* 蜩榊ｺ泌ｼ丞ｸ�ｱ */
@media (max-width: 600px) {
  .widget-type-selector {
    flex-direction: column;
  }
  
  .size-presets {
    flex-direction: column;
  }
  
  .size-preset-btn {
    width: 100%;
  }
}

/* 證苓牡讓｡蠑城る� */
#phone-screen.dark-mode .widget-type-card {
  background: #2c2c2e;
}

#phone-screen.dark-mode .widget-type-card:hover {
  background: #3a3a3c;
}

#phone-screen.dark-mode .custom-widget-item {
  background: #1c1c1e;
}

#phone-screen.dark-mode .custom-widget-item:hover {
  background: #2c2c2e;
}

#phone-screen.dark-mode .size-preset-btn {
  background: #2c2c2e;
  border-color: #3a3a3c;
}

#phone-screen.dark-mode .size-preset-btn:hover {
  background: #3a3a3c;
}

/* 笆ｲ笆ｲ笆?閾ｪ螳壻ｹ牙ｰ冗ｻ�ｻｶ譬ｷ蠑冗ｻ捺據 笆ｲ笆ｲ笆?*/

/* ▼▼▼ 消息存放功能样式 ▼▼▼ */

/* 存储位卡片hover效果 */
.storage-slot-card:hover {
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
  border-color: #ff6b9d !important;
  transform: translateY(-2px);
}

/* 消息输入框样式优化 */
.message-textarea:focus {
  outline: none;
  border-color: #ff6b9d;
  box-shadow: 0 0 0 2px rgba(255, 107, 157, 0.1);
}

/* 按钮hover效果 */
.edit-slot-btn:hover {
  background: #2196f3 !important;
  color: white !important;
}

.delete-slot-btn:hover {
  background: #f44336 !important;
  color: white !important;
}

.send-slot-btn:hover {
  transform: scale(1.02);
  box-shadow: 0 4px 12px rgba(76, 175, 80, 0.3);
}

/* 上移下移按钮hover效果 */
.move-up-btn:hover:not([disabled]),
.move-down-btn:hover:not([disabled]) {
  background: #e0e0e0 !important;
}

.move-up-btn:disabled,
.move-down-btn:disabled {
  opacity: 0.3;
  cursor: not-allowed;
}

.delete-message-btn:hover {
  background: #f44336 !important;
  color: white !important;
}

/* 添加消息按钮hover效果 */
#add-message-btn:hover {
  background: #e0e0e0 !important;
  border-color: #bbb !important;
}

/* 新增存储位按钮hover效果 */
#add-storage-slot-btn:hover {
  transform: scale(1.02);
  box-shadow: 0 4px 12px rgba(255, 107, 157, 0.3);
}

/* 保存按钮hover效果 */
#save-storage-slot-btn:hover {
  transform: scale(1.02);
  box-shadow: 0 4px 12px rgba(76, 175, 80, 0.3);
}

/* ▲▲▲ 消息存放功能样式结束 ▲▲▲ */

/* ▼▼▼ 删除记录按钮样式 ▼▼▼ */
#delete-messages-range-btn:hover {
  transform: scale(1.02);
  box-shadow: 0 4px 12px rgba(102, 126, 234, 0.4);
}

#delete-messages-range-btn:active {
  transform: scale(0.98);
}
/* ▲▲▲ 删除记录按钮样式结束 ▲▲▲ */
